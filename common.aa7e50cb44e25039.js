"use strict";(self.webpackChunksaiph=self.webpackChunksaiph||[]).push([[76],{9389:(E,f,c)=>{c.d(f,{f:()=>y});var s=c(467),_=c(4665),n=c(4262),h=c(2107),d=c(540);let y=(()=>{class i{constructor(o,t,e){this.auth=o,this.firestore=t,this.storage=e}login(o,t){var e=this;return(0,s.A)(function*(){try{return(yield(0,_.x9)(e.auth,o,t)).user}catch(r){throw console.error("Error en login:",r),r}})()}logout(){var o=this;return(0,s.A)(function*(){try{yield(0,_.CI)(o.auth)}catch(t){throw console.error("Error en logout:",t),t}})()}getCurrentUser(){return this.auth.currentUser}addDocument(o,t){var e=this;return(0,s.A)(function*(){try{return(yield(0,n.gS)((0,n.rJ)(e.firestore,o),t)).id}catch(r){throw console.error("Error agregando documento:",r),r}})()}getDocuments(o){var t=this;return(0,s.A)(function*(){try{return(yield(0,n.GG)((0,n.rJ)(t.firestore,o))).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error obteniendo documentos:",e),e}})()}updateDocument(o,t,e){var r=this;return(0,s.A)(function*(){try{const a=(0,n.H9)(r.firestore,o,t);yield(0,n.mZ)(a,e)}catch(a){throw console.error("Error actualizando documento:",a),a}})()}deleteDocument(o,t){var e=this;return(0,s.A)(function*(){try{const r=(0,n.H9)(e.firestore,o,t);yield(0,n.kd)(r)}catch(r){throw console.error("Error eliminando documento:",r),r}})()}queryDocuments(o,t,e,r){var a=this;return(0,s.A)(function*(){try{const u=(0,n.P)((0,n.rJ)(a.firestore,o),(0,n._M)(t,e,r));return(yield(0,n.GG)(u)).docs.map(l=>({id:l.id,...l.data()}))}catch(u){throw console.error("Error en query:",u),u}})()}uploadFile(o,t){var e=this;return(0,s.A)(function*(){try{const r=(0,h.KR)(e.storage,o),a=yield(0,h.D)(r,t);return yield(0,h.qk)(a.ref)}catch(r){throw console.error("Error subiendo archivo:",r),r}})()}static{this.\u0275fac=function(t){return new(t||i)(d.KVO(_.Nj),d.KVO(n._7),d.KVO(h.wc))}}static{this.\u0275prov=d.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})()}}]);