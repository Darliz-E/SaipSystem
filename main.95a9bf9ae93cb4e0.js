"use strict";(self.webpackChunksaiph=self.webpackChunksaiph||[]).push([[792],{1076:(Xt,nt,X)=>{X.d(nt,{Am:()=>Ct,FA:()=>Pe,Fy:()=>At,I9:()=>un,Im:()=>Lr,Ku:()=>Be,T9:()=>ze,Tj:()=>An,Uj:()=>We,XA:()=>st,ZQ:()=>Mt,bD:()=>Tn,c1:()=>kr,cY:()=>Qe,eX:()=>se,g:()=>Ie,hp:()=>En,jZ:()=>_t,lT:()=>ft,lV:()=>ye,nr:()=>wt,sr:()=>ot,tD:()=>kn,u:()=>oe,yU:()=>Yn,zW:()=>we});const Ve=function(j){const k=[];let z=0;for(let ue=0;ue<j.length;ue++){let ce=j.charCodeAt(ue);ce<128?k[z++]=ce:ce<2048?(k[z++]=ce>>6|192,k[z++]=63&ce|128):55296==(64512&ce)&&ue+1<j.length&&56320==(64512&j.charCodeAt(ue+1))?(ce=65536+((1023&ce)<<10)+(1023&j.charCodeAt(++ue)),k[z++]=ce>>18|240,k[z++]=ce>>12&63|128,k[z++]=ce>>6&63|128,k[z++]=63&ce|128):(k[z++]=ce>>12|224,k[z++]=ce>>6&63|128,k[z++]=63&ce|128)}return k},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,k){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=k?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[];for(let ce=0;ce<j.length;ce+=3){const Ge=j[ce],It=ce+1<j.length,bt=It?j[ce+1]:0,en=ce+2<j.length,tn=en?j[ce+2]:0;let Xr=(15&bt)<<2|tn>>6,_r=63&tn;en||(_r=64,It||(Xr=64)),ue.push(z[Ge>>2],z[(3&Ge)<<4|bt>>4],z[Xr],z[_r])}return ue.join("")},encodeString(j,k){return this.HAS_NATIVE_SUPPORT&&!k?btoa(j):this.encodeByteArray(Ve(j),k)},decodeString(j,k){return this.HAS_NATIVE_SUPPORT&&!k?atob(j):function(j){const k=[];let z=0,ue=0;for(;z<j.length;){const ce=j[z++];if(ce<128)k[ue++]=String.fromCharCode(ce);else if(ce>191&&ce<224){const Ge=j[z++];k[ue++]=String.fromCharCode((31&ce)<<6|63&Ge)}else if(ce>239&&ce<365){const en=((7&ce)<<18|(63&j[z++])<<12|(63&j[z++])<<6|63&j[z++])-65536;k[ue++]=String.fromCharCode(55296+(en>>10)),k[ue++]=String.fromCharCode(56320+(1023&en))}else{const Ge=j[z++],It=j[z++];k[ue++]=String.fromCharCode((15&ce)<<12|(63&Ge)<<6|63&It)}}return k.join("")}(this.decodeStringToByteArray(j,k))},decodeStringToByteArray(j,k){this.init_();const z=k?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[];for(let ce=0;ce<j.length;){const Ge=z[j.charAt(ce++)],bt=ce<j.length?z[j.charAt(ce)]:0;++ce;const tn=ce<j.length?z[j.charAt(ce)]:64;++ce;const Gt=ce<j.length?z[j.charAt(ce)]:64;if(++ce,null==Ge||null==bt||null==tn||null==Gt)throw new Ae;ue.push(Ge<<2|bt>>4),64!==tn&&(ue.push(bt<<4&240|tn>>2),64!==Gt&&ue.push(tn<<6&192|Gt))}return ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const We=function(j){return function(j){const k=Ve(j);return ie.encodeByteArray(k,!0)}(j).replace(/\./g,"")},oe=function(j){try{return ie.decodeString(j,!0)}catch(k){console.error("base64Decode failed: ",k)}return null},Kt=()=>{try{return function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const k=j&&oe(j[1]);return k&&JSON.parse(k)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},An=j=>{var k,z;return null===(z=null===(k=Kt())||void 0===k?void 0:k.emulatorHosts)||void 0===z?void 0:z[j]},Yn=j=>{const k=An(j);if(!k)return;const z=k.lastIndexOf(":");if(z<=0||z+1===k.length)throw new Error(`Invalid host ${k} with no separate hostname and port!`);const ue=parseInt(k.substring(z+1),10);return"["===k[0]?[k.substring(1,z-1),ue]:[k.substring(0,z),ue]},ze=()=>{var j;return null===(j=Kt())||void 0===j?void 0:j.config},st=j=>{var k;return null===(k=Kt())||void 0===k?void 0:k[`_${j}`]};class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((k,z)=>{this.resolve=k,this.reject=z})}wrapCallback(k){return(z,ue)=>{z?this.reject(z):this.resolve(ue),"function"==typeof k&&(this.promise.catch(()=>{}),1===k.length?k(z):k(z,ue))}}}function At(j,k){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ue=k||"demo-project",ce=j.iat||0,Ge=j.sub||j.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const It=Object.assign({iss:`https://securetoken.google.com/${ue}`,aud:ue,iat:ce,exp:ce+3600,auth_time:ce,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},j);return[We(JSON.stringify({alg:"none",type:"JWT"})),We(JSON.stringify(It)),""].join(".")}function Mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _t(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function kr(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function ot(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ft(){const j=Mt();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function wt(){return!function Xe(){var j;const k=null===(j=Kt())||void 0===j?void 0:j.forceEnvironment;if("node"===k)return!0;if("browser"===k)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function we(){try{return"object"==typeof indexedDB}catch{return!1}}function se(){return new Promise((j,k)=>{try{let z=!0;const ue="validate-browser-context-for-indexeddb-analytics-module",ce=self.indexedDB.open(ue);ce.onsuccess=()=>{ce.result.close(),z||self.indexedDB.deleteDatabase(ue),j(!0)},ce.onupgradeneeded=()=>{z=!1},ce.onerror=()=>{var Ge;k((null===(Ge=ce.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(z){k(z)}})}class Ie extends Error{constructor(k,z,ue){super(z),this.code=k,this.customData=ue,this.name="FirebaseError",Object.setPrototypeOf(this,Ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pe.prototype.create)}}class Pe{constructor(k,z,ue){this.service=k,this.serviceName=z,this.errors=ue}create(k,...z){const ue=z[0]||{},ce=`${this.service}/${k}`,Ge=this.errors[k],It=Ge?function et(j,k){return j.replace(ct,(z,ue)=>{const ce=k[ue];return null!=ce?String(ce):`<${ue}?>`})}(Ge,ue):"Error";return new Ie(ce,`${this.serviceName}: ${It} (${ce}).`,ue)}}const ct=/\{\$([^}]+)}/g;function Lr(j){for(const k in j)if(Object.prototype.hasOwnProperty.call(j,k))return!1;return!0}function Tn(j,k){if(j===k)return!0;const z=Object.keys(j),ue=Object.keys(k);for(const ce of z){if(!ue.includes(ce))return!1;const Ge=j[ce],It=k[ce];if(pt(Ge)&&pt(It)){if(!Tn(Ge,It))return!1}else if(Ge!==It)return!1}for(const ce of ue)if(!z.includes(ce))return!1;return!0}function pt(j){return null!==j&&"object"==typeof j}function Ct(j){const k=[];for(const[z,ue]of Object.entries(j))Array.isArray(ue)?ue.forEach(ce=>{k.push(encodeURIComponent(z)+"="+encodeURIComponent(ce))}):k.push(encodeURIComponent(z)+"="+encodeURIComponent(ue));return k.length?"&"+k.join("&"):""}function un(j){const k={};return j.replace(/^\?/,"").split("&").forEach(ue=>{if(ue){const[ce,Ge]=ue.split("=");k[decodeURIComponent(ce)]=decodeURIComponent(Ge)}}),k}function En(j){const k=j.indexOf("?");if(!k)return"";const z=j.indexOf("#",k);return j.substring(k,z>0?z:void 0)}function kn(j,k){const z=new er(j,k);return z.subscribe.bind(z)}class er{constructor(k,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{k(this)}).catch(ue=>{this.error(ue)})}next(k){this.forEachObserver(z=>{z.next(k)})}error(k){this.forEachObserver(z=>{z.error(k)}),this.close(k)}complete(){this.forEachObserver(k=>{k.complete()}),this.close()}subscribe(k,z,ue){let ce;if(void 0===k&&void 0===z&&void 0===ue)throw new Error("Missing Observer.");ce=function Li(j,k){if("object"!=typeof j||null===j)return!1;for(const z of k)if(z in j&&"function"==typeof j[z])return!0;return!1}(k,["next","error","complete"])?k:{next:k,error:z,complete:ue},void 0===ce.next&&(ce.next=mn),void 0===ce.error&&(ce.error=mn),void 0===ce.complete&&(ce.complete=mn);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ce.error(this.finalError):ce.complete()}catch{}}),this.observers.push(ce),Ge}unsubscribeOne(k){void 0===this.observers||void 0===this.observers[k]||(delete this.observers[k],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(k){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,k)}sendOne(k,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[k])try{z(this.observers[k])}catch(ue){typeof console<"u"&&console.error&&console.error(ue)}})}close(k){this.finalized||(this.finalized=!0,void 0!==k&&(this.finalError=k),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}function Be(j){return j&&j._delegate?j._delegate:j}},1599:(Xt,nt,X)=>{var R=X(345),fe=X(7440),$e=X(4665),Ve=X(4262),Z=X(2107),ie=X(6143),Ae=X(540);const We=[{path:"login",loadChildren:()=>Promise.all([X.e(664),X.e(76),X.e(698)]).then(X.bind(X,9698)).then(He=>He.LoginPageModule)},{path:"private",canActivate:[(He,ut)=>{const Dt=(0,Ae.WQX)(ie.Ix);return!!localStorage.getItem("currentUser")||(Dt.navigate(["/login"]),!1)}],loadChildren:()=>Promise.all([X.e(664),X.e(778)]).then(X.bind(X,6778)).then(He=>He.PrivateModule)},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login"}];let oe=(()=>{class He{static{this.\u0275fac=function(Ft){return new(Ft||He)}}static{this.\u0275mod=Ae.$C({type:He})}static{this.\u0275inj=Ae.G2t({imports:[ie.iI.forRoot(We),ie.iI]})}}return He})(),de=(()=>{class He{constructor(){this.title="saiph"}static{this.\u0275fac=function(Ft){return new(Ft||He)}}static{this.\u0275cmp=Ae.VBU({type:He,selectors:[["app-root"]],decls:1,vars:0,template:function(Ft,Kt){1&Ft&&Ae.nrm(0,"router-outlet")},dependencies:[ie.n3]})}}return He})();const Le_firebase={apiKey:"AIzaSyDL2WQAyMr4r-drxbPJ8UuHnZOdfue07YY",authDomain:"saiph-1de28.firebaseapp.com",projectId:"saiph-1de28",storageBucket:"saiph-1de28.firebasestorage.app",messagingSenderId:"63064187738",appId:"1:63064187738:web:0ff1964374aa21f857c963"};let at=(()=>{class He{static{this.\u0275fac=function(Ft){return new(Ft||He)}}static{this.\u0275mod=Ae.$C({type:He,bootstrap:[de]})}static{this.\u0275inj=Ae.G2t({imports:[R.Bb,oe,(0,fe.MW)(()=>(0,fe.Wp)(Le_firebase)),(0,$e._q)(()=>(0,$e.xI)()),(0,Ve.hV)(()=>(0,Ve.aU)()),(0,Z.Xm)(()=>(0,Z.c7)())]})}}return He})();R.sG().bootstrapModule(at).catch(He=>console.error(He))},4412:(Xt,nt,X)=>{X.d(nt,{t:()=>fe});var R=X(1413);class fe extends R.B{constructor(Ve){super(),this._value=Ve}get value(){return this.getValue()}_subscribe(Ve){const Z=super._subscribe(Ve);return!Z.closed&&Ve.next(this._value),Z}getValue(){const{hasError:Ve,thrownError:Z,_value:ie}=this;if(Ve)throw Z;return this._throwIfClosed(),ie}next(Ve){super.next(this._value=Ve)}}},1985:(Xt,nt,X)=>{X.d(nt,{c:()=>vt});var R=X(7707),fe=X(8359),$e=X(3494),Ve=X(1203),Z=X(1026),ie=X(8071),Ae=X(9786);let vt=(()=>{class Le{constructor(He){He&&(this._subscribe=He)}lift(He){const ut=new Le;return ut.source=this,ut.operator=He,ut}subscribe(He,ut,Dt){const Ft=function de(Le){return Le&&Le instanceof R.vU||function oe(Le){return Le&&(0,ie.T)(Le.next)&&(0,ie.T)(Le.error)&&(0,ie.T)(Le.complete)}(Le)&&(0,fe.Uv)(Le)}(He)?He:new R.Ms(He,ut,Dt);return(0,Ae.Y)(()=>{const{operator:Kt,source:An}=this;Ft.add(Kt?Kt.call(Ft,An):An?this._subscribe(Ft):this._trySubscribe(Ft))}),Ft}_trySubscribe(He){try{return this._subscribe(He)}catch(ut){He.error(ut)}}forEach(He,ut){return new(ut=We(ut))((Dt,Ft)=>{const Kt=new R.Ms({next:An=>{try{He(An)}catch(Yn){Ft(Yn),Kt.unsubscribe()}},error:Ft,complete:Dt});this.subscribe(Kt)})}_subscribe(He){var ut;return null===(ut=this.source)||void 0===ut?void 0:ut.subscribe(He)}[$e.s](){return this}pipe(...He){return(0,Ve.m)(He)(this)}toPromise(He){return new(He=We(He))((ut,Dt)=>{let Ft;this.subscribe(Kt=>Ft=Kt,Kt=>Dt(Kt),()=>ut(Ft))})}}return Le.create=at=>new Le(at),Le})();function We(Le){var at;return null!==(at=Le??Z.$.Promise)&&void 0!==at?at:Promise}},1413:(Xt,nt,X)=>{X.d(nt,{B:()=>Ae});var R=X(1985),fe=X(8359);const Ve=(0,X(1853).L)(We=>function(){We(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Z=X(7908),ie=X(9786);let Ae=(()=>{class We extends R.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Le=new vt(this,this);return Le.operator=de,Le}_throwIfClosed(){if(this.closed)throw new Ve}next(de){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Le of this.currentObservers)Le.next(de)}})}error(de){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Le}=this;for(;Le.length;)Le.shift().error(de)}})}complete(){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Le,isStopped:at,observers:He}=this;return Le||at?fe.Kn:(this.currentObservers=null,He.push(de),new fe.yU(()=>{this.currentObservers=null,(0,Z.o)(He,de)}))}_checkFinalizedStatuses(de){const{hasError:Le,thrownError:at,isStopped:He}=this;Le?de.error(at):He&&de.complete()}asObservable(){const de=new R.c;return de.source=this,de}}return We.create=(oe,de)=>new vt(oe,de),We})();class vt extends Ae{constructor(oe,de){super(),this.destination=oe,this.source=de}next(oe){var de,Le;null===(Le=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Le||Le.call(de,oe)}error(oe){var de,Le;null===(Le=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Le||Le.call(de,oe)}complete(){var oe,de;null===(de=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===de||de.call(oe)}_subscribe(oe){var de,Le;return null!==(Le=null===(de=this.source)||void 0===de?void 0:de.subscribe(oe))&&void 0!==Le?Le:fe.Kn}}},7707:(Xt,nt,X)=>{X.d(nt,{Ms:()=>Dt,vU:()=>Le});var R=X(8071),fe=X(8359),$e=X(1026),Ve=X(5334),Z=X(5343);const ie=We("C",void 0,void 0);function We(ze,st,Qe){return{kind:ze,value:st,error:Qe}}var oe=X(9270),de=X(9786);class Le extends fe.yU{constructor(st){super(),this.isStopped=!1,st?(this.destination=st,(0,fe.Uv)(st)&&st.add(this)):this.destination=Yn}static create(st,Qe,At){return new Dt(st,Qe,At)}next(st){this.isStopped?An(function vt(ze){return We("N",ze,void 0)}(st),this):this._next(st)}error(st){this.isStopped?An(function Ae(ze){return We("E",void 0,ze)}(st),this):(this.isStopped=!0,this._error(st))}complete(){this.isStopped?An(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(st){this.destination.next(st)}_error(st){try{this.destination.error(st)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function He(ze,st){return at.call(ze,st)}class ut{constructor(st){this.partialObserver=st}next(st){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(st)}catch(At){Ft(At)}}error(st){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(st)}catch(At){Ft(At)}else Ft(st)}complete(){const{partialObserver:st}=this;if(st.complete)try{st.complete()}catch(Qe){Ft(Qe)}}}class Dt extends Le{constructor(st,Qe,At){let Mt;if(super(),(0,R.T)(st)||!st)Mt={next:st??void 0,error:Qe??void 0,complete:At??void 0};else{let _t;this&&$e.$.useDeprecatedNextContext?(_t=Object.create(st),_t.unsubscribe=()=>this.unsubscribe(),Mt={next:st.next&&He(st.next,_t),error:st.error&&He(st.error,_t),complete:st.complete&&He(st.complete,_t)}):Mt=st}this.destination=new ut(Mt)}}function Ft(ze){$e.$.useDeprecatedSynchronousErrorHandling?(0,de.l)(ze):(0,Ve.m)(ze)}function An(ze,st){const{onStoppedNotification:Qe}=$e.$;Qe&&oe.f.setTimeout(()=>Qe(ze,st))}const Yn={closed:!0,next:Z.l,error:function Kt(ze){throw ze},complete:Z.l}},8359:(Xt,nt,X)=>{X.d(nt,{Kn:()=>ie,yU:()=>Z,Uv:()=>Ae});var R=X(8071);const $e=(0,X(1853).L)(We=>function(de){We(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Le,at)=>`${at+1}) ${Le.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var Ve=X(7908);class Z{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const He of de)He.remove(this);else de.remove(this);const{initialTeardown:Le}=this;if((0,R.T)(Le))try{Le()}catch(He){oe=He instanceof $e?He.errors:[He]}const{_finalizers:at}=this;if(at){this._finalizers=null;for(const He of at)try{vt(He)}catch(ut){oe=oe??[],ut instanceof $e?oe=[...oe,...ut.errors]:oe.push(ut)}}if(oe)throw new $e(oe)}}add(oe){var de;if(oe&&oe!==this)if(this.closed)vt(oe);else{if(oe instanceof Z){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(oe)}}_hasParent(oe){const{_parentage:de}=this;return de===oe||Array.isArray(de)&&de.includes(oe)}_addParent(oe){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(oe),de):de?[de,oe]:oe}_removeParent(oe){const{_parentage:de}=this;de===oe?this._parentage=null:Array.isArray(de)&&(0,Ve.o)(de,oe)}remove(oe){const{_finalizers:de}=this;de&&(0,Ve.o)(de,oe),oe instanceof Z&&oe._removeParent(this)}}Z.EMPTY=(()=>{const We=new Z;return We.closed=!0,We})();const ie=Z.EMPTY;function Ae(We){return We instanceof Z||We&&"closed"in We&&(0,R.T)(We.remove)&&(0,R.T)(We.add)&&(0,R.T)(We.unsubscribe)}function vt(We){(0,R.T)(We)?We():We.unsubscribe()}},1026:(Xt,nt,X)=>{X.d(nt,{$:()=>R});const R={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(Xt,nt,X)=>{X.d(nt,{w:()=>fe});const fe=new(X(1985).c)(Z=>Z.complete())},8455:(Xt,nt,X)=>{X.d(nt,{H:()=>st});var R=X(8750),fe=X(941),$e=X(6745),ie=X(1985),vt=X(4761),We=X(8071),oe=X(5225);function Le(Qe,At){if(!Qe)throw new Error("Iterable cannot be null");return new ie.c(Mt=>{(0,oe.N)(Mt,At,()=>{const _t=Qe[Symbol.asyncIterator]();(0,oe.N)(Mt,At,()=>{_t.next().then(Xe=>{Xe.done?Mt.complete():Mt.next(Xe.value)})},0,!0)})})}var at=X(5055),He=X(9858),ut=X(7441),Dt=X(5397),Ft=X(7953),Kt=X(591),An=X(5196);function st(Qe,At){return At?function ze(Qe,At){if(null!=Qe){if((0,at.l)(Qe))return function Ve(Qe,At){return(0,R.Tg)(Qe).pipe((0,$e._)(At),(0,fe.Q)(At))}(Qe,At);if((0,ut.X)(Qe))return function Ae(Qe,At){return new ie.c(Mt=>{let _t=0;return At.schedule(function(){_t===Qe.length?Mt.complete():(Mt.next(Qe[_t++]),Mt.closed||this.schedule())})})}(Qe,At);if((0,He.y)(Qe))return function Z(Qe,At){return(0,R.Tg)(Qe).pipe((0,$e._)(At),(0,fe.Q)(At))}(Qe,At);if((0,Ft.T)(Qe))return Le(Qe,At);if((0,Dt.x)(Qe))return function de(Qe,At){return new ie.c(Mt=>{let _t;return(0,oe.N)(Mt,At,()=>{_t=Qe[vt.l](),(0,oe.N)(Mt,At,()=>{let Xe,Vt;try{({value:Xe,done:Vt}=_t.next())}catch(Dn){return void Mt.error(Dn)}Vt?Mt.complete():Mt.next(Xe)},0,!0)}),()=>(0,We.T)(_t?.return)&&_t.return()})}(Qe,At);if((0,An.U)(Qe))return function Yn(Qe,At){return Le((0,An.C)(Qe),At)}(Qe,At)}throw(0,Kt.L)(Qe)}(Qe,At):(0,R.Tg)(Qe)}},8750:(Xt,nt,X)=>{X.d(nt,{Tg:()=>at});var R=X(1635),fe=X(7441),$e=X(9858),Ve=X(1985),Z=X(5055),ie=X(7953),Ae=X(591),vt=X(5397),We=X(5196),oe=X(8071),de=X(5334),Le=X(3494);function at(ze){if(ze instanceof Ve.c)return ze;if(null!=ze){if((0,Z.l)(ze))return function He(ze){return new Ve.c(st=>{const Qe=ze[Le.s]();if((0,oe.T)(Qe.subscribe))return Qe.subscribe(st);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,fe.X)(ze))return function ut(ze){return new Ve.c(st=>{for(let Qe=0;Qe<ze.length&&!st.closed;Qe++)st.next(ze[Qe]);st.complete()})}(ze);if((0,$e.y)(ze))return function Dt(ze){return new Ve.c(st=>{ze.then(Qe=>{st.closed||(st.next(Qe),st.complete())},Qe=>st.error(Qe)).then(null,de.m)})}(ze);if((0,ie.T)(ze))return Kt(ze);if((0,vt.x)(ze))return function Ft(ze){return new Ve.c(st=>{for(const Qe of ze)if(st.next(Qe),st.closed)return;st.complete()})}(ze);if((0,We.U)(ze))return function An(ze){return Kt((0,We.C)(ze))}(ze)}throw(0,Ae.L)(ze)}function Kt(ze){return new Ve.c(st=>{(function Yn(ze,st){var Qe,At,Mt,_t;return(0,R.sH)(this,void 0,void 0,function*(){try{for(Qe=(0,R.xN)(ze);!(At=yield Qe.next()).done;)if(st.next(At.value),st.closed)return}catch(Xe){Mt={error:Xe}}finally{try{At&&!At.done&&(_t=Qe.return)&&(yield _t.call(Qe))}finally{if(Mt)throw Mt.error}}st.complete()})})(ze,st).catch(Qe=>st.error(Qe))})}},7673:(Xt,nt,X)=>{X.d(nt,{of:()=>$e});var R=X(3794),fe=X(8455);function $e(...Ve){const Z=(0,R.lI)(Ve);return(0,fe.H)(Ve,Z)}},4360:(Xt,nt,X)=>{X.d(nt,{_:()=>fe});var R=X(7707);function fe(Ve,Z,ie,Ae,vt){return new $e(Ve,Z,ie,Ae,vt)}class $e extends R.vU{constructor(Z,ie,Ae,vt,We,oe){super(Z),this.onFinalize=We,this.shouldUnsubscribe=oe,this._next=ie?function(de){try{ie(de)}catch(Le){Z.error(Le)}}:super._next,this._error=vt?function(de){try{vt(de)}catch(Le){Z.error(Le)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(de){Z.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(Z=this.onFinalize)||void 0===Z||Z.call(this))}}}},6354:(Xt,nt,X)=>{X.d(nt,{T:()=>$e});var R=X(9974),fe=X(4360);function $e(Ve,Z){return(0,R.N)((ie,Ae)=>{let vt=0;ie.subscribe((0,fe._)(Ae,We=>{Ae.next(Ve.call(Z,We,vt++))}))})}},6365:(Xt,nt,X)=>{X.d(nt,{U:()=>$e});var R=X(1397),fe=X(3669);function $e(Ve=1/0){return(0,R.Z)(fe.D,Ve)}},1397:(Xt,nt,X)=>{X.d(nt,{Z:()=>vt});var R=X(6354),fe=X(8750),$e=X(9974),Ve=X(5225),Z=X(4360),Ae=X(8071);function vt(We,oe,de=1/0){return(0,Ae.T)(oe)?vt((Le,at)=>(0,R.T)((He,ut)=>oe(Le,He,at,ut))((0,fe.Tg)(We(Le,at))),de):("number"==typeof oe&&(de=oe),(0,$e.N)((Le,at)=>function ie(We,oe,de,Le,at,He,ut,Dt){const Ft=[];let Kt=0,An=0,Yn=!1;const ze=()=>{Yn&&!Ft.length&&!Kt&&oe.complete()},st=At=>Kt<Le?Qe(At):Ft.push(At),Qe=At=>{He&&oe.next(At),Kt++;let Mt=!1;(0,fe.Tg)(de(At,An++)).subscribe((0,Z._)(oe,_t=>{at?.(_t),He?st(_t):oe.next(_t)},()=>{Mt=!0},void 0,()=>{if(Mt)try{for(Kt--;Ft.length&&Kt<Le;){const _t=Ft.shift();ut?(0,Ve.N)(oe,ut,()=>Qe(_t)):Qe(_t)}ze()}catch(_t){oe.error(_t)}}))};return We.subscribe((0,Z._)(oe,st,()=>{Yn=!0,ze()})),()=>{Dt?.()}}(Le,at,We,de)))}},941:(Xt,nt,X)=>{X.d(nt,{Q:()=>Ve});var R=X(5225),fe=X(9974),$e=X(4360);function Ve(Z,ie=0){return(0,fe.N)((Ae,vt)=>{Ae.subscribe((0,$e._)(vt,We=>(0,R.N)(vt,Z,()=>vt.next(We),ie),()=>(0,R.N)(vt,Z,()=>vt.complete(),ie),We=>(0,R.N)(vt,Z,()=>vt.error(We),ie)))})}},6745:(Xt,nt,X)=>{X.d(nt,{_:()=>fe});var R=X(9974);function fe($e,Ve=0){return(0,R.N)((Z,ie)=>{ie.add($e.schedule(()=>Z.subscribe(ie),Ve))})}},5558:(Xt,nt,X)=>{X.d(nt,{n:()=>Ve});var R=X(8750),fe=X(9974),$e=X(4360);function Ve(Z,ie){return(0,fe.N)((Ae,vt)=>{let We=null,oe=0,de=!1;const Le=()=>de&&!We&&vt.complete();Ae.subscribe((0,$e._)(vt,at=>{We?.unsubscribe();let He=0;const ut=oe++;(0,R.Tg)(Z(at,ut)).subscribe(We=(0,$e._)(vt,Dt=>vt.next(ie?ie(at,Dt,ut,He++):Dt),()=>{We=null,Le()}))},()=>{de=!0,Le()}))})}},8141:(Xt,nt,X)=>{X.d(nt,{M:()=>Z});var R=X(8071),fe=X(9974),$e=X(4360),Ve=X(3669);function Z(ie,Ae,vt){const We=(0,R.T)(ie)||Ae||vt?{next:ie,error:Ae,complete:vt}:ie;return We?(0,fe.N)((oe,de)=>{var Le;null===(Le=We.subscribe)||void 0===Le||Le.call(We);let at=!0;oe.subscribe((0,$e._)(de,He=>{var ut;null===(ut=We.next)||void 0===ut||ut.call(We,He),de.next(He)},()=>{var He;at=!1,null===(He=We.complete)||void 0===He||He.call(We),de.complete()},He=>{var ut;at=!1,null===(ut=We.error)||void 0===ut||ut.call(We,He),de.error(He)},()=>{var He,ut;at&&(null===(He=We.unsubscribe)||void 0===He||He.call(We)),null===(ut=We.finalize)||void 0===ut||ut.call(We)}))}):Ve.D}},9270:(Xt,nt,X)=>{X.d(nt,{f:()=>R});const R={setTimeout(fe,$e,...Ve){const{delegate:Z}=R;return Z?.setTimeout?Z.setTimeout(fe,$e,...Ve):setTimeout(fe,$e,...Ve)},clearTimeout(fe){const{delegate:$e}=R;return($e?.clearTimeout||clearTimeout)(fe)},delegate:void 0}},4761:(Xt,nt,X)=>{X.d(nt,{l:()=>fe});const fe=function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Xt,nt,X)=>{X.d(nt,{s:()=>R});const R="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(Xt,nt,X)=>{X.d(nt,{R0:()=>ie,ms:()=>Ve,lI:()=>Z});var R=X(8071);function $e(Ae){return Ae[Ae.length-1]}function Ve(Ae){return(0,R.T)($e(Ae))?Ae.pop():void 0}function Z(Ae){return function fe(Ae){return Ae&&(0,R.T)(Ae.schedule)}($e(Ae))?Ae.pop():void 0}function ie(Ae,vt){return"number"==typeof $e(Ae)?Ae.pop():vt}},3073:(Xt,nt,X)=>{X.d(nt,{D:()=>Z});const{isArray:R}=Array,{getPrototypeOf:fe,prototype:$e,keys:Ve}=Object;function Z(Ae){if(1===Ae.length){const vt=Ae[0];if(R(vt))return{args:vt,keys:null};if(function ie(Ae){return Ae&&"object"==typeof Ae&&fe(Ae)===$e}(vt)){const We=Ve(vt);return{args:We.map(oe=>vt[oe]),keys:We}}}return{args:Ae,keys:null}}},7908:(Xt,nt,X)=>{function R(fe,$e){if(fe){const Ve=fe.indexOf($e);0<=Ve&&fe.splice(Ve,1)}}X.d(nt,{o:()=>R})},1853:(Xt,nt,X)=>{function R(fe){const Ve=fe(Z=>{Error.call(Z),Z.stack=(new Error).stack});return Ve.prototype=Object.create(Error.prototype),Ve.prototype.constructor=Ve,Ve}X.d(nt,{L:()=>R})},8496:(Xt,nt,X)=>{function R(fe,$e){return fe.reduce((Ve,Z,ie)=>(Ve[Z]=$e[ie],Ve),{})}X.d(nt,{e:()=>R})},9786:(Xt,nt,X)=>{X.d(nt,{Y:()=>$e,l:()=>Ve});var R=X(1026);let fe=null;function $e(Z){if(R.$.useDeprecatedSynchronousErrorHandling){const ie=!fe;if(ie&&(fe={errorThrown:!1,error:null}),Z(),ie){const{errorThrown:Ae,error:vt}=fe;if(fe=null,Ae)throw vt}}else Z()}function Ve(Z){R.$.useDeprecatedSynchronousErrorHandling&&fe&&(fe.errorThrown=!0,fe.error=Z)}},5225:(Xt,nt,X)=>{function R(fe,$e,Ve,Z=0,ie=!1){const Ae=$e.schedule(function(){Ve(),ie?fe.add(this.schedule(null,Z)):this.unsubscribe()},Z);if(fe.add(Ae),!ie)return Ae}X.d(nt,{N:()=>R})},3669:(Xt,nt,X)=>{function R(fe){return fe}X.d(nt,{D:()=>R})},7441:(Xt,nt,X)=>{X.d(nt,{X:()=>R});const R=fe=>fe&&"number"==typeof fe.length&&"function"!=typeof fe},7953:(Xt,nt,X)=>{X.d(nt,{T:()=>fe});var R=X(8071);function fe($e){return Symbol.asyncIterator&&(0,R.T)($e?.[Symbol.asyncIterator])}},8071:(Xt,nt,X)=>{function R(fe){return"function"==typeof fe}X.d(nt,{T:()=>R})},5055:(Xt,nt,X)=>{X.d(nt,{l:()=>$e});var R=X(3494),fe=X(8071);function $e(Ve){return(0,fe.T)(Ve[R.s])}},5397:(Xt,nt,X)=>{X.d(nt,{x:()=>$e});var R=X(4761),fe=X(8071);function $e(Ve){return(0,fe.T)(Ve?.[R.l])}},9858:(Xt,nt,X)=>{X.d(nt,{y:()=>fe});var R=X(8071);function fe($e){return(0,R.T)($e?.then)}},5196:(Xt,nt,X)=>{X.d(nt,{C:()=>$e,U:()=>Ve});var R=X(1635),fe=X(8071);function $e(Z){return(0,R.AQ)(this,arguments,function*(){const Ae=Z.getReader();try{for(;;){const{value:vt,done:We}=yield(0,R.N3)(Ae.read());if(We)return yield(0,R.N3)(void 0);yield yield(0,R.N3)(vt)}}finally{Ae.releaseLock()}})}function Ve(Z){return(0,fe.T)(Z?.getReader)}},9974:(Xt,nt,X)=>{X.d(nt,{N:()=>$e,S:()=>fe});var R=X(8071);function fe(Ve){return(0,R.T)(Ve?.lift)}function $e(Ve){return Z=>{if(fe(Z))return Z.lift(function(ie){try{return Ve(ie,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Xt,nt,X)=>{X.d(nt,{I:()=>Ve});var R=X(6354);const{isArray:fe}=Array;function Ve(Z){return(0,R.T)(ie=>function $e(Z,ie){return fe(ie)?Z(...ie):Z(ie)}(Z,ie))}},5343:(Xt,nt,X)=>{function R(){}X.d(nt,{l:()=>R})},1203:(Xt,nt,X)=>{X.d(nt,{F:()=>fe,m:()=>$e});var R=X(3669);function fe(...Ve){return $e(Ve)}function $e(Ve){return 0===Ve.length?R.D:1===Ve.length?Ve[0]:function(ie){return Ve.reduce((Ae,vt)=>vt(Ae),ie)}}},5334:(Xt,nt,X)=>{X.d(nt,{m:()=>$e});var R=X(1026),fe=X(9270);function $e(Ve){fe.f.setTimeout(()=>{const{onUnhandledError:Z}=R.$;if(!Z)throw Ve;Z(Ve)})}},591:(Xt,nt,X)=>{function R(fe){return new TypeError(`You provided ${null!==fe&&"object"==typeof fe?"an invalid object":`'${fe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}X.d(nt,{L:()=>R})},177:(Xt,nt,X)=>{X.d(nt,{AJ:()=>Bi,MD:()=>Ui,N0:()=>$i,PV:()=>vr,QT:()=>$e,Sm:()=>ut,Sq:()=>yr,VF:()=>Z,Vy:()=>nn,Xr:()=>hr,YU:()=>on,ZD:()=>Ve,_b:()=>Et,aZ:()=>Ft,bT:()=>ir,fw:()=>Dt,hb:()=>at,hj:()=>vt,qQ:()=>ie,vh:()=>Vs});var R=X(540);let fe=null;function $e(){return fe}function Ve(w){fe||(fe=w)}class Z{}const ie=new R.nKC("DocumentToken");let Ae=(()=>{class w{historyGo(P){throw new Error("Not implemented")}static{this.\u0275fac=function(V){return new(V||w)}}static{this.\u0275prov=R.jDH({token:w,factory:function(){return(0,R.WQX)(We)},providedIn:"platform"})}}return w})();const vt=new R.nKC("Location Initialized");let We=(()=>{class w extends Ae{constructor(){super(),this._doc=(0,R.WQX)(ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $e().getBaseHref(this._doc)}onPopState(P){const V=$e().getGlobalEventTarget(this._doc,"window");return V.addEventListener("popstate",P,!1),()=>V.removeEventListener("popstate",P)}onHashChange(P){const V=$e().getGlobalEventTarget(this._doc,"window");return V.addEventListener("hashchange",P,!1),()=>V.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,V,re){this._history.pushState(P,V,re)}replaceState(P,V,re){this._history.replaceState(P,V,re)}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}static{this.\u0275fac=function(V){return new(V||w)}}static{this.\u0275prov=R.jDH({token:w,factory:function(){return new w},providedIn:"platform"})}}return w})();function oe(w,B){if(0==w.length)return B;if(0==B.length)return w;let P=0;return w.endsWith("/")&&P++,B.startsWith("/")&&P++,2==P?w+B.substring(1):1==P?w+B:w+"/"+B}function de(w){const B=w.match(/#|\?|$/),P=B&&B.index||w.length;return w.slice(0,P-("/"===w[P-1]?1:0))+w.slice(P)}function Le(w){return w&&"?"!==w[0]?"?"+w:w}let at=(()=>{class w{historyGo(P){throw new Error("Not implemented")}static{this.\u0275fac=function(V){return new(V||w)}}static{this.\u0275prov=R.jDH({token:w,factory:function(){return(0,R.WQX)(ut)},providedIn:"root"})}}return w})();const He=new R.nKC("appBaseHref");let ut=(()=>{class w extends at{constructor(P,V){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=V??this._platformLocation.getBaseHrefFromDOM()??(0,R.WQX)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return oe(this._baseHref,P)}path(P=!1){const V=this._platformLocation.pathname+Le(this._platformLocation.search),re=this._platformLocation.hash;return re&&P?`${V}${re}`:V}pushState(P,V,re,Oe){const Ye=this.prepareExternalUrl(re+Le(Oe));this._platformLocation.pushState(P,V,Ye)}replaceState(P,V,re,Oe){const Ye=this.prepareExternalUrl(re+Le(Oe));this._platformLocation.replaceState(P,V,Ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static{this.\u0275fac=function(V){return new(V||w)(R.KVO(Ae),R.KVO(He,8))}}static{this.\u0275prov=R.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})(),Dt=(()=>{class w extends at{constructor(P,V){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=V&&(this._baseHref=V)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let V=this._platformLocation.hash;return null==V&&(V="#"),V.length>0?V.substring(1):V}prepareExternalUrl(P){const V=oe(this._baseHref,P);return V.length>0?"#"+V:V}pushState(P,V,re,Oe){let Ye=this.prepareExternalUrl(re+Le(Oe));0==Ye.length&&(Ye=this._platformLocation.pathname),this._platformLocation.pushState(P,V,Ye)}replaceState(P,V,re,Oe){let Ye=this.prepareExternalUrl(re+Le(Oe));0==Ye.length&&(Ye=this._platformLocation.pathname),this._platformLocation.replaceState(P,V,Ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static{this.\u0275fac=function(V){return new(V||w)(R.KVO(Ae),R.KVO(He,8))}}static{this.\u0275prov=R.jDH({token:w,factory:w.\u0275fac})}}return w})(),Ft=(()=>{class w{constructor(P){this._subject=new R.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const V=this._locationStrategy.getBaseHref();this._basePath=function ze(w){if(new RegExp("^(https?:)?//").test(w)){const[,P]=w.split(/\/\/[^\/]+/);return P}return w}(de(Yn(V))),this._locationStrategy.onPopState(re=>{this._subject.emit({url:this.path(!0),pop:!0,state:re.state,type:re.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,V=""){return this.path()==this.normalize(P+Le(V))}normalize(P){return w.stripTrailingSlash(function An(w,B){if(!w||!B.startsWith(w))return B;const P=B.substring(w.length);return""===P||["/",";","?","#"].includes(P[0])?P:B}(this._basePath,Yn(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,V="",re=null){this._locationStrategy.pushState(re,"",P,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Le(V)),re)}replaceState(P,V="",re=null){this._locationStrategy.replaceState(re,"",P,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Le(V)),re)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(V=>{this._notifyUrlChangeListeners(V.url,V.state)})),()=>{const V=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(V,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",V){this._urlChangeListeners.forEach(re=>re(P,V))}subscribe(P,V,re){return this._subject.subscribe({next:P,error:V,complete:re})}static{this.normalizeQueryParams=Le}static{this.joinWithSlash=oe}static{this.stripTrailingSlash=de}static{this.\u0275fac=function(V){return new(V||w)(R.KVO(at))}}static{this.\u0275prov=R.jDH({token:w,factory:function(){return function Kt(){return new Ft((0,R.KVO)(at))}()},providedIn:"root"})}}return w})();function Yn(w){return w.replace(/\/index.html$/,"")}var Mt=function(w){return w[w.Format=0]="Format",w[w.Standalone=1]="Standalone",w}(Mt||{}),_t=function(w){return w[w.Narrow=0]="Narrow",w[w.Abbreviated=1]="Abbreviated",w[w.Wide=2]="Wide",w[w.Short=3]="Short",w}(_t||{}),Xe=function(w){return w[w.Short=0]="Short",w[w.Medium=1]="Medium",w[w.Long=2]="Long",w[w.Full=3]="Full",w}(Xe||{}),Vt=function(w){return w[w.Decimal=0]="Decimal",w[w.Group=1]="Group",w[w.List=2]="List",w[w.PercentSign=3]="PercentSign",w[w.PlusSign=4]="PlusSign",w[w.MinusSign=5]="MinusSign",w[w.Exponential=6]="Exponential",w[w.SuperscriptingExponent=7]="SuperscriptingExponent",w[w.PerMille=8]="PerMille",w[w.Infinity=9]="Infinity",w[w.NaN=10]="NaN",w[w.TimeSeparator=11]="TimeSeparator",w[w.CurrencyDecimal=12]="CurrencyDecimal",w[w.CurrencyGroup=13]="CurrencyGroup",w}(Vt||{});function wt(w,B){return an((0,R.H5H)(w)[R.KH2.DateFormat],B)}function we(w,B){return an((0,R.H5H)(w)[R.KH2.TimeFormat],B)}function se(w,B){return an((0,R.H5H)(w)[R.KH2.DateTimeFormat],B)}function W(w,B){const P=(0,R.H5H)(w),V=P[R.KH2.NumberSymbols][B];if(typeof V>"u"){if(B===Vt.CurrencyDecimal)return P[R.KH2.NumberSymbols][Vt.Decimal];if(B===Vt.CurrencyGroup)return P[R.KH2.NumberSymbols][Vt.Group]}return V}function Ht(w){if(!w[R.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${w[R.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function an(w,B){for(let P=B;P>-1;P--)if(typeof w[P]<"u")return w[P];throw new Error("Locale data API: locale data undefined")}function Dr(w){const[B,P]=w.split(":");return{hours:+B,minutes:+P}}const Jt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Tn={},pt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var gr=function(w){return w[w.Short=0]="Short",w[w.ShortGMT=1]="ShortGMT",w[w.Long=2]="Long",w[w.Extended=3]="Extended",w}(gr||{}),Ct=function(w){return w[w.FullYear=0]="FullYear",w[w.Month=1]="Month",w[w.Date=2]="Date",w[w.Hours=3]="Hours",w[w.Minutes=4]="Minutes",w[w.Seconds=5]="Seconds",w[w.FractionalSeconds=6]="FractionalSeconds",w[w.Day=7]="Day",w}(Ct||{}),un=function(w){return w[w.DayPeriods=0]="DayPeriods",w[w.Days=1]="Days",w[w.Months=2]="Months",w[w.Eras=3]="Eras",w}(un||{});function En(w,B,P,V){let re=function Be(w){if(k(w))return w;if("number"==typeof w&&!isNaN(w))return new Date(w);if("string"==typeof w){if(w=w.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(w)){const[re,Oe=1,Ye=1]=w.split("-").map(Bt=>+Bt);return ht(re,Oe-1,Ye)}const P=parseFloat(w);if(!isNaN(w-P))return new Date(P);let V;if(V=w.match(Jt))return function j(w){const B=new Date(0);let P=0,V=0;const re=w[8]?B.setUTCFullYear:B.setFullYear,Oe=w[8]?B.setUTCHours:B.setHours;w[9]&&(P=Number(w[9]+w[10]),V=Number(w[9]+w[11])),re.call(B,Number(w[1]),Number(w[2])-1,Number(w[3]));const Ye=Number(w[4]||0)-P,Bt=Number(w[5]||0)-V,rn=Number(w[6]||0),ar=Math.floor(1e3*parseFloat("0."+(w[7]||0)));return Oe.call(B,Ye,Bt,rn,ar),B}(V)}const B=new Date(w);if(!k(B))throw new Error(`Unable to convert "${w}" into a date`);return B}(w);B=kn(P,B)||B;let Bt,Ye=[];for(;B;){if(Bt=pt.exec(B),!Bt){Ye.push(B);break}{Ye=Ye.concat(Bt.slice(1));const Hn=Ye.pop();if(!Hn)break;B=Hn}}let rn=re.getTimezoneOffset();V&&(rn=ur(V,rn),re=function pi(w,B,P){const V=P?-1:1,re=w.getTimezoneOffset();return function ps(w,B){return(w=new Date(w.getTime())).setMinutes(w.getMinutes()+B),w}(w,V*(ur(B,re)-re))}(re,V,!0));let ar="";return Ye.forEach(Hn=>{const Cn=function rr(w){if(he[w])return he[w];let B;switch(w){case"G":case"GG":case"GGG":B=St(un.Eras,_t.Abbreviated);break;case"GGGG":B=St(un.Eras,_t.Wide);break;case"GGGGG":B=St(un.Eras,_t.Narrow);break;case"y":B=mn(Ct.FullYear,1,0,!1,!0);break;case"yy":B=mn(Ct.FullYear,2,0,!0,!0);break;case"yyy":B=mn(Ct.FullYear,3,0,!1,!0);break;case"yyyy":B=mn(Ct.FullYear,4,0,!1,!0);break;case"Y":B=Fi(1);break;case"YY":B=Fi(2,!0);break;case"YYY":B=Fi(3);break;case"YYYY":B=Fi(4);break;case"M":case"L":B=mn(Ct.Month,1,1);break;case"MM":case"LL":B=mn(Ct.Month,2,1);break;case"MMM":B=St(un.Months,_t.Abbreviated);break;case"MMMM":B=St(un.Months,_t.Wide);break;case"MMMMM":B=St(un.Months,_t.Narrow);break;case"LLL":B=St(un.Months,_t.Abbreviated,Mt.Standalone);break;case"LLLL":B=St(un.Months,_t.Wide,Mt.Standalone);break;case"LLLLL":B=St(un.Months,_t.Narrow,Mt.Standalone);break;case"w":B=Qr(1);break;case"ww":B=Qr(2);break;case"W":B=Qr(1,!0);break;case"d":B=mn(Ct.Date,1);break;case"dd":B=mn(Ct.Date,2);break;case"c":case"cc":B=mn(Ct.Day,1);break;case"ccc":B=St(un.Days,_t.Abbreviated,Mt.Standalone);break;case"cccc":B=St(un.Days,_t.Wide,Mt.Standalone);break;case"ccccc":B=St(un.Days,_t.Narrow,Mt.Standalone);break;case"cccccc":B=St(un.Days,_t.Short,Mt.Standalone);break;case"E":case"EE":case"EEE":B=St(un.Days,_t.Abbreviated);break;case"EEEE":B=St(un.Days,_t.Wide);break;case"EEEEE":B=St(un.Days,_t.Narrow);break;case"EEEEEE":B=St(un.Days,_t.Short);break;case"a":case"aa":case"aaa":B=St(un.DayPeriods,_t.Abbreviated);break;case"aaaa":B=St(un.DayPeriods,_t.Wide);break;case"aaaaa":B=St(un.DayPeriods,_t.Narrow);break;case"b":case"bb":case"bbb":B=St(un.DayPeriods,_t.Abbreviated,Mt.Standalone,!0);break;case"bbbb":B=St(un.DayPeriods,_t.Wide,Mt.Standalone,!0);break;case"bbbbb":B=St(un.DayPeriods,_t.Narrow,Mt.Standalone,!0);break;case"B":case"BB":case"BBB":B=St(un.DayPeriods,_t.Abbreviated,Mt.Format,!0);break;case"BBBB":B=St(un.DayPeriods,_t.Wide,Mt.Format,!0);break;case"BBBBB":B=St(un.DayPeriods,_t.Narrow,Mt.Format,!0);break;case"h":B=mn(Ct.Hours,1,-12);break;case"hh":B=mn(Ct.Hours,2,-12);break;case"H":B=mn(Ct.Hours,1);break;case"HH":B=mn(Ct.Hours,2);break;case"m":B=mn(Ct.Minutes,1);break;case"mm":B=mn(Ct.Minutes,2);break;case"s":B=mn(Ct.Seconds,1);break;case"ss":B=mn(Ct.Seconds,2);break;case"S":B=mn(Ct.FractionalSeconds,1);break;case"SS":B=mn(Ct.FractionalSeconds,2);break;case"SSS":B=mn(Ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":B=wi(gr.Short);break;case"ZZZZZ":B=wi(gr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":B=wi(gr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":B=wi(gr.Long);break;default:return null}return he[w]=B,B}(Hn);ar+=Cn?Cn(re,P,rn):"''"===Hn?"'":Hn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ar}function ht(w,B,P){const V=new Date(0);return V.setFullYear(w,B,P),V.setHours(0,0,0),V}function kn(w,B){const P=function kr(w){return(0,R.H5H)(w)[R.KH2.LocaleId]}(w);if(Tn[P]=Tn[P]||{},Tn[P][B])return Tn[P][B];let V="";switch(B){case"shortDate":V=wt(w,Xe.Short);break;case"mediumDate":V=wt(w,Xe.Medium);break;case"longDate":V=wt(w,Xe.Long);break;case"fullDate":V=wt(w,Xe.Full);break;case"shortTime":V=we(w,Xe.Short);break;case"mediumTime":V=we(w,Xe.Medium);break;case"longTime":V=we(w,Xe.Long);break;case"fullTime":V=we(w,Xe.Full);break;case"short":const re=kn(w,"shortTime"),Oe=kn(w,"shortDate");V=er(se(w,Xe.Short),[re,Oe]);break;case"medium":const Ye=kn(w,"mediumTime"),Bt=kn(w,"mediumDate");V=er(se(w,Xe.Medium),[Ye,Bt]);break;case"long":const rn=kn(w,"longTime"),ar=kn(w,"longDate");V=er(se(w,Xe.Long),[rn,ar]);break;case"full":const Hn=kn(w,"fullTime"),Cn=kn(w,"fullDate");V=er(se(w,Xe.Full),[Hn,Cn])}return V&&(Tn[P][B]=V),V}function er(w,B){return B&&(w=w.replace(/\{([^}]+)}/g,function(P,V){return null!=B&&V in B?B[V]:P})),w}function nr(w,B,P="-",V,re){let Oe="";(w<0||re&&w<=0)&&(re?w=1-w:(w=-w,Oe=P));let Ye=String(w);for(;Ye.length<B;)Ye="0"+Ye;return V&&(Ye=Ye.slice(Ye.length-B)),Oe+Ye}function mn(w,B,P=0,V=!1,re=!1){return function(Oe,Ye){let Bt=function Qs(w,B){switch(w){case Ct.FullYear:return B.getFullYear();case Ct.Month:return B.getMonth();case Ct.Date:return B.getDate();case Ct.Hours:return B.getHours();case Ct.Minutes:return B.getMinutes();case Ct.Seconds:return B.getSeconds();case Ct.FractionalSeconds:return B.getMilliseconds();case Ct.Day:return B.getDay();default:throw new Error(`Unknown DateType value "${w}".`)}}(w,Oe);if((P>0||Bt>-P)&&(Bt+=P),w===Ct.Hours)0===Bt&&-12===P&&(Bt=12);else if(w===Ct.FractionalSeconds)return function Li(w,B){return nr(w,3).substring(0,B)}(Bt,B);const rn=W(Ye,Vt.MinusSign);return nr(Bt,B,rn,V,re)}}function St(w,B,P=Mt.Format,V=!1){return function(re,Oe){return function Xi(w,B,P,V,re,Oe){switch(P){case un.Months:return function Nt(w,B,P){const V=(0,R.H5H)(w),Oe=an([V[R.KH2.MonthsFormat],V[R.KH2.MonthsStandalone]],B);return an(Oe,P)}(B,re,V)[w.getMonth()];case un.Days:return function ye(w,B,P){const V=(0,R.H5H)(w),Oe=an([V[R.KH2.DaysFormat],V[R.KH2.DaysStandalone]],B);return an(Oe,P)}(B,re,V)[w.getDay()];case un.DayPeriods:const Ye=w.getHours(),Bt=w.getMinutes();if(Oe){const ar=function Mn(w){const B=(0,R.H5H)(w);return Ht(B),(B[R.KH2.ExtraData][2]||[]).map(V=>"string"==typeof V?Dr(V):[Dr(V[0]),Dr(V[1])])}(B),Hn=function fn(w,B,P){const V=(0,R.H5H)(w);Ht(V);const Oe=an([V[R.KH2.ExtraData][0],V[R.KH2.ExtraData][1]],B)||[];return an(Oe,P)||[]}(B,re,V),Cn=ar.findIndex(Tr=>{if(Array.isArray(Tr)){const[Qn,ri]=Tr,Ss=Ye>=Qn.hours&&Bt>=Qn.minutes,Ei=Ye<ri.hours||Ye===ri.hours&&Bt<ri.minutes;if(Qn.hours<ri.hours){if(Ss&&Ei)return!0}else if(Ss||Ei)return!0}else if(Tr.hours===Ye&&Tr.minutes===Bt)return!0;return!1});if(-1!==Cn)return Hn[Cn]}return function ot(w,B,P){const V=(0,R.H5H)(w),Oe=an([V[R.KH2.DayPeriodsFormat],V[R.KH2.DayPeriodsStandalone]],B);return an(Oe,P)}(B,re,V)[Ye<12?0:1];case un.Eras:return function ft(w,B){return an((0,R.H5H)(w)[R.KH2.Eras],B)}(B,V)[w.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${P}`)}}(re,Oe,w,B,P,V)}}function wi(w){return function(B,P,V){const re=-1*V,Oe=W(P,Vt.MinusSign),Ye=re>0?Math.floor(re/60):Math.ceil(re/60);switch(w){case gr.Short:return(re>=0?"+":"")+nr(Ye,2,Oe)+nr(Math.abs(re%60),2,Oe);case gr.ShortGMT:return"GMT"+(re>=0?"+":"")+nr(Ye,1,Oe);case gr.Long:return"GMT"+(re>=0?"+":"")+nr(Ye,2,Oe)+":"+nr(Math.abs(re%60),2,Oe);case gr.Extended:return 0===V?"Z":(re>=0?"+":"")+nr(Ye,2,Oe)+":"+nr(Math.abs(re%60),2,Oe);default:throw new Error(`Unknown zone width "${w}"`)}}}const $n=0,Cr=4;function jt(w){return ht(w.getFullYear(),w.getMonth(),w.getDate()+(Cr-w.getDay()))}function Qr(w,B=!1){return function(P,V){let re;if(B){const Oe=new Date(P.getFullYear(),P.getMonth(),1).getDay()-1,Ye=P.getDate();re=1+Math.floor((Ye+Oe)/7)}else{const Oe=jt(P),Ye=function Kn(w){const B=ht(w,$n,1).getDay();return ht(w,0,1+(B<=Cr?Cr:Cr+7)-B)}(Oe.getFullYear()),Bt=Oe.getTime()-Ye.getTime();re=1+Math.round(Bt/6048e5)}return nr(re,w,W(V,Vt.MinusSign))}}function Fi(w,B=!1){return function(P,V){return nr(jt(P).getFullYear(),w,W(V,Vt.MinusSign),B)}}const he={};function ur(w,B){w=w.replace(/:/g,"");const P=Date.parse("Jan 01, 1970 00:00:00 "+w)/6e4;return isNaN(P)?B:P}function k(w){return w instanceof Date&&!isNaN(w.valueOf())}function Et(w,B){B=encodeURIComponent(B);for(const P of w.split(";")){const V=P.indexOf("="),[re,Oe]=-1==V?[P,""]:[P.slice(0,V),P.slice(V+1)];if(re.trim()===B)return decodeURIComponent(Oe)}return null}const Qt=/\s+/,$t=[];let on=(()=>{class w{constructor(P,V,re,Oe){this._iterableDiffers=P,this._keyValueDiffers=V,this._ngEl=re,this._renderer=Oe,this.initialClasses=$t,this.stateMap=new Map}set klass(P){this.initialClasses=null!=P?P.trim().split(Qt):$t}set ngClass(P){this.rawClass="string"==typeof P?P.trim().split(Qt):P}ngDoCheck(){for(const V of this.initialClasses)this._updateState(V,!0);const P=this.rawClass;if(Array.isArray(P)||P instanceof Set)for(const V of P)this._updateState(V,!0);else if(null!=P)for(const V of Object.keys(P))this._updateState(V,!!P[V]);this._applyStateDiff()}_updateState(P,V){const re=this.stateMap.get(P);void 0!==re?(re.enabled!==V&&(re.changed=!0,re.enabled=V),re.touched=!0):this.stateMap.set(P,{enabled:V,changed:!0,touched:!0})}_applyStateDiff(){for(const P of this.stateMap){const V=P[0],re=P[1];re.changed?(this._toggleClass(V,re.enabled),re.changed=!1):re.touched||(re.enabled&&this._toggleClass(V,!1),this.stateMap.delete(V)),re.touched=!1}}_toggleClass(P,V){(P=P.trim()).length>0&&P.split(Qt).forEach(re=>{V?this._renderer.addClass(this._ngEl.nativeElement,re):this._renderer.removeClass(this._ngEl.nativeElement,re)})}static{this.\u0275fac=function(V){return new(V||w)(R.rXU(R._q3),R.rXU(R.MKu),R.rXU(R.aKT),R.rXU(R.sFG))}}static{this.\u0275dir=R.FsC({type:w,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return w})();class cn{constructor(B,P,V,re){this.$implicit=B,this.ngForOf=P,this.index=V,this.count=re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yr=(()=>{class w{set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}constructor(P,V,re){this._viewContainer=P,this._template=V,this._differs=re,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const V=this._viewContainer;P.forEachOperation((re,Oe,Ye)=>{if(null==re.previousIndex)V.createEmbeddedView(this._template,new cn(re.item,this._ngForOf,-1,-1),null===Ye?void 0:Ye);else if(null==Ye)V.remove(null===Oe?void 0:Oe);else if(null!==Oe){const Bt=V.get(Oe);V.move(Bt,Ye),Vi(Bt,re)}});for(let re=0,Oe=V.length;re<Oe;re++){const Bt=V.get(re).context;Bt.index=re,Bt.count=Oe,Bt.ngForOf=this._ngForOf}P.forEachIdentityChange(re=>{Vi(V.get(re.currentIndex),re)})}static ngTemplateContextGuard(P,V){return!0}static{this.\u0275fac=function(V){return new(V||w)(R.rXU(R.c1b),R.rXU(R.C4Q),R.rXU(R._q3))}}static{this.\u0275dir=R.FsC({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return w})();function Vi(w,B){w.context.$implicit=B.item}let ir=(()=>{class w{constructor(P,V){this._viewContainer=P,this._context=new Mi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=V}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){xi("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){xi("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,V){return!0}static{this.\u0275fac=function(V){return new(V||w)(R.rXU(R.c1b),R.rXU(R.C4Q))}}static{this.\u0275dir=R.FsC({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return w})();class Mi{constructor(){this.$implicit=null,this.ngIf=null}}function xi(w,B){if(B&&!B.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,R.Tbb)(B)}'.`)}function Nr(w,B){return new R.wOt(2100,!1)}const gu=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let vr=(()=>{class w{transform(P){if(null==P)return null;if("string"!=typeof P)throw Nr();return P.replace(gu,V=>V[0].toUpperCase()+V.slice(1).toLowerCase())}static{this.\u0275fac=function(V){return new(V||w)}}static{this.\u0275pipe=R.EJ8({name:"titlecase",type:w,pure:!0,standalone:!0})}}return w})();const dr=new R.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),Ai=new R.nKC("DATE_PIPE_DEFAULT_OPTIONS");let Vs=(()=>{class w{constructor(P,V,re){this.locale=P,this.defaultTimezone=V,this.defaultOptions=re}transform(P,V,re,Oe){if(null==P||""===P||P!=P)return null;try{return En(P,V??this.defaultOptions?.dateFormat??"mediumDate",Oe||this.locale,re??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ye){throw Nr()}}static{this.\u0275fac=function(V){return new(V||w)(R.rXU(R.xe9,16),R.rXU(dr,24),R.rXU(Ai,24))}}static{this.\u0275pipe=R.EJ8({name:"date",type:w,pure:!0,standalone:!0})}}return w})(),Ui=(()=>{class w{static{this.\u0275fac=function(V){return new(V||w)}}static{this.\u0275mod=R.$C({type:w})}static{this.\u0275inj=R.G2t({})}}return w})();const Bi="browser",go="server";function nn(w){return w===go}let hr=(()=>{class w{static{this.\u0275prov=(0,R.jDH)({token:w,providedIn:"root",factory:()=>new ji((0,R.KVO)(ie),window)})}}return w})();class ji{constructor(B,P){this.document=B,this.window=P,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(B){this.supportsScrolling()&&this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){if(!this.supportsScrolling())return;const P=function fr(w,B){const P=w.getElementById(B)||w.getElementsByName(B)[0];if(P)return P;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const V=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let re=V.currentNode;for(;re;){const Oe=re.shadowRoot;if(Oe){const Ye=Oe.getElementById(B)||Oe.querySelector(`[name="${B}"]`);if(Ye)return Ye}re=V.nextNode()}}return null}(this.document,B);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(B){this.supportsScrolling()&&(this.window.history.scrollRestoration=B)}scrollToElement(B){const P=B.getBoundingClientRect(),V=P.left+this.window.pageXOffset,re=P.top+this.window.pageYOffset,Oe=this.offset();this.window.scrollTo(V-Oe[0],re-Oe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class $i{}},540:(Xt,nt,X)=>{X.d(nt,{iLQ:()=>RI,sZ2:()=>e_,hnV:()=>Cw,Hbi:()=>HC,o8S:()=>Pp,BIS:()=>Nf,gRc:()=>SC,Ql9:()=>KD,Ocv:()=>GD,Z63:()=>Ol,aKT:()=>jf,uvJ:()=>uu,zcH:()=>Hc,bkB:()=>Pa,$GK:()=>St,nKC:()=>he,zZn:()=>da,_q3:()=>kI,MKu:()=>LI,xe9:()=>fy,Co$:()=>CT,Vns:()=>Gh,NEm:()=>IC,SKi:()=>Es,Xx1:()=>Ac,Agw:()=>t_,PLl:()=>$u,sFG:()=>YI,_9s:()=>lh,czy:()=>Pc,kdw:()=>Pu,C4Q:()=>vm,NYb:()=>mC,giA:()=>Ow,xvI:()=>Sg,RxE:()=>bg,c1b:()=>dy,gXe:()=>Fn,L39:()=>eb,Ol2:()=>ST,w6W:()=>xA,oH4:()=>Vw,Rfq:()=>_t,WQX:()=>Ln,QuC:()=>ms,fpN:()=>$C,HJs:()=>nb,O8t:()=>Ei,H3F:()=>bw,H8p:()=>Jm,$K3:()=>Sw,KH2:()=>Cp,wOt:()=>ye,WHO:()=>xw,e01:()=>Nw,H5H:()=>nI,mq5:()=>YE,JZv:()=>jt,LfX:()=>En,plB:()=>vI,jNT:()=>hp,zjR:()=>Kg,TL$:()=>by,Tbb:()=>Qe,Vt3:()=>b,GFd:()=>Te,OA$:()=>Ba,Jv_:()=>DT,aNF:()=>RT,R7$:()=>_v,BMQ:()=>ep,HbH:()=>ty,AVh:()=>_p,wni:()=>iw,VBU:()=>Vs,FsC:()=>gi,jDH:()=>pt,G2t:()=>Ct,$C:()=>Ds,EJ8:()=>mi,rXU:()=>zl,nrm:()=>Mh,bVm:()=>xh,qex:()=>Kc,k0s:()=>Ph,j41:()=>Rh,RV6:()=>H_,xGo:()=>Bo,KVO:()=>xr,kS0:()=>mc,QTQ:()=>__,bIt:()=>fp,lsd:()=>sw,XpG:()=>G_,nI1:()=>$T,bMT:()=>HT,i5U:()=>zT,SdG:()=>q_,NAR:()=>Zg,Y8G:()=>Sh,sMw:()=>LT,mGM:()=>nw,sdS:()=>Wg,Njj:()=>uc,EBC:()=>d_,tSv:()=>dv,eBV:()=>ac,n$t:()=>vg,DNE:()=>U_,C5r:()=>cw,EFF:()=>cm,JRh:()=>wp,SpI:()=>Hh,Lme:()=>Ju,GBs:()=>rw});var R=X(1413),fe=X(8359),$e=X(1985),Ve=X(6365),Z=X(8750),ie=X(983),Ae=X(3794),vt=X(8455),oe=X(4412),de=X(7673),Le=X(7707),at=X(9974);function He(t={}){const{connector:n=(()=>new R.B),resetOnError:i=!0,resetOnComplete:o=!0,resetOnRefCountZero:c=!0}=t;return l=>{let m,I,D,x=0,$=!1,J=!1;const _e=()=>{I?.unsubscribe(),I=void 0},Ce=()=>{_e(),m=D=void 0,$=J=!1},qe=()=>{const dt=m;Ce(),dt?.unsubscribe()};return(0,at.N)((dt,xt)=>{x++,!J&&!$&&_e();const qt=D=D??n();xt.add(()=>{x--,0===x&&!J&&!$&&(I=ut(qe,c))}),qt.subscribe(xt),!m&&x>0&&(m=new Le.Ms({next:it=>qt.next(it),error:it=>{J=!0,_e(),I=ut(Ce,i,it),qt.error(it)},complete:()=>{$=!0,_e(),I=ut(Ce,o),qt.complete()}}),(0,Z.Tg)(dt).subscribe(m))})(l)}}function ut(t,n,...i){if(!0===n)return void t();if(!1===n)return;const o=new Le.Ms({next:()=>{o.unsubscribe(),t()}});return(0,Z.Tg)(n(...i)).subscribe(o)}var Dt=X(5558),Ft=X(3669),Kt=X(4360);function Yn(t,n){return t===n}function ze(t){for(let n in t)if(t[n]===ze)return n;throw Error("Could not find renamed property on target object.")}function st(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Qe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Qe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function At(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Mt=ze({__forward_ref__:ze});function _t(t){return t.__forward_ref__=_t,t.toString=function(){return Qe(this())},t}function Xe(t){return Vt(t)?t():t}function Vt(t){return"function"==typeof t&&t.hasOwnProperty(Mt)&&t.__forward_ref__===_t}function Dn(t){return t&&!!t.\u0275providers}const ot="https://g.co/ng/security#xss";class ye extends Error{constructor(n,i){super(function Nt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function ft(t){return"string"==typeof t?t:null==t?"":String(t)}function se(t,n){throw new ye(-201,!1)}function Zn(t,n){null==t&&function Ze(t,n,i,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${i} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ct(t){return{providers:t.providers||[],imports:t.imports||[]}}function un(t){return ht(t,nr)||ht(t,mn)}function En(t){return null!==un(t)}function ht(t,n){return t.hasOwnProperty(n)?t[n]:null}function er(t){return t&&(t.hasOwnProperty(Li)||t.hasOwnProperty(Qs))?t[Li]:null}const nr=ze({\u0275prov:ze}),Li=ze({\u0275inj:ze}),mn=ze({ngInjectableDef:ze}),Qs=ze({ngInjectorDef:ze});var St=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(St||{});let Xi;function $n(t){const n=Xi;return Xi=t,n}function Cr(t,n,i){const o=un(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&St.Optional?null:void 0!==n?n:void se(Qe(t))}const jt=globalThis;class he{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=pt({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const It={},bt="__NG_DI_FLAG__",en="ngTempTokenPath",mr=/\n/gm,Xr="__source";let _r;function ci(t){const n=_r;return _r=t,n}function ws(t,n=St.Default){if(void 0===_r)throw new ye(-203,!1);return null===_r?Cr(t,void 0,n):_r.get(t,n&St.Optional?null:void 0,n)}function xr(t,n=St.Default){return(function wi(){return Xi}()||ws)(Xe(t),n)}function Ln(t,n=St.Default){return xr(t,Yi(n))}function Yi(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Fe(t){const n=[];for(let i=0;i<t.length;i++){const o=Xe(t[i]);if(Array.isArray(o)){if(0===o.length)throw new ye(900,!1);let c,l=St.Default;for(let m=0;m<o.length;m++){const I=o[m],D=Ke(I);"number"==typeof D?-1===D?c=I.token:l|=D:c=I}n.push(xr(c,l))}else n.push(xr(o))}return n}function Ee(t,n){return t[bt]=n,t.prototype[bt]=n,t}function Ke(t){return t[bt]}function $t(t){return{toString:t}.toString()}var on=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(on||{}),Fn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Fn||{});const xn={},cn=[],yr=ze({\u0275cmp:ze}),Vi=ze({\u0275dir:ze}),Wo=ze({\u0275pipe:ze}),ir=ze({\u0275mod:ze}),Mi=ze({\u0275fac:ze}),xi=ze({__NG_ELEMENT_ID__:ze}),Zi=ze({__NG_ENV_ID__:ze});function oi(t,n,i){let o=t.length;for(;;){const c=t.indexOf(n,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const l=n.length;if(c+l===o||t.charCodeAt(c+l)<=32)return c}i=c+1}}function fo(t,n,i){let o=0;for(;o<i.length;){const c=i[o];if("number"==typeof c){if(0!==c)break;o++;const l=i[o++],m=i[o++],I=i[o++];t.setAttribute(n,m,I,l)}else{const l=c,m=i[++o];Fr(l)?t.setProperty(n,l,m):t.setAttribute(n,l,m),o++}}return o}function bo(t){return 3===t||4===t||6===t}function Fr(t){return 64===t.charCodeAt(0)}function gs(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const c=n[o];"number"==typeof c?i=c:0===i||Ni(t,i,c,null,-1===i||2===i?n[++o]:null)}}return t}function Ni(t,n,i,o,c){let l=0,m=t.length;if(-1===n)m=-1;else for(;l<t.length;){const I=t[l++];if("number"==typeof I){if(I===n){m=-1;break}if(I>n){m=l-1;break}}}for(;l<t.length;){const I=t[l];if("number"==typeof I)break;if(I===i){if(null===o)return void(null!==c&&(t[l+1]=c));if(o===t[l+1])return void(t[l+2]=c)}l++,null!==o&&l++,null!==c&&l++}-1!==m&&(t.splice(m,0,n),l=m+1),t.splice(l++,0,i),null!==o&&t.splice(l++,0,o),null!==c&&t.splice(l++,0,c)}const Jr="ng-template";function po(t,n,i){let o=0,c=!0;for(;o<t.length;){let l=t[o++];if("string"==typeof l&&c){const m=t[o++];if(i&&"class"===l&&-1!==oi(m.toLowerCase(),n,0))return!0}else{if(1===l){for(;o<t.length&&"string"==typeof(l=t[o++]);)if(l.toLowerCase()===n)return!0;return!1}"number"==typeof l&&(c=!1)}}return!1}function Vn(t){return 4===t.type&&t.value!==Jr}function Nr(t,n,i){return n===(4!==t.type||i?t.value:Jr)}function cr(t,n,i){let o=4;const c=t.attrs||[],l=function Ko(t){for(let n=0;n<t.length;n++)if(bo(t[n]))return n;return t.length}(c);let m=!1;for(let I=0;I<n.length;I++){const D=n[I];if("number"!=typeof D){if(!m)if(4&o){if(o=2|1&o,""!==D&&!Nr(t,D,i)||""===D&&1===n.length){if(pn(o))return!1;m=!0}}else{const x=8&o?D:n[++I];if(8&o&&null!==t.attrs){if(!po(t.attrs,x,i)){if(pn(o))return!1;m=!0}continue}const J=qo(8&o?"class":D,c,Vn(t),i);if(-1===J){if(pn(o))return!1;m=!0;continue}if(""!==x){let _e;_e=J>l?"":c[J+1].toLowerCase();const Ce=8&o?_e:null;if(Ce&&-1!==oi(Ce,x,0)||2&o&&x!==_e){if(pn(o))return!1;m=!0}}}}else{if(!m&&!pn(o)&&!pn(D))return!1;if(m&&pn(D))continue;m=!1,o=D|1&o}}return pn(o)||m}function pn(t){return 0==(1&t)}function qo(t,n,i,o){if(null===n)return-1;let c=0;if(o||!i){let l=!1;for(;c<n.length;){const m=n[c];if(m===t)return c;if(3===m||6===m)l=!0;else{if(1===m||2===m){let I=n[++c];for(;"string"==typeof I;)I=n[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=l?1:2}return-1}return function gu(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const o=t[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,t)}function Ji(t,n,i=!1){for(let o=0;o<n.length;o++)if(cr(t,n[o],i))return!0;return!1}function vr(t,n){e:for(let i=0;i<n.length;i++){const o=n[i];if(t.length===o.length){for(let c=0;c<t.length;c++)if(t[c]!==o[c])continue e;return!0}}return!1}function ma(t,n){return t?":not("+n.trim()+")":n}function es(t){let n=t[0],i=1,o=2,c="",l=!1;for(;i<t.length;){let m=t[i];if("string"==typeof m)if(2&o){const I=t[++i];c+="["+m+(I.length>0?'="'+I+'"':"")+"]"}else 8&o?c+="."+m:4&o&&(c+=" "+m);else""!==c&&!pn(m)&&(n+=ma(l,c),c=""),o=m,l=l||!pn(o);i++}return""!==c&&(n+=ma(l,c)),n}function Vs(t){return $t(()=>{const n=_a(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===on.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Fn.Emulated,styles:t.styles||cn,_:null,schemas:t.schemas||null,tView:null,id:""};Ui(i);const o=t.dependencies;return i.directiveDefs=Bi(o,!1),i.pipeDefs=Bi(o,!0),i.id=function Bs(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of i)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Us(t){return yn(t)||Nn(t)}function Xs(t){return null!==t}function Ds(t){return $t(()=>({type:t.type,bootstrap:t.bootstrap||cn,declarations:t.declarations||cn,imports:t.imports||cn,exports:t.exports||cn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ts(t,n){if(null==t)return xn;const i={};for(const o in t)if(t.hasOwnProperty(o)){let c=t[o],l=c;Array.isArray(c)&&(l=c[1],c=c[0]),i[c]=o,n&&(n[c]=l)}return i}function gi(t){return $t(()=>{const n=_a(t);return Ui(n),n})}function mi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function yn(t){return t[yr]||null}function Nn(t){return t[Vi]||null}function Ir(t){return t[Wo]||null}function ms(t){const n=yn(t)||Nn(t)||Ir(t);return null!==n&&n.standalone}function Hr(t,n){const i=t[ir]||null;if(!i&&!0===n)throw new Error(`Type ${Qe(t)} does not have '\u0275mod' property.`);return i}function _a(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||xn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||cn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ts(t.inputs,n),outputs:ts(t.outputs)}}function Ui(t){t.features?.forEach(n=>n(t))}function Bi(t,n){if(!t)return null;const i=n?Ir:Us;return()=>("function"==typeof t?t():t).map(o=>i(o)).filter(Xs)}const lr=0,Rt=1,nn=2,sr=3,ei=4,ns=5,hr=6,ji=7,fr=8,Di=9,$i=10,Ut=11,rs=12,tr=13,_i=14,pr=15,Ys=16,yi=17,Ci=18,Cs=19,On=20,Un=21,li=22,Qo=23,js=24,ln=25,Zs=1,ya=2,zr=7,is=9,ti=11;function vi(t){return Array.isArray(t)&&"object"==typeof t[Zs]}function F(t){return Array.isArray(t)&&!0===t[Zs]}function U(t){return 0!=(4&t.flags)}function ee(t){return t.componentOffset>-1}function ne(t){return 1==(1&t.flags)}function ve(t){return!!t.template}function je(t){return 0!=(512&t[nn])}function Ii(t,n){return t.hasOwnProperty(Mi)?t[Mi]:null}let Rr=null,ys=!1;function Or(t){const n=Rr;return Rr=t,n}const ec={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Zc(t){if(!Ta(t)||t.dirty){if(!t.producerMustRecompute(t)&&!tc(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Yo(t){t.dirty=!0,function So(t){if(void 0===t.liveConsumerNode)return;const n=ys;ys=!0;try{for(const i of t.liveConsumerNode)i.dirty||Yo(i)}finally{ys=n}}(t),t.consumerMarkedDirty?.(t)}function Zo(t){return t&&(t.nextProducerIndex=0),Or(t)}function Ro(t,n){if(Or(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ta(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)to(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function tc(t){Jo(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==i.version||(Zc(i),o!==i.version))return!0}return!1}function Ea(t){if(Jo(t),Ta(t))for(let n=0;n<t.producerNode.length;n++)to(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function to(t,n){if(function no(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Jo(t),1===t.liveConsumerNode.length)for(let o=0;o<t.producerNode.length;o++)to(t.producerNode[o],t.producerIndexOfThis[o]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];Jo(c),c.producerIndexOfThis[o]=n}}function Ta(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Jo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let re=null;function Ei(t){const n=Or(null);try{return t()}finally{Or(n)}}const Gr=()=>{},Rs=(()=>({...ec,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Gr}))();class vs{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ba(){return mu}function mu(t){return t.type.prototype.ngOnChanges&&(t.setInput=ja),Jc}function Jc(){const t=od(this),n=t?.current;if(n){const i=t.previous;if(i===xn)t.previous=n;else for(let o in n)i[o]=n[o];t.current=null,this.ngOnChanges(n)}}function ja(t,n,i,o){const c=this.declaredInputs[i],l=od(t)||function Pr(t,n){return t[el]=n}(t,{previous:xn,current:null}),m=l.current||(l.current={}),I=l.previous,D=I[c];m[c]=new vs(D&&D.currentValue,n,I===xn),t[o]=n}Ba.ngInherit=!0;const el="__ngSimpleChanges__";function od(t){return t[el]||null}const so=function(t,n,i){};function Bn(t){for(;Array.isArray(t);)t=t[lr];return t}function $a(t,n){return Bn(n[t])}function ii(t,n){return Bn(n[t.index])}function Po(t,n){return t.data[n]}function oo(t,n){return t[n]}function Gi(t,n){const i=n[t];return vi(i)?i:i[lr]}function mo(t,n){return null==n?null:t[n]}function vu(t){t[yi]=0}function Ha(t){1024&t[nn]||(t[nn]|=1024,za(t,1))}function _o(t){1024&t[nn]&&(t[nn]&=-1025,za(t,-1))}function za(t,n){let i=t[sr];if(null===i)return;i[ns]+=n;let o=i;for(i=i[sr];null!==i&&(1===n&&1===o[ns]||-1===n&&0===o[ns]);)i[ns]+=n,o=i,i=i[sr]}const dn={lFrame:jn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ic(){return dn.bindingsEnabled}function ao(){return null!==dn.skipHydrationRootTNode}function rt(){return dn.lFrame.lView}function Xn(){return dn.lFrame.tView}function ac(t){return dn.lFrame.contextLView=t,t[fr]}function uc(t){return dn.lFrame.contextLView=null,t}function Si(){let t=yo();for(;null!==t&&64===t.type;)t=t.parent;return t}function yo(){return dn.lFrame.currentTNode}function as(t,n){const i=dn.lFrame;i.currentTNode=t,i.isParent=n}function ta(){return dn.lFrame.isParent}function wa(){dn.lFrame.isParent=!1}function Wi(){const t=dn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function qa(){return dn.lFrame.bindingIndex++}function qi(t){const n=dn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function _(t,n){const i=dn.lFrame;i.bindingIndex=i.bindingRootIndex=t,M(n)}function M(t){dn.lFrame.currentDirectiveIndex=t}function te(){return dn.lFrame.currentQueryIndex}function Me(t){dn.lFrame.currentQueryIndex=t}function Re(t){const n=t[Rt];return 2===n.type?n.declTNode:1===n.type?t[hr]:null}function Tt(t,n,i){if(i&St.SkipSelf){let c=n,l=t;for(;!(c=c.parent,null!==c||i&St.Host||(c=Re(l),null===c||(l=l[_i],10&c.type))););if(null===c)return!1;n=c,t=l}const o=dn.lFrame=Gn();return o.currentTNode=n,o.lView=t,!0}function Zt(t){const n=Gn(),i=t[Rt];dn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Gn(){const t=dn.lFrame,n=null===t?null:t.child;return null===n?jn(t):n}function jn(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function $s(){const t=dn.lFrame;return dn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const xo=$s;function vo(){const t=$s();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function us(){return dn.lFrame.selectedIndex}function Aa(t){dn.lFrame.selectedIndex=t}function jr(){const t=dn.lFrame;return Po(t.tView,t.selectedIndex)}let lc=!0;function Iu(){return lc}function No(t){lc=t}function Oo(t,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){const l=t.data[i].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:I,ngAfterViewInit:D,ngAfterViewChecked:x,ngOnDestroy:$}=l;m&&(t.contentHooks??=[]).push(-i,m),I&&((t.contentHooks??=[]).push(i,I),(t.contentCheckHooks??=[]).push(i,I)),D&&(t.viewHooks??=[]).push(-i,D),x&&((t.viewHooks??=[]).push(i,x),(t.viewCheckHooks??=[]).push(i,x)),null!=$&&(t.destroyHooks??=[]).push(i,$)}}function ia(t,n,i){dd(t,n,3,i)}function Ki(t,n,i,o){(3&t[nn])===i&&dd(t,n,i,o)}function Eu(t,n){let i=t[nn];(3&i)===n&&(i&=8191,i+=1,t[nn]=i)}function dd(t,n,i,o){const l=o??-1,m=n.length-1;let I=0;for(let D=void 0!==o?65535&t[yi]:0;D<m;D++)if("number"==typeof n[D+1]){if(I=n[D],null!=o&&I>=o)break}else n[D]<0&&(t[yi]+=65536),(I<l||-1==l)&&(Np(t,i,n,D),t[yi]=(4294901760&t[yi])+D+2),D++}function hd(t,n){so(4,t,n);const i=Or(null);try{n.call(t)}finally{Or(i),so(5,t,n)}}function Np(t,n,i,o){const c=i[o]<0,l=i[o+1],I=t[c?-i[o]:i[o]];c?t[nn]>>13<t[yi]>>16&&(3&t[nn])===n&&(t[nn]+=8192,hd(I,l)):hd(I,l)}const ko=-1;class Xa{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function fd(t){return t!==ko}function Lo(t){return 32767&t}function sa(t,n){let i=function wu(t){return t>>16}(t),o=n;for(;i>0;)o=o[_i],i--;return o}let Fo=!0;function Za(t){const n=Fo;return Fo=t,n}const cs=255,gd=5;let hc=0;const Ms={};function Io(t,n){const i=Kh(t,n);if(-1!==i)return i;const o=n[Rt];o.firstCreatePass&&(t.injectorIndex=n.length,Vo(o.data,t),Vo(n,null),Vo(o.blueprint,null));const c=Uo(t,n),l=t.injectorIndex;if(fd(c)){const m=Lo(c),I=sa(c,n),D=I[Rt].data;for(let x=0;x<8;x++)n[l+x]=I[m+x]|D[m+x]}return n[l+8]=c,l}function Vo(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Kh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Uo(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,o=null,c=n;for(;null!==c;){if(o=Ed(c),null===o)return ko;if(i++,c=c[_i],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return ko}function fc(t,n,i){!function Lp(t,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(xi)&&(o=i[xi]),null==o&&(o=i[xi]=hc++);const c=o&cs;n.data[t+(c>>gd)]|=1<<c}(t,n,i)}function md(t,n,i){if(i&St.Optional||void 0!==t)return t;se()}function Eo(t,n,i,o){if(i&St.Optional&&void 0===o&&(o=null),!(i&(St.Self|St.Host))){const c=t[Di],l=$n(void 0);try{return c?c.get(n,o,i&St.Optional):Cr(n,o,i&St.Optional)}finally{$n(l)}}return md(o,0,i)}function Qh(t,n,i,o=St.Default,c){if(null!==t){if(2048&n[nn]&&!(o&St.Self)){const m=function Yh(t,n,i,o,c){let l=t,m=n;for(;null!==l&&null!==m&&2048&m[nn]&&!(512&m[nn]);){const I=cl(l,m,i,o|St.Self,Ms);if(I!==Ms)return I;let D=l.parent;if(!D){const x=m[On];if(x){const $=x.get(i,Ms,o);if($!==Ms)return $}D=Ed(m),m=m[_i]}l=D}return c}(t,n,i,o,Ms);if(m!==Ms)return m}const l=cl(t,n,i,o,Ms);if(l!==Ms)return l}return Eo(n,i,o,c)}function cl(t,n,i,o,c){const l=function yd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(xi)?t[xi]:void 0;return"number"==typeof n?n>=0?n&cs:Xh:n}(i);if("function"==typeof l){if(!Tt(n,t,o))return o&St.Host?md(c,0,o):Eo(n,i,o,c);try{let m;if(m=l(o),null!=m||o&St.Optional)return m;se()}finally{xo()}}else if("number"==typeof l){let m=null,I=Kh(t,n),D=ko,x=o&St.Host?n[pr][hr]:null;for((-1===I||o&St.SkipSelf)&&(D=-1===I?Uo(t,n):n[I+8],D!==ko&&vd(o,!1)?(m=n[Rt],I=Lo(D),n=sa(D,n)):I=-1);-1!==I;){const $=n[Rt];if(gc(l,I,$.data)){const J=_d(I,n,i,m,o,x);if(J!==Ms)return J}D=n[I+8],D!==ko&&vd(o,n[Rt].data[I+8]===x)&&gc(l,I,n)?(m=$,I=Lo(D),n=sa(D,n)):I=-1}}return c}function _d(t,n,i,o,c,l){const m=n[Rt],I=m.data[t+8],$=Au(I,m,i,null==o?ee(I)&&Fo:o!=m&&0!=(3&I.type),c&St.Host&&l===I);return null!==$?oa(n,m,$,I):Ms}function Au(t,n,i,o,c){const l=t.providerIndexes,m=n.data,I=1048575&l,D=t.directiveStart,$=l>>20,_e=c?I+$:t.directiveEnd;for(let Ce=o?I:I+$;Ce<_e;Ce++){const qe=m[Ce];if(Ce<D&&i===qe||Ce>=D&&qe.type===i)return Ce}if(c){const Ce=m[D];if(Ce&&ve(Ce)&&Ce.type===i)return D}return null}function oa(t,n,i,o){let c=t[i];const l=n.data;if(function Op(t){return t instanceof Xa}(c)){const m=c;m.resolving&&function yt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new ye(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Yt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ft(t)}(l[i]));const I=Za(m.canSeeViewProviders);m.resolving=!0;const x=m.injectImpl?$n(m.injectImpl):null;Tt(t,o,St.Default);try{c=t[i]=m.factory(void 0,l,t,o),n.firstCreatePass&&i>=o.directiveStart&&function wm(t,n,i){const{ngOnChanges:o,ngOnInit:c,ngDoCheck:l}=n.type.prototype;if(o){const m=mu(n);(i.preOrderHooks??=[]).push(t,m),(i.preOrderCheckHooks??=[]).push(t,m)}c&&(i.preOrderHooks??=[]).push(0-t,c),l&&((i.preOrderHooks??=[]).push(t,l),(i.preOrderCheckHooks??=[]).push(t,l))}(i,l[i],n)}finally{null!==x&&$n(x),Za(I),m.resolving=!1,xo()}}return c}function gc(t,n,i){return!!(i[n+(t>>gd)]&1<<t)}function vd(t,n){return!(t&St.Self||t&St.Host&&n)}class Is{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return Qh(this._tNode,this._lView,n,Yi(o),i)}}function Xh(){return new Is(Si(),rt())}function Bo(t){return $t(()=>{const n=t.prototype.constructor,i=n[Mi]||Ja(n),o=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==o;){const l=c[Mi]||Ja(c);if(l&&l!==i)return l;c=Object.getPrototypeOf(c)}return l=>new l})}function Ja(t){return Vt(t)?()=>{const n=Ja(Xe(t));return n&&n()}:Ii(t)}function Ed(t){const n=t[Rt],i=n.type;return 2===i?n.declTNode:1===i?t[hr]:null}function mc(t){return function pc(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const o=i.length;let c=0;for(;c<o;){const l=i[c];if(bo(l))break;if(0===l)c+=2;else if("number"==typeof l)for(c++;c<o&&"string"==typeof i[c];)c++;else{if(l===n)return i[c+1];c+=2}}}return null}(Si(),t)}const Cu="__parameters__";function si(t,n,i){return $t(()=>{const o=function Da(t){return function(...i){if(t){const o=t(...i);for(const c in o)this[c]=o[c]}}}(n);function c(...l){if(this instanceof c)return o.apply(this,l),this;const m=new c(...l);return I.annotation=m,I;function I(D,x,$){const J=D.hasOwnProperty(Cu)?D[Cu]:Object.defineProperty(D,Cu,{value:[]})[Cu];for(;J.length<=$;)J.push(null);return(J[$]=J[$]||[]).push(m),D}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function Su(t,n){t.forEach(i=>Array.isArray(i)?Su(i,n):n(i))}function Dd(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function ll(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function nu(t,n){const i=[];for(let o=0;o<t;o++)i.push(n);return i}function Hs(t,n,i){let o=ru(t,n);return o>=0?t[1|o]=i:(o=~o,function Cd(t,n,i,o){let c=t.length;if(c==n)t.push(i,o);else if(1===c)t.push(o,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=i,t[n+1]=o}}(t,o,n,i)),o}function vc(t,n){const i=ru(t,n);if(i>=0)return t[1|i]}function ru(t,n){return function Ru(t,n,i){let o=0,c=t.length>>i;for(;c!==o;){const l=o+(c-o>>1),m=t[l<<i];if(n===m)return l<<i;m>n?c=l:o=l+1}return~(c<<i)}(t,n,1)}const Ac=Ee(si("Optional"),8),Pu=Ee(si("SkipSelf"),4);function Rc(t){return 128==(128&t.flags)}var Pc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Pc||{});const Yp=/^>|^->|<!--|-->|--!>|<!-$/g,Mc=/(<|>)/g,af="\u200b$1\u200b";const uf=new Map;let Jp=0;const Tl="__ngContext__";function ls(t,n){vi(n)?(t[Tl]=n[Cs],function Nm(t){uf.set(t[Cs],t)}(n)):t[Tl]=n}let q;function me(t,n){return q(t,n)}function Je(t){const n=t[sr];return F(n)?n[sr]:n}function _n(t){return zs(t[rs])}function Mr(t){return zs(t[ei])}function zs(t){for(;null!==t&&!F(t);)t=t[ei];return t}function Gs(t,n,i,o,c){if(null!=o){let l,m=!1;F(o)?l=o:vi(o)&&(m=!0,o=o[lr]);const I=Bn(o);0===t&&null!==i?null==c?pf(n,i,I):au(n,i,I,c||null,!0):1===t&&null!==i?au(n,i,I,c||null,!0):2===t?function Rl(t,n,i){const o=bl(t,n);o&&function ig(t,n,i,o){t.removeChild(n,i,o)}(t,o,n,i)}(n,I,m):3===t&&n.destroyNode(I),null!=l&&function Vm(t,n,i,o,c){const l=i[zr];l!==Bn(i)&&Gs(n,t,o,l,c);for(let I=ti;I<i.length;I++){const D=i[I];Nc(D[Rt],D,t,n,o,l)}}(n,t,l,i,c)}}function wl(t,n){return t.createComment(function Zp(t){return t.replace(Yp,n=>n.replace(Mc,af))}(n))}function Fu(t,n,i){return t.createElement(n,i)}function Dl(t,n){const i=t[is],o=i.indexOf(n);_o(n),i.splice(o,1)}function Cl(t,n){if(t.length<=ti)return;const i=ti+n,o=t[i];if(o){const c=o[Ys];null!==c&&c!==t&&Dl(c,o),n>0&&(t[i-1][ei]=o[ei]);const l=ll(t,ti+n);!function Bd(t,n){Nc(t,n,n[Ut],2,null,null),n[lr]=null,n[hr]=null}(o[Rt],o);const m=l[Ci];null!==m&&m.detachView(l[Rt]),o[sr]=null,o[ei]=null,o[nn]&=-129}return o}function ng(t,n){if(!(256&n[nn])){const i=n[Ut];n[Qo]&&Ea(n[Qo]),n[js]&&Ea(n[js]),i.destroyNode&&Nc(t,n,i,3,null,null),function Al(t){let n=t[rs];if(!n)return zd(t[Rt],t);for(;n;){let i=null;if(vi(n))i=n[rs];else{const o=n[ti];o&&(i=o)}if(!i){for(;n&&!n[ei]&&n!==t;)vi(n)&&zd(n[Rt],n),n=n[sr];null===n&&(n=t),vi(n)&&zd(n[Rt],n),i=n&&n[ei]}n=i}}(n)}}function zd(t,n){if(!(256&n[nn])){n[nn]&=-129,n[nn]|=256,function rg(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let o=0;o<i.length;o+=2){const c=n[i[o]];if(!(c instanceof Xa)){const l=i[o+1];if(Array.isArray(l))for(let m=0;m<l.length;m+=2){const I=c[l[m]],D=l[m+1];so(4,I,D);try{D.call(I)}finally{so(5,I,D)}}else{so(4,c,l);try{l.call(c)}finally{so(5,c,l)}}}}}(t,n),function Ey(t,n){const i=t.cleanup,o=n[ji];if(null!==i)for(let l=0;l<i.length-1;l+=2)if("string"==typeof i[l]){const m=i[l+3];m>=0?o[m]():o[-m].unsubscribe(),l+=2}else i[l].call(o[i[l+1]]);null!==o&&(n[ji]=null);const c=n[Un];if(null!==c){n[Un]=null;for(let l=0;l<c.length;l++)(0,c[l])()}}(t,n),1===n[Rt].type&&n[Ut].destroy();const i=n[Ys];if(null!==i&&F(n[sr])){i!==n[sr]&&Dl(i,n);const o=n[Ci];null!==o&&o.detachView(t)}!function Om(t){uf.delete(t[Cs])}(n)}}function hf(t,n,i){return function ff(t,n,i){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return i[lr];{const{componentOffset:c}=o;if(c>-1){const{encapsulation:l}=t.data[o.directiveStart+c];if(l===Fn.None||l===Fn.Emulated)return null}return ii(o,i)}}(t,n.parent,i)}function au(t,n,i,o,c){t.insertBefore(n,i,o,c)}function pf(t,n,i){t.appendChild(n,i)}function km(t,n,i,o,c){null!==o?au(t,n,i,o,c):pf(t,n,i)}function bl(t,n){return t.parentNode(n)}function gf(t,n,i){return mf(t,n,i)}let _f,qd,If,mf=function sg(t,n,i){return 40&t.type?ii(t,i):null};function Sl(t,n,i,o){const c=hf(t,o,n),l=n[Ut],I=gf(o.parent||n[hr],o,n);if(null!=c)if(Array.isArray(i))for(let D=0;D<i.length;D++)km(l,c,i[D],I,!1);else km(l,c,i,I,!1);void 0!==_f&&_f(l,o,n,i,c)}function Gd(t,n){if(null!==n){const i=n.type;if(3&i)return ii(n,t);if(4&i)return og(-1,t[n.index]);if(8&i){const o=n.child;if(null!==o)return Gd(t,o);{const c=t[n.index];return F(c)?og(-1,c):Bn(c)}}if(32&i)return me(n,t)()||Bn(t[n.index]);{const o=yf(t,n);return null!==o?Array.isArray(o)?o[0]:Gd(Je(t[pr]),o):Gd(t,n.next)}}return null}function yf(t,n){return null!==n?t[pr][hr].projection[n.projection]:null}function og(t,n){const i=ti+t+1;if(i<n.length){const o=n[i],c=o[Rt].firstChild;if(null!==c)return Gd(o,c)}return n[zr]}function Wd(t,n,i,o,c,l,m){for(;null!=i;){const I=o[i.index],D=i.type;if(m&&0===n&&(I&&ls(Bn(I),o),i.flags|=2),32!=(32&i.flags))if(8&D)Wd(t,n,i.child,o,c,l,!1),Gs(n,t,c,I,l);else if(32&D){const x=me(i,o);let $;for(;$=x();)Gs(n,t,c,$,l);Gs(n,t,c,I,l)}else 16&D?Oc(t,n,o,i,c,l):Gs(n,t,c,I,l);i=m?i.projectionNext:i.next}}function Nc(t,n,i,o,c,l){Wd(i,o,t.firstChild,n,c,l,!1)}function Oc(t,n,i,o,c,l){const m=i[pr],D=m[hr].projection[o.projection];if(Array.isArray(D))for(let x=0;x<D.length;x++)Gs(n,t,c,D[x],l);else{let x=D;const $=m[sr];Rc(o)&&(x.flags|=128),Wd(t,n,x,$,c,l,!0)}}function vf(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function ba(t,n,i){const{mergedAttrs:o,classes:c,styles:l}=i;null!==o&&fo(t,n,o),null!==c&&vf(t,n,c),null!==l&&function wy(t,n,i){t.setAttribute(n,"style",i)}(t,n,l)}function by(t){qd=t}function dg(t){return function Kd(){if(void 0===If&&(If=null,jt.trustedTypes))try{If=jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return If}()?.createScriptURL(t)||t}class Bm{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ot})`}}function Sa(t){return t instanceof Bm?t.changingThisBreaksApplicationSecurity:t}function Qd(t,n){const i=function Ml(t){return t instanceof Bm&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${ot})`)}return i===n}const ky=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Nl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Nl||{});function Gm(t){const n=Wn();return n?n.sanitize(Nl.URL,t)||"":Qd(t,"URL")?Sa(t):function Zd(t){return(t=String(t)).match(ky)?t:"unsafe:"+t}(ft(t))}function Wm(t){const n=Wn();if(n)return dg(n.sanitize(Nl.RESOURCE_URL,t)||"");if(Qd(t,"ResourceURL"))return dg(Sa(t));throw new ye(904,!1)}function vg(t,n,i){return function zy(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Wm:Gm}(n,i)(t)}function Wn(){const t=rt();return t&&t[$i].sanitizer}const Ol=new he("ENVIRONMENT_INITIALIZER"),Eg=new he("INJECTOR",-1),kl=new he("INJECTOR_DEF_TYPES");class Tg{get(n,i=It){if(i===It){const o=new Error(`NullInjectorError: No provider for ${Qe(n)}!`);throw o.name="NullInjectorError",o}return i}}function Ri(...t){return{\u0275providers:la(0,t),\u0275fromNgModule:!0}}function la(t,...n){const i=[],o=new Set;let c;const l=m=>{i.push(m)};return Su(n,m=>{const I=m;wg(I,l,[],o)&&(c||=[],c.push(I))}),void 0!==c&&Qm(c,l),i}function Qm(t,n){for(let i=0;i<t.length;i++){const{ngModule:o,providers:c}=t[i];Xm(c,l=>{n(l,o)})}}function wg(t,n,i,o){if(!(t=Xe(t)))return!1;let c=null,l=er(t);const m=!l&&yn(t);if(l||m){if(m&&!m.standalone)return!1;c=t}else{const D=t.ngModule;if(l=er(D),!l)return!1;c=D}const I=o.has(c);if(m){if(I)return!1;if(o.add(c),m.dependencies){const D="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const x of D)wg(x,n,i,o)}}else{if(!l)return!1;{if(null!=l.imports&&!I){let x;o.add(c);try{Su(l.imports,$=>{wg($,n,i,o)&&(x||=[],x.push($))})}finally{}void 0!==x&&Qm(x,n)}if(!I){const x=Ii(c)||(()=>new c);n({provide:c,useFactory:x,deps:cn},c),n({provide:kl,useValue:c,multi:!0},c),n({provide:Ol,useValue:()=>xr(c),multi:!0},c)}const D=l.providers;if(null!=D&&!I){const x=t;Xm(D,$=>{n($,x)})}}}return c!==t&&void 0!==t.providers}function Xm(t,n){for(let i of t)Dn(i)&&(i=i.\u0275providers),Array.isArray(i)?Xm(i,n):n(i)}const Ym=ze({provide:String,useValue:ze});function Sf(t){return null!==t&&"object"==typeof t&&Ym in t}function Ll(t){return"function"==typeof t}const Jm=new he("Set Injector scope."),Pf={},hi={};let Mf;function Ag(){return void 0===Mf&&(Mf=new Tg),Mf}class uu{}class ju extends uu{get destroyed(){return this._destroyed}constructor(n,i,o,c){super(),this.parent=i,this.source=o,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lc(n,m=>this.processProvider(m)),this.records.set(Eg,Jd(void 0,this)),c.has("environment")&&this.records.set(uu,Jd(void 0,this));const l=this.records.get(Jm);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(kl.multi,cn,St.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=ci(this),o=$n(void 0);try{return n()}finally{ci(i),$n(o)}}get(n,i=It,o=St.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Zi))return n[Zi](this);o=Yi(o);const l=ci(this),m=$n(void 0);try{if(!(o&St.SkipSelf)){let D=this.records.get(n);if(void 0===D){const x=function GI(t){return"function"==typeof t||"object"==typeof t&&t instanceof he}(n)&&un(n);D=x&&this.injectableDefInScope(x)?Jd(xf(n),Pf):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D)}return(o&St.Self?Ag():this.parent).get(n,i=o&St.Optional&&i===It?null:i)}catch(I){if("NullInjectorError"===I.name){if((I[en]=I[en]||[]).unshift(Qe(n)),l)throw I;return function Et(t,n,i,o){const c=t[en];throw n[Xr]&&c.unshift(n[Xr]),t.message=function Qt(t,n,i,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Qe(n);if(Array.isArray(n))c=n.map(Qe).join(" -> ");else if("object"==typeof n){let l=[];for(let m in n)if(n.hasOwnProperty(m)){let I=n[m];l.push(m+":"+("string"==typeof I?JSON.stringify(I):Qe(I)))}c=`{${l.join(", ")}}`}return`${i}${o?"("+o+")":""}[${c}]: ${t.replace(mr,"\n  ")}`}("\n"+t.message,c,i,o),t.ngTokenPath=c,t[en]=null,t}(I,n,"R3InjectorError",this.source)}throw I}finally{$n(m),ci(l)}}resolveInjectorInitializers(){const n=ci(this),i=$n(void 0);try{const c=this.get(Ol.multi,cn,St.Self);for(const l of c)l()}finally{ci(n),$n(i)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(Qe(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processProvider(n){let i=Ll(n=Xe(n))?n:Xe(n&&n.provide);const o=function $I(t){return Sf(t)?Jd(void 0,t.useValue):Jd(qy(t),Pf)}(n);if(Ll(n)||!0!==n.multi)this.records.get(i);else{let c=this.records.get(i);c||(c=Jd(void 0,Pf,!0),c.factory=()=>Fe(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,o)}hydrate(n,i){return i.value===Pf&&(i.value=hi,i.value=i.factory()),"object"==typeof i.value&&i.value&&function zI(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Xe(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function xf(t){const n=un(t),i=null!==n?n.factory:Ii(t);if(null!==i)return i;if(t instanceof he)throw new ye(204,!1);if(t instanceof Function)return function jI(t){const n=t.length;if(n>0)throw nu(n,"?"),new ye(204,!1);const i=function kn(t){return t&&(t[nr]||t[mn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new ye(204,!1)}function qy(t,n,i){let o;if(Ll(t)){const c=Xe(t);return Ii(c)||xf(c)}if(Sf(t))o=()=>Xe(t.useValue);else if(function Zm(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...Fe(t.deps||[]));else if(function Rf(t){return!(!t||!t.useExisting)}(t))o=()=>xr(Xe(t.useExisting));else{const c=Xe(t&&(t.useClass||t.provide));if(!function HI(t){return!!t.deps}(t))return Ii(c)||xf(c);o=()=>new c(...Fe(t.deps))}return o}function Jd(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Lc(t,n){for(const i of t)Array.isArray(i)?Lc(i,n):i&&Dn(i)?Lc(i.\u0275providers,n):n(i)}const e_=new he("AppId",{providedIn:"root",factory:()=>Fc}),Fc="ng",$u=new he("Platform Initializer"),t_=new he("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Nf=new he("CSP nonce",{providedIn:"root",factory:()=>function Uu(){if(void 0!==qd)return qd;if(typeof document<"u")return document;throw new ye(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Lf=(t,n,i)=>null;function Bl(t,n,i=!1){return Lf(t,n,i)}class jl{}class Zy{}class Bf{resolveComponentFactory(n){throw function KI(t){const n=Error(`No component factory found for ${Qe(t)}.`);return n.ngComponent=t,n}(n)}}let Cg=(()=>{class t{static{this.NULL=new Bf}}return t})();function QI(){return hu(Si(),rt())}function hu(t,n){return new jf(ii(t,n))}let jf=(()=>{class t{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=QI}}return t})();function XI(t){return t instanceof jf?t.nativeElement:t}class lh{}let YI=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function ZI(){const t=rt(),i=Gi(Si().index,t);return(vi(i)?i:t)[Ut]}()}}return t})(),o_=(()=>{class t{static{this.\u0275prov=pt({token:t,providedIn:"root",factory:()=>null})}}return t})();class bg{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Sg=new bg("16.2.12"),$f={};function fh(t,n=null,i=null,o){const c=$c(t,n,i,o);return c.resolveInjectorInitializers(),c}function $c(t,n=null,i=null,o,c=new Set){const l=[i||cn,Ri(t)];return o=o||("object"==typeof t?void 0:Qe(t)),new ju(l,n||Ag(),o||null,c)}let da=(()=>{class t{static{this.THROW_IF_NOT_FOUND=It}static{this.NULL=new Tg}static create(i,o){if(Array.isArray(i))return fh({name:""},o,i,"");{const c=i.name??"";return fh({name:c},i.parent,i.providers,c)}}static{this.\u0275prov=pt({token:t,providedIn:"any",factory:()=>xr(Eg)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function Ra(t){return t.ngOriginalError}class Hc{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Ra(n);for(;i&&Ra(i);)i=Ra(i);return i||null}}function a_(t){return n=>{setTimeout(t,void 0,n)}}const Pa=class nE extends R.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,o){let c=n,l=i||(()=>null),m=o;if(n&&"object"==typeof n){const D=n;c=D.next?.bind(D),l=D.error?.bind(D),m=D.complete?.bind(D)}this.__isAsync&&(l=a_(l),c&&(c=a_(c)),m&&(m=a_(m)));const I=super.subscribe({next:c,error:l,complete:m});return n instanceof fe.yU&&n.add(I),I}};function u_(...t){}class Es{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pa(!1),this.onMicrotaskEmpty=new Pa(!1),this.onStable=new Pa(!1),this.onError=new Pa(!1),typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!o&&i,c.shouldCoalesceRunChangeDetection=o,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function ov(){const t="function"==typeof jt.requestAnimationFrame;let n=jt[t?"requestAnimationFrame":"setTimeout"],i=jt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function av(t){const n=()=>{!function rE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(jt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Pg(t),t.isCheckStableRunning=!0,gh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Pg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,c,l,m,I)=>{if(function iE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(I))return i.invokeTask(c,l,m,I);try{return c_(t),i.invokeTask(c,l,m,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),l_(t)}},onInvoke:(i,o,c,l,m,I,D)=>{try{return c_(t),i.invoke(c,l,m,I,D)}finally{t.shouldCoalesceRunChangeDetection&&n(),l_(t)}},onHasTask:(i,o,c,l)=>{i.hasTask(c,l),o===c&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,Pg(t),gh(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(i,o,c,l)=>(i.handleError(c,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Es.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(Es.isInAngularZone())throw new ye(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,c){const l=this._inner,m=l.scheduleEventTask("NgZoneEvent: "+c,n,ph,u_,u_);try{return l.runTask(m,i,o)}finally{l.cancelTask(m)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const ph={};function gh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Pg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function c_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function l_(t){t._nesting--,gh(t)}class uv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pa,this.onMicrotaskEmpty=new Pa,this.onStable=new Pa,this.onError=new Pa}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,c){return n.apply(i,o)}}const cv=new he("",{providedIn:"root",factory:lv});function lv(){const t=Ln(Es);let n=!0;return function We(...t){const n=(0,Ae.lI)(t),i=(0,Ae.R0)(t,1/0),o=t;return o.length?1===o.length?(0,Z.Tg)(o[0]):(0,Ve.U)(i)((0,vt.H)(o,n)):ie.w}(new $e.c(c=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(n),c.complete()})}),new $e.c(c=>{let l;t.runOutsideAngular(()=>{l=t.onStable.subscribe(()=>{Es.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,c.next(!0))})})});const m=t.onUnstable.subscribe(()=>{Es.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),m.unsubscribe()}}).pipe(He()))}function dv(t){return t.ownerDocument.defaultView}function d_(t){return t.ownerDocument}function zu(t){return t instanceof Function?t():t}let p_=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=pt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function zf(t){for(;t;){t[nn]|=64;const n=Je(t);if(je(t)&&!n)return t;t=n}return null}const gv=new he("",{providedIn:"root",factory:()=>!1});let Og=null;function mv(t,n){return t[n]??kg()}function Gf(t,n){const i=kg();i.producerNode?.length&&(t[n]=Og,i.lView=t,Og=mh())}const Wf={...ec,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{zf(t.lView)},lView:null};function mh(){return Object.create(Wf)}function kg(){return Og??=mh(),Og}const Pn={};function _v(t){qf(Xn(),rt(),us()+t,!1)}function qf(t,n,i,o){if(!o)if(3==(3&n[nn])){const l=t.preOrderCheckHooks;null!==l&&ia(n,l,i)}else{const l=t.preOrderHooks;null!==l&&Ki(n,l,0,i)}Aa(i)}function zl(t,n=St.Default){const i=rt();return null===i?xr(t,n):Qh(Si(),i,Xe(t),n)}function __(){throw new Error("invalid")}function Kf(t,n,i,o,c,l,m,I,D,x,$){const J=n.blueprint.slice();return J[lr]=c,J[nn]=140|o,(null!==x||t&&2048&t[nn])&&(J[nn]|=2048),vu(J),J[sr]=J[_i]=t,J[fr]=i,J[$i]=m||t&&t[$i],J[Ut]=I||t&&t[Ut],J[Di]=D||t&&t[Di]||null,J[hr]=l,J[Cs]=function cf(){return Jp++}(),J[li]=$,J[On]=x,J[pr]=2==n.type?t[pr]:J,J}function Gl(t,n,i,o,c){let l=t.data[n];if(null===l)l=function Lg(t,n,i,o,c){const l=yo(),m=ta(),D=t.data[n]=function pE(t,n,i,o,c,l){let m=n?n.injectorIndex:-1,I=0;return ao()&&(I|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:c,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?l:l&&l.parent,i,n,o,c);return null===t.firstChild&&(t.firstChild=D),null!==l&&(m?null==l.child&&null!==D.parent&&(l.child=D):null===l.next&&(l.next=D,D.prev=l)),D}(t,n,i,o,c),function y(){return dn.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=i,l.value=o,l.attrs=c;const m=function Mo(){const t=dn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();l.injectorIndex=null===m?-1:m.injectorIndex}return as(l,!0),l}function Qf(t,n,i,o){if(0===i)return-1;const c=n.length;for(let l=0;l<i;l++)n.push(o),t.blueprint.push(o),t.data.push(null);return c}function vv(t,n,i,o,c){const l=mv(n,Qo),m=us(),I=2&o;try{Aa(-1),I&&n.length>ln&&qf(t,n,ln,!1),so(I?2:0,c);const x=I?l:null,$=Zo(x);try{null!==x&&(x.dirty=!1),i(o,c)}finally{Ro(x,$)}}finally{I&&null===n[Qo]&&Gf(n,Qo),Aa(m),so(I?3:1,c)}}function y_(t,n,i){if(U(n)){const o=Or(null);try{const l=n.directiveEnd;for(let m=n.directiveStart;m<l;m++){const I=t.data[m];I.contentQueries&&I.contentQueries(1,i[m],m)}}finally{Or(o)}}}function v_(t,n,i){ic()&&(function EE(t,n,i,o){const c=i.directiveStart,l=i.directiveEnd;ee(i)&&function SE(t,n,i){const o=ii(n,t),c=Iv(i);let m=16;i.signals?m=4096:i.onPush&&(m=64);const I=Xf(t,Kf(t,c,null,m,o,n,null,t[$i].rendererFactory.createRenderer(o,i),null,null,null));t[n.index]=I}(n,i,t.data[c+i.componentOffset]),t.firstCreatePass||Io(i,n),ls(o,n);const m=i.initialInputs;for(let I=c;I<l;I++){const D=t.data[I],x=oa(n,t,I,i);ls(x,n),null!==m&&RE(0,I-c,x,D,0,m),ve(D)&&(Gi(i.index,n)[fr]=oa(n,t,I,i))}}(t,n,i,ii(i,n)),64==(64&i.flags)&&A_(t,n,i))}function I_(t,n,i=ii){const o=n.localNames;if(null!==o){let c=n.index+1;for(let l=0;l<o.length;l+=2){const m=o[l+1],I=-1===m?i(n,t):t[m];t[c++]=I}}}function Iv(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=E_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function E_(t,n,i,o,c,l,m,I,D,x,$){const J=ln+o,_e=J+c,Ce=function cE(t,n){const i=[];for(let o=0;o<n;o++)i.push(o<t?null:Pn);return i}(J,_e),qe="function"==typeof x?x():x;return Ce[Rt]={type:t,blueprint:Ce,template:i,queries:null,viewQuery:I,declTNode:n,data:Ce.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:_e,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:D,consts:qe,incompleteFirstPass:!1,ssrId:$}}let Ev=t=>null;function wv(t,n,i,o){for(let c in t)if(t.hasOwnProperty(c)){i=null===i?{}:i;const l=t[c];null===o?Av(i,n,c,l):o.hasOwnProperty(c)&&Av(i,n,o[c],l)}return i}function Av(t,n,i,o){t.hasOwnProperty(i)?t[i].push(n,o):t[i]=[n,o]}function T_(t,n,i,o){if(ic()){const c=null===o?null:{"":-1},l=function wE(t,n){const i=t.directiveRegistry;let o=null,c=null;if(i)for(let l=0;l<i.length;l++){const m=i[l];if(Ji(n,m.selectors,!1))if(o||(o=[]),ve(m))if(null!==m.findHostDirectiveDefs){const I=[];c=c||new Map,m.findHostDirectiveDefs(m,I,c),o.unshift(...I,m),D_(t,n,I.length)}else o.unshift(m),D_(t,n,0);else c=c||new Map,m.findHostDirectiveDefs?.(m,o,c),o.push(m)}return null===o?null:[o,c]}(t,i);let m,I;null===l?m=I=null:[m,I]=l,null!==m&&w_(t,n,i,m,c,I),c&&function AE(t,n,i){if(n){const o=t.localNames=[];for(let c=0;c<n.length;c+=2){const l=i[n[c+1]];if(null==l)throw new ye(-301,!1);o.push(n[c],l)}}}(i,o,c)}i.mergedAttrs=gs(i.mergedAttrs,i.attrs)}function w_(t,n,i,o,c,l){for(let x=0;x<o.length;x++)fc(Io(i,n),t,o[x].type);!function CE(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,o.length);for(let x=0;x<o.length;x++){const $=o[x];$.providersResolver&&$.providersResolver($)}let m=!1,I=!1,D=Qf(t,n,o.length,null);for(let x=0;x<o.length;x++){const $=o[x];i.mergedAttrs=gs(i.mergedAttrs,$.hostAttrs),bE(t,i,n,D,$),DE(D,$,c),null!==$.contentQueries&&(i.flags|=4),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(i.flags|=64);const J=$.type.prototype;!m&&(J.ngOnChanges||J.ngOnInit||J.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),m=!0),!I&&(J.ngOnChanges||J.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),I=!0),D++}!function gE(t,n,i){const c=n.directiveEnd,l=t.data,m=n.attrs,I=[];let D=null,x=null;for(let $=n.directiveStart;$<c;$++){const J=l[$],_e=i?i.get(J):null,qe=_e?_e.outputs:null;D=wv(J.inputs,$,D,_e?_e.inputs:null),x=wv(J.outputs,$,x,qe);const dt=null===D||null===m||Vn(n)?null:Cv(D,$,m);I.push(dt)}null!==D&&(D.hasOwnProperty("class")&&(n.flags|=8),D.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=I,n.inputs=D,n.outputs=x}(t,i,l)}function A_(t,n,i){const o=i.directiveStart,c=i.directiveEnd,l=i.index,m=function C(){return dn.lFrame.currentDirectiveIndex}();try{Aa(l);for(let I=o;I<c;I++){const D=t.data[I],x=n[I];M(I),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&TE(D,x)}}finally{Aa(-1),M(m)}}function TE(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function D_(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function DE(t,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=t;ve(n)&&(i[""]=t)}}function bE(t,n,i,o,c){t.data[o]=c;const l=c.factory||(c.factory=Ii(c.type)),m=new Xa(l,ve(c),zl);t.blueprint[o]=m,i[o]=m,function vE(t,n,i,o,c){const l=c.hostBindings;if(l){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const I=~n.index;(function IE(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(m)!=I&&m.push(I),m.push(i,o,l)}}(t,n,o,Qf(t,i,c.hostVars,Pn),c)}function fu(t,n,i,o,c,l){const m=ii(t,n);!function C_(t,n,i,o,c,l,m){if(null==l)t.removeAttribute(n,c,i);else{const I=null==m?ft(l):m(l,o||"",c);t.setAttribute(n,c,I,i)}}(n[Ut],m,l,t.value,i,o,c)}function RE(t,n,i,o,c,l){const m=l[n];if(null!==m)for(let I=0;I<m.length;)Dv(o,i,m[I++],m[I++],m[I++])}function Dv(t,n,i,o,c){const l=Or(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(o)&&(c=m[o].call(n,c)),null!==t.setInput?t.setInput(n,c,i,o):n[o]=c}finally{Or(l)}}function Cv(t,n,i){let o=null,c=0;for(;c<i.length;){const l=i[c];if(0!==l)if(5!==l){if("number"==typeof l)break;if(t.hasOwnProperty(l)){null===o&&(o=[]);const m=t[l];for(let I=0;I<m.length;I+=2)if(m[I]===n){o.push(l,m[I+1],i[c+1]);break}}c+=2}else c+=2;else c+=4}return o}function bv(t,n,i,o){return[t,!0,!1,n,null,0,o,i,null,null,null]}function Sv(t,n){const i=t.contentQueries;if(null!==i)for(let o=0;o<i.length;o+=2){const l=i[o+1];if(-1!==l){const m=t.data[l];Me(i[o]),m.contentQueries(2,n[l],l)}}}function Xf(t,n){return t[rs]?t[tr][ei]=n:t[rs]=n,t[tr]=n,n}function b_(t,n,i){Me(0);const o=Or(null);try{n(t,i)}finally{Or(o)}}function Rv(t){return t[ji]||(t[ji]=[])}function Pv(t){return t.cleanup||(t.cleanup=[])}function xv(t,n){const i=t[Di],o=i?i.get(Hc,null):null;o&&o.handleError(n)}function S_(t,n,i,o,c){for(let l=0;l<i.length;){const m=i[l++],I=i[l++];Dv(t.data[m],n[m],o,I,c)}}function Wu(t,n,i){const o=$a(n,t);!function Lu(t,n,i){t.setValue(n,i)}(t[Ut],o,i)}function PE(t,n){const i=Gi(n,t),o=i[Rt];!function ME(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(o,i);const c=i[lr];null!==c&&null===i[li]&&(i[li]=Bl(c,i[Di])),R_(o,i,i[fr])}function R_(t,n,i){Zt(n);try{const o=t.viewQuery;null!==o&&b_(1,o,i);const c=t.template;null!==c&&vv(t,n,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Sv(t,n),t.staticViewQueries&&b_(2,t.viewQuery,i);const l=t.components;null!==l&&function xE(t,n){for(let i=0;i<n.length;i++)PE(t,n[i])}(n,l)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[nn]&=-5,vo()}}let Nv=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,o,c){const l=typeof Zone>"u"?null:Zone.current,m=function bi(t,n,i){const o=Object.create(Rs);i&&(o.consumerAllowSignalWrites=!0),o.fn=t,o.schedule=n;const c=m=>{o.cleanupFn=m};return o.ref={notify:()=>Yo(o),run:()=>{if(o.dirty=!1,o.hasRun&&!tc(o))return;o.hasRun=!0;const m=Zo(o);try{o.cleanupFn(),o.cleanupFn=Gr,o.fn(c)}finally{Ro(o,m)}},cleanup:()=>o.cleanupFn()},o.ref}(i,x=>{this.all.has(x)&&this.queue.set(x,l)},c);let I;this.all.add(m),m.notify();const D=()=>{m.cleanup(),I?.(),this.all.delete(m),this.queue.delete(m)};return I=o?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[i,o]of this.queue)this.queue.delete(i),o?o.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=pt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Fg(t,n,i){let o=i?t.styles:null,c=i?t.classes:null,l=0;if(null!==n)for(let m=0;m<n.length;m++){const I=n[m];"number"==typeof I?l=I:1==l?c=At(c,I):2==l&&(o=At(o,I+": "+n[++m]+";"))}i?t.styles=o:t.stylesWithoutHost=o,i?t.classes=c:t.classesWithoutHost=c}function Yf(t,n,i,o,c=!1){for(;null!==i;){const l=n[i.index];null!==l&&o.push(Bn(l)),F(l)&&Ov(l,o);const m=i.type;if(8&m)Yf(t,n,i.child,o);else if(32&m){const I=me(i,n);let D;for(;D=I();)o.push(D)}else if(16&m){const I=yf(n,i);if(Array.isArray(I))o.push(...I);else{const D=Je(n[pr]);Yf(D[Rt],D,I,o,!0)}}i=c?i.projectionNext:i.next}return o}function Ov(t,n){for(let i=ti;i<t.length;i++){const o=t[i],c=o[Rt].firstChild;null!==c&&Yf(o[Rt],o,c,n)}t[zr]!==t[lr]&&n.push(t[zr])}function Zf(t,n,i,o=!0){const c=n[$i],l=c.rendererFactory,m=c.afterRenderEventManager;l.begin?.(),m?.begin();try{kv(t,n,t.template,i)}catch(D){throw o&&xv(n,D),D}finally{l.end?.(),c.effectManager?.flush(),m?.end()}}function kv(t,n,i,o){const c=n[nn];if(256!=(256&c)){n[$i].effectManager?.flush(),Zt(n);try{vu(n),function al(t){return dn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&vv(t,n,i,2,o);const m=3==(3&c);if(m){const x=t.preOrderCheckHooks;null!==x&&ia(n,x,null)}else{const x=t.preOrderHooks;null!==x&&Ki(n,x,0,null),Eu(n,0)}if(function kE(t){for(let n=_n(t);null!==n;n=Mr(n)){if(!n[ya])continue;const i=n[is];for(let o=0;o<i.length;o++){Ha(i[o])}}}(n),Lv(n,2),null!==t.contentQueries&&Sv(t,n),m){const x=t.contentCheckHooks;null!==x&&ia(n,x)}else{const x=t.contentHooks;null!==x&&Ki(n,x,1),Eu(n,1)}!function yv(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const o=mv(n,js);try{for(let c=0;c<i.length;c++){const l=i[c];if(l<0)Aa(~l);else{const m=l,I=i[++c],D=i[++c];_(I,m),o.dirty=!1;const x=Zo(o);try{D(2,n[m])}finally{Ro(o,x)}}}}finally{null===n[js]&&Gf(n,js),Aa(-1)}}(t,n);const I=t.components;null!==I&&Vv(n,I,0);const D=t.viewQuery;if(null!==D&&b_(2,D,o),m){const x=t.viewCheckHooks;null!==x&&ia(n,x)}else{const x=t.viewHooks;null!==x&&Ki(n,x,2),Eu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[nn]&=-73,_o(n)}finally{vo()}}}function Lv(t,n){for(let i=_n(t);null!==i;i=Mr(i))for(let o=ti;o<i.length;o++)Fv(i[o],n)}function LE(t,n,i){Fv(Gi(n,t),i)}function Fv(t,n){if(!function ud(t){return 128==(128&t[nn])}(t))return;const i=t[Rt],o=t[nn];if(80&o&&0===n||1024&o||2===n)kv(i,t,i.template,t[fr]);else if(t[ns]>0){Lv(t,1);const c=i.components;null!==c&&Vv(t,c,1)}}function Vv(t,n,i){for(let o=0;o<n.length;o++)LE(t,n[o],i)}class Jf{get rootNodes(){const n=this._lView,i=n[Rt];return Yf(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fr]}set context(n){this._lView[fr]=n}get destroyed(){return 256==(256&this._lView[nn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[sr];if(F(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(Cl(n,o),ll(i,o))}this._attachedToViewContainer=!1}ng(this._lView[Rt],this._lView)}onDestroy(n){!function rl(t,n){if(256==(256&t[nn]))throw new ye(911,!1);null===t[Un]&&(t[Un]=[]),t[Un].push(n)}(this._lView,n)}markForCheck(){zf(this._cdRefInjectingView||this._lView)}detach(){this._lView[nn]&=-129}reattach(){this._lView[nn]|=128}detectChanges(){Zf(this._lView[Rt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $d(t,n){Nc(t,n,n[Ut],2,null,null)}(this._lView[Rt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=n}}class FE extends Jf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Zf(n[Rt],n,n[fr],!1)}checkNoChanges(){}get context(){return null}}class Uv extends Cg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=yn(n);return new _h(i,this.ngModule)}}function Bv(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class VE{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=Yi(o);const c=this.injector.get(n,$f,o);return c!==$f||i===$f?c:this.parentInjector.get(n,i,o)}}class _h extends Zy{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=Bv(n.inputs);if(null!==i)for(const c of o)i.hasOwnProperty(c.propName)&&(c.transform=i[c.propName]);return o}get outputs(){return Bv(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function dr(t){return t.map(es).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,c){let l=(c=c||this.ngModule)instanceof uu?c:c?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const m=l?new VE(n,l):n,I=m.get(lh,null);if(null===I)throw new ye(407,!1);const J={rendererFactory:I,sanitizer:m.get(o_,null),effectManager:m.get(Nv,null),afterRenderEventManager:m.get(p_,null)},_e=I.createRenderer(null,this.componentDef),Ce=this.componentDef.selectors[0][0]||"div",qe=o?function lE(t,n,i,o){const l=o.get(gv,!1)||i===Fn.ShadowDom,m=t.selectRootElement(n,l);return function dE(t){Ev(t)}(m),m}(_e,o,this.componentDef.encapsulation,m):Fu(_e,Ce,function jv(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Ce)),qt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let it=null;null!==qe&&(it=Bl(qe,m,!0));const Sn=E_(0,null,null,1,0,null,null,null,null,null,null),Jn=Kf(null,Sn,null,qt,null,null,J,_e,m,null,it);let Kr,Go;Zt(Jn);try{const Xc=this.componentDef;let Mp,VI=null;Xc.findHostDirectiveDefs?(Mp=[],VI=new Map,Xc.findHostDirectiveDefs(Xc,Mp,VI),Mp.push(Xc)):Mp=[Xc];const rb=function a(t,n){const i=t[Rt],o=ln;return t[o]=n,Gl(i,o,2,"#host",null)}(Jn,qe),ib=function e(t,n,i,o,c,l,m){const I=c[Rt];!function r(t,n,i,o){for(const c of t)n.mergedAttrs=gs(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(Fg(n,n.mergedAttrs,!0),null!==i&&ba(o,i,n))}(o,t,n,m);let D=null;null!==n&&(D=Bl(n,c[Di]));const x=l.rendererFactory.createRenderer(n,i);let $=16;i.signals?$=4096:i.onPush&&($=64);const J=Kf(c,Iv(i),null,$,c[t.index],t,l,x,null,null,D);return I.firstCreatePass&&D_(I,t,o.length-1),Xf(c,J),c[t.index]=J}(rb,qe,Xc,Mp,Jn,J,_e);Go=Po(Sn,ln),qe&&function u(t,n,i,o){if(o)fo(t,i,["ng-version",Sg.full]);else{const{attrs:c,classes:l}=function Ai(t){const n=[],i=[];let o=1,c=2;for(;o<t.length;){let l=t[o];if("string"==typeof l)2===c?""!==l&&n.push(l,t[++o]):8===c&&i.push(l);else{if(!pn(c))break;c=l}o++}return{attrs:n,classes:i}}(n.selectors[0]);c&&fo(t,i,c),l&&l.length>0&&vf(t,i,l.join(" "))}}(_e,Xc,qe,o),void 0!==i&&function h(t,n,i){const o=t.projection=[];for(let c=0;c<n.length;c++){const l=i[c];o.push(null!=l?Array.from(l):null)}}(Go,this.ngContentSelectors,i),Kr=function s(t,n,i,o,c,l){const m=Si(),I=c[Rt],D=ii(m,c);w_(I,c,m,i,null,o);for(let $=0;$<i.length;$++)ls(oa(c,I,m.directiveStart+$,m),c);A_(I,c,m),D&&ls(D,c);const x=oa(c,I,m.directiveStart+m.componentOffset,m);if(t[fr]=c[fr]=x,null!==l)for(const $ of l)$(x,n);return y_(I,m,t),x}(ib,Xc,Mp,VI,Jn,[g]),R_(Sn,Jn,null)}finally{vo()}return new UE(this.componentType,Kr,hu(Go,Jn),Jn,Go)}}class UE extends jl{constructor(n,i,o,c,l){super(),this.location=o,this._rootLView=c,this._tNode=l,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new FE(c),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let c;if(null!==o&&(c=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const l=this._rootLView;S_(l[Rt],l,c,n,i),this.previousInputValues.set(n,i),zf(Gi(this._tNode.index,l))}}get injector(){return new Is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function g(){const t=Si();Oo(rt()[Rt],t)}function b(t){let n=function T(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const o=[t];for(;n;){let c;if(ve(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ye(903,!1);c=n.\u0275dir}if(c){if(i){o.push(c);const m=t;m.inputs=G(t.inputs),m.inputTransforms=G(t.inputTransforms),m.declaredInputs=G(t.declaredInputs),m.outputs=G(t.outputs);const I=c.hostBindings;I&&Ne(t,I);const D=c.viewQuery,x=c.contentQueries;if(D&&Y(t,D),x&&le(t,x),st(t.inputs,c.inputs),st(t.declaredInputs,c.declaredInputs),st(t.outputs,c.outputs),null!==c.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),st(m.inputTransforms,c.inputTransforms)),ve(c)&&c.data.animation){const $=t.data;$.animation=($.animation||[]).concat(c.data.animation)}}const l=c.features;if(l)for(let m=0;m<l.length;m++){const I=l[m];I&&I.ngInherit&&I(t),I===b&&(i=!1)}}n=Object.getPrototypeOf(n)}!function N(t){let n=0,i=null;for(let o=t.length-1;o>=0;o--){const c=t[o];c.hostVars=n+=c.hostVars,c.hostAttrs=gs(c.hostAttrs,i=gs(i,c.hostAttrs))}}(o)}function G(t){return t===xn?{}:t===cn?[]:t}function Y(t,n){const i=t.viewQuery;t.viewQuery=i?(o,c)=>{n(o,c),i(o,c)}:n}function le(t,n){const i=t.contentQueries;t.contentQueries=i?(o,c,l)=>{n(o,c,l),i(o,c,l)}:n}function Ne(t,n){const i=t.hostBindings;t.hostBindings=i?(o,c)=>{n(o,c),i(o,c)}:n}function Te(t){const n=t.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const c=n[o];Array.isArray(c)&&c[2]&&(i[o]=c[2])}t.inputTransforms=i}function ge(t){return!!ke(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ke(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function hs(t,n,i){return t[n]=i}function ks(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function ha(t,n,i,o){const c=ks(t,n,i);return ks(t,n+1,o)||c}function ep(t,n,i,o){const c=rt();return ks(c,qa(),n)&&(Xn(),fu(jr(),c,t,n,i,o)),ep}function Pi(t,n,i,o,c,l){const I=ha(t,function uo(){return dn.lFrame.bindingIndex}(),i,c);return qi(2),I?n+ft(i)+o+ft(c)+l:Pn}function U_(t,n,i,o,c,l,m,I){const D=rt(),x=Xn(),$=t+ln,J=x.firstCreatePass?function bh(t,n,i,o,c,l,m,I,D){const x=n.consts,$=Gl(n,t,4,m||null,mo(x,I));T_(n,i,$,mo(x,D)),Oo(n,$);const J=$.tView=E_(2,$,o,c,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,x,null);return null!==n.queries&&(n.queries.template(n,$),J.queries=n.queries.embeddedTView($)),$}($,x,D,n,i,o,c,l,m):x.data[$];as(J,!1);const _e=B_(x,D,J,t);Iu()&&Sl(x,D,_e,J),ls(_e,D),Xf(D,D[$]=bv(_e,D,_e,J)),ne(J)&&v_(x,D,J),null!=m&&I_(D,J,I)}let B_=function qc(t,n,i,o){return No(!0),n[Ut].createComment("")};function Wg(t){return oo(function Wa(){return dn.lFrame.contextLView}(),ln+t)}function Sh(t,n,i){const o=rt();return ks(o,qa(),n)&&function To(t,n,i,o,c,l,m,I){const D=ii(n,i);let $,x=n.inputs;!I&&null!=x&&($=x[o])?(S_(t,i,$,o,c),ee(n)&&function _E(t,n){const i=Gi(n,t);16&i[nn]||(i[nn]|=64)}(i,n.index)):3&n.type&&(o=function mE(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),c=null!=m?m(c,n.value||"",o):c,l.setProperty(D,o,c))}(Xn(),jr(),o,t,n,o[Ut],i,!1),Sh}function Yl(t,n,i,o,c){const m=c?"class":"style";S_(t,i,n.inputs[m],m,o)}function Rh(t,n,i,o){const c=rt(),l=Xn(),m=ln+t,I=c[Ut],D=l.firstCreatePass?function Ku(t,n,i,o,c,l){const m=n.consts,D=Gl(n,t,2,o,mo(m,c));return T_(n,i,D,mo(m,l)),null!==D.attrs&&Fg(D,D.attrs,!1),null!==D.mergedAttrs&&Fg(D,D.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,D),D}(m,l,c,n,i,o):l.data[m],x=lp(l,c,D,I,n,t);c[m]=x;const $=ne(D);return as(D,!0),ba(I,x,D),32!=(32&D.flags)&&Iu()&&Sl(l,c,x,D),0===function sl(){return dn.lFrame.elementDepthCount}()&&ls(x,c),function Yr(){dn.lFrame.elementDepthCount++}(),$&&(v_(l,c,D),y_(l,D,c)),null!==o&&I_(c,D),Rh}function Ph(){let t=Si();ta()?wa():(t=t.parent,as(t,!1));const n=t;(function Ga(t){return dn.skipHydrationRootTNode===t})(n)&&function oc(){dn.skipHydrationRootTNode=null}(),function rc(){dn.lFrame.elementDepthCount--}();const i=Xn();return i.firstCreatePass&&(Oo(i,t),U(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Tu(t){return 0!=(8&t.flags)}(n)&&Yl(i,n,rt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Dm(t){return 0!=(16&t.flags)}(n)&&Yl(i,n,rt(),n.stylesWithoutHost,!1),Ph}function Mh(t,n,i,o){return Rh(t,n,i,o),Ph(),Mh}let lp=(t,n,i,o,c,l)=>(No(!0),Fu(o,c,function xp(){return dn.lFrame.currentNamespace}()));function Kc(t,n,i){const o=rt(),c=Xn(),l=t+ln,m=c.firstCreatePass?function qv(t,n,i,o,c){const l=n.consts,m=mo(l,o),I=Gl(n,t,8,"ng-container",m);return null!==m&&Fg(I,m,!0),T_(n,i,I,mo(l,c)),null!==n.queries&&n.queries.elementStart(n,I),I}(l,c,o,n,i):c.data[l];as(m,!0);const I=Zl(c,o,m,t);return o[l]=I,Iu()&&Sl(c,o,I,m),ls(I,o),ne(m)&&(v_(c,o,m),y_(c,m,o)),null!=i&&I_(o,m),Kc}function xh(){let t=Si();const n=Xn();return ta()?wa():(t=t.parent,as(t,!1)),n.firstCreatePass&&(Oo(n,t),U(t)&&n.queries.elementEnd(t)),xh}let Zl=(t,n,i,o)=>(No(!0),wl(n[Ut],""));function H_(){return rt()}function hp(t){return!!t&&"function"==typeof t.then}function Kg(t){return!!t&&"function"==typeof t.subscribe}function fp(t,n,i,o){const c=rt(),l=Xn(),m=Si();return function Xg(t,n,i,o,c,l,m){const I=ne(o),x=t.firstCreatePass&&Pv(t),$=n[fr],J=Rv(n);let _e=!0;if(3&o.type||m){const dt=ii(o,n),xt=m?m(dt):dt,qt=J.length,it=m?Jn=>m(Bn(Jn[o.index])):o.index;let Sn=null;if(!m&&I&&(Sn=function Qg(t,n,i,o){const c=t.cleanup;if(null!=c)for(let l=0;l<c.length-1;l+=2){const m=c[l];if(m===i&&c[l+1]===o){const I=n[ji],D=c[l+2];return I.length>D?I[D]:null}"string"==typeof m&&(l+=2)}return null}(t,n,c,o.index)),null!==Sn)(Sn.__ngLastListenerFn__||Sn).__ngNextListenerFn__=l,Sn.__ngLastListenerFn__=l,_e=!1;else{l=z_(o,n,$,l,!1);const Jn=i.listen(xt,c,l);J.push(l,Jn),x&&x.push(c,it,qt,qt+1)}}else l=z_(o,n,$,l,!1);const Ce=o.outputs;let qe;if(_e&&null!==Ce&&(qe=Ce[c])){const dt=qe.length;if(dt)for(let xt=0;xt<dt;xt+=2){const Kr=n[qe[xt]][qe[xt+1]].subscribe(l),Go=J.length;J.push(l,Kr),x&&x.push(c,o.index,Go,-(Go+1))}}}(l,c,c[Ut],m,t,n,o),fp}function Yg(t,n,i,o){try{return so(6,n,i),!1!==i(o)}catch(c){return xv(t,c),!1}finally{so(7,n,i)}}function z_(t,n,i,o,c){return function l(m){if(m===Function)return o;zf(t.componentOffset>-1?Gi(t.index,n):n);let D=Yg(n,i,o,m),x=l.__ngNextListenerFn__;for(;x;)D=Yg(n,i,x,m)&&D,x=x.__ngNextListenerFn__;return c&&!1===D&&m.preventDefault(),D}}function G_(t=1){return function Ka(t){return(dn.lFrame.contextLView=function na(t,n){for(;t>0;)n=n[_i],t--;return n}(t,dn.lFrame.contextLView))[fr]}(t)}function W_(t,n){let i=null;const o=function ai(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let c=0;c<n.length;c++){const l=n[c];if("*"!==l){if(null===o?Ji(t,l,!0):vr(o,l))return c}else i=c}return i}function Zg(t){const n=rt()[pr][hr];if(!n.projection){const o=n.projection=nu(t?t.length:1,null),c=o.slice();let l=n.child;for(;null!==l;){const m=t?W_(l,t):0;null!==m&&(c[m]?c[m].projectionNext=l:o[m]=l,c[m]=l),l=l.next}}}function q_(t,n=0,i){const o=rt(),c=Xn(),l=Gl(c,ln+t,16,null,i||null);null===l.projection&&(l.projection=n),wa(),(!o[li]||ao())&&32!=(32&l.flags)&&function ag(t,n,i){Oc(n[Ut],0,n,i,hf(t,i,n),gf(i.parent||n[hr],i,n))}(c,o,l)}function Lh(t,n){return t<<17|n<<2}function Xu(t){return t>>17&32767}function em(t){return 2|t}function pa(t){return(131068&t)>>2}function Oa(t,n){return-131069&t|n<<2}function gp(t){return 1|t}function X_(t,n,i,o,c){const l=t[i+1],m=null===n;let I=o?Xu(l):pa(l),D=!1;for(;0!==I&&(!1===D||m);){const $=t[I+1];Yu(t[I],n)&&(D=!0,t[I+1]=o?gp($):em($)),I=o?Xu($):pa($)}D&&(t[i+1]=o?em(l):gp(l))}function Yu(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ru(t,n)>=0}const Qi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Y_(t){return t.substring(Qi.key,Qi.keyEnd)}function tm(t,n){const i=Qi.textEnd;return i===n?-1:(n=Qi.keyEnd=function Ti(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Qi.key=n,i),Zu(t,n,i))}function Zu(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function _p(t,n){return function $o(t,n,i,o){const c=rt(),l=Xn(),m=qi(2);l.firstUpdatePass&&im(l,t,m,o),n!==Pn&&ks(c,m,n)&&om(l,l.data[us()],c,c[Ut],t,c[m+1]=function iy(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Qe(Sa(t)))),t}(n,i),o,m)}(t,n,null,!0),_p}function ty(t){!function Ao(t,n,i,o){const c=Xn(),l=qi(2);c.firstUpdatePass&&im(c,null,l,o);const m=rt();if(i!==Pn&&ks(m,l,i)){const I=c.data[us()];if(um(I,o)&&!jh(c,l)){let D=o?I.classesWithoutHost:I.stylesWithoutHost;null!==D&&(i=At(D,i||"")),Yl(c,I,m,i,o)}else!function Ep(t,n,i,o,c,l,m,I){c===Pn&&(c=cn);let D=0,x=0,$=0<c.length?c[0]:null,J=0<l.length?l[0]:null;for(;null!==$||null!==J;){const _e=D<c.length?c[D+1]:void 0,Ce=x<l.length?l[x+1]:void 0;let dt,qe=null;$===J?(D+=2,x+=2,_e!==Ce&&(qe=J,dt=Ce)):null===J||null!==$&&$<J?(D+=2,qe=$):(x+=2,qe=J,dt=Ce),null!==qe&&om(t,n,i,o,qe,dt,m,I),$=D<c.length?c[D]:null,J=x<l.length?l[x]:null}}(c,I,m,m[Ut],m[l+1],m[l+1]=function sm(t,n,i){if(null==i||""===i)return cn;const o=[],c=Sa(i);if(Array.isArray(c))for(let l=0;l<c.length;l++)t(o,c[l],!0);else if("object"==typeof c)for(const l in c)c.hasOwnProperty(l)&&t(o,l,c[l]);else"string"==typeof c&&n(o,c);return o}(t,n,i),o,l)}}(ry,lo,t,!0)}function lo(t,n){for(let i=function mp(t){return function nm(t){Qi.key=0,Qi.keyEnd=0,Qi.value=0,Qi.valueEnd=0,Qi.textEnd=t.length}(t),tm(t,Zu(t,0,Qi.textEnd))}(n);i>=0;i=tm(n,i))Hs(t,Y_(n),!0)}function jh(t,n){return n>=t.expandoStartIndex}function im(t,n,i,o){const c=t.data;if(null===c[i+1]){const l=c[us()],m=jh(t,i);um(l,o)&&null===n&&!m&&(n=!1),n=function yp(t,n,i,o){const c=function H(t){const n=dn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let l=o?n.residualClasses:n.residualStyles;if(null===c)0===(o?n.classBindings:n.styleBindings)&&(i=nd(i=vp(null,t,n,i,o),n.attrs,o),l=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==c)if(i=vp(c,t,n,i,o),null===l){let D=function tI(t,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==pa(o))return t[Xu(o)]}(t,n,o);void 0!==D&&Array.isArray(D)&&(D=vp(null,t,n,D[1],o),D=nd(D,n.attrs,o),function ny(t,n,i,o){t[Xu(i?n.classBindings:n.styleBindings)]=o}(t,n,o,D))}else l=function $h(t,n,i){let o;const c=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<c;l++)o=nd(o,t[l].hostAttrs,i);return nd(o,n.attrs,i)}(t,n,o)}return void 0!==l&&(o?n.residualClasses=l:n.residualStyles=l),i}(c,l,n,o),function Yv(t,n,i,o,c,l){let m=l?n.classBindings:n.styleBindings,I=Xu(m),D=pa(m);t[o]=i;let $,x=!1;if(Array.isArray(i)?($=i[1],(null===$||ru(i,$)>0)&&(x=!0)):$=i,c)if(0!==D){const _e=Xu(t[I+1]);t[o+1]=Lh(_e,I),0!==_e&&(t[_e+1]=Oa(t[_e+1],o)),t[I+1]=function Qv(t,n){return 131071&t|n<<17}(t[I+1],o)}else t[o+1]=Lh(I,0),0!==I&&(t[I+1]=Oa(t[I+1],o)),I=o;else t[o+1]=Lh(D,0),0===I?I=o:t[D+1]=Oa(t[D+1],o),D=o;x&&(t[o+1]=em(t[o+1])),X_(t,$,o,!0),X_(t,$,o,!1),function Zv(t,n,i,o,c){const l=c?t.residualClasses:t.residualStyles;null!=l&&"string"==typeof n&&ru(l,n)>=0&&(i[o+1]=gp(i[o+1]))}(n,$,t,o,l),m=Lh(I,D),l?n.classBindings=m:n.styleBindings=m}(c,l,n,i,m,o)}}function vp(t,n,i,o,c){let l=null;const m=i.directiveEnd;let I=i.directiveStylingLast;for(-1===I?I=i.directiveStart:I++;I<m&&(l=n[I],o=nd(o,l.hostAttrs,c),l!==t);)I++;return null!==t&&(i.directiveStylingLast=I),o}function nd(t,n,i){const o=i?1:2;let c=-1;if(null!==n)for(let l=0;l<n.length;l++){const m=n[l];"number"==typeof m?c=m:c===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Hs(t,m,!!i||n[++l]))}return void 0===t?null:t}function ry(t,n,i){const o=String(n);""!==o&&!o.includes(" ")&&Hs(t,o,i)}function om(t,n,i,o,c,l,m,I){if(!(3&n.type))return;const D=t.data,x=D[I+1],$=function Q_(t){return 1==(1&t)}(x)?am(D,n,i,c,pa(x),m):void 0;ka($)||(ka(l)||function Kv(t){return 2==(2&t)}(x)&&(l=am(D,null,i,c,I,m)),function ug(t,n,i,o,c){if(n)c?t.addClass(i,o):t.removeClass(i,o);else{let l=-1===o.indexOf("-")?void 0:Pc.DashCase;null==c?t.removeStyle(i,o,l):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),l|=Pc.Important),t.setStyle(i,o,c,l))}}(o,m,$a(us(),i),c,l))}function am(t,n,i,o,c,l){const m=null===n;let I;for(;c>0;){const D=t[c],x=Array.isArray(D),$=x?D[1]:D,J=null===$;let _e=i[c+1];_e===Pn&&(_e=J?cn:void 0);let Ce=J?vc(_e,o):$===o?_e:void 0;if(x&&!ka(Ce)&&(Ce=vc(D,o)),ka(Ce)&&(I=Ce,m))return I;const qe=t[c+1];c=m?Xu(qe):pa(qe)}if(null!==n){let D=l?n.residualClasses:n.residualStyles;null!=D&&(I=vc(D,o))}return I}function ka(t){return void 0!==t}function um(t,n){return 0!=(t.flags&(n?8:16))}function cm(t,n=""){const i=rt(),o=Xn(),c=t+ln,l=o.firstCreatePass?Gl(o,c,1,n,null):o.data[c],m=lm(o,i,l,n,t);i[c]=m,Iu()&&Sl(o,i,m,l),as(l,!1)}let lm=(t,n,i,o,c)=>(No(!0),function jo(t,n){return t.createText(n)}(n[Ut],o));function wp(t){return Hh("",t,""),wp}function Hh(t,n,i){const o=rt(),c=function wo(t,n,i,o){return ks(t,qa(),i)?n+ft(i)+o:Pn}(o,t,n,i);return c!==Pn&&Wu(o,us(),c),Hh}function Ju(t,n,i,o,c){const l=rt(),m=Pi(l,t,n,i,o,c);return m!==Pn&&Wu(l,us(),m),Ju}const zh=void 0;var x0=["en",[["a","p"],["AM","PM"],zh],[["AM","PM"],zh,zh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zh,"{1} 'at' {0}",zh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function M0(t){const i=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let Dp={};function nI(t){const n=function N0(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=ZE(n);if(i)return i;const o=n.split("-")[0];if(i=ZE(o),i)return i;if("en"===o)return x0;throw new ye(701,!1)}function YE(t){return nI(t)[Cp.PluralCase]}function ZE(t){return t in Dp||(Dp[t]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[t]),Dp[t]}var Cp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Cp||{});const bp="en-US";let JE=bp;function sI(t,n,i,o,c){if(t=Xe(t),Array.isArray(t))for(let l=0;l<t.length;l++)sI(t[l],n,i,o,c);else{const l=Xn(),m=rt(),I=Si();let D=Ll(t)?t:Xe(t.provide);const x=qy(t),$=1048575&I.providerIndexes,J=I.directiveStart,_e=I.providerIndexes>>20;if(Ll(t)||!t.multi){const Ce=new Xa(x,c,zl),qe=aI(D,n,c?$:$+_e,J);-1===qe?(fc(Io(I,m),l,D),oI(l,t,n.length),n.push(D),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(Ce),m.push(Ce)):(i[qe]=Ce,m[qe]=Ce)}else{const Ce=aI(D,n,$+_e,J),qe=aI(D,n,$,$+_e),xt=qe>=0&&i[qe];if(c&&!xt||!c&&!(Ce>=0&&i[Ce])){fc(Io(I,m),l,D);const qt=function MA(t,n,i,o,c){const l=new Xa(t,i,zl);return l.multi=[],l.index=n,l.componentProviders=0,AT(l,c,o&&!i),l}(c?PA:RA,i.length,c,o,x);!c&&xt&&(i[qe].providerFactory=qt),oI(l,t,n.length,0),n.push(D),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(qt),m.push(qt)}else oI(l,t,Ce>-1?Ce:qe,AT(i[c?qe:Ce],x,!c&&o));!c&&o&&xt&&i[qe].componentProviders++}}}function oI(t,n,i,o){const c=Ll(n),l=function Wr(t){return!!t.useClass}(n);if(c||l){const D=(l?Xe(n.useClass):n).prototype.ngOnDestroy;if(D){const x=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const $=x.indexOf(i);-1===$?x.push(i,[o,D]):x[$+1].push(o,D)}else x.push(i,D)}}}function AT(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function aI(t,n,i,o){for(let c=i;c<o;c++)if(n[c]===t)return c;return-1}function RA(t,n,i,o){return uI(this.multi,[])}function PA(t,n,i,o){const c=this.multi;let l;if(this.providerFactory){const m=this.providerFactory.componentProviders,I=oa(i,i[Rt],this.providerFactory.index,o);l=I.slice(0,m),uI(c,l);for(let D=m;D<I.length;D++)l.push(I[D])}else l=[],uI(c,l);return l}function uI(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function DT(t,n=[]){return i=>{i.providersResolver=(o,c)=>function SA(t,n,i){const o=Xn();if(o.firstCreatePass){const c=ve(t);sI(i,o.data,o.blueprint,c,!0),sI(n,o.data,o.blueprint,c,!1)}}(o,c?c(t):t,n)}}class Gh{}class CT{}function xA(t,n){return new cI(t,n??null,[])}class cI extends Gh{constructor(n,i,o){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Uv(this);const c=Hr(n);this._bootstrapComponents=zu(c.bootstrap),this._r3Injector=$c(n,i,[{provide:Gh,useValue:this},{provide:Cg,useValue:this.componentFactoryResolver},...o],Qe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class lI extends CT{constructor(n){super(),this.moduleType=n}create(n){return new cI(this.moduleType,n,[])}}class bT extends Gh{constructor(n){super(),this.componentFactoryResolver=new Uv(this),this.instance=null;const i=new ju([...n.providers,{provide:Gh,useValue:this},{provide:Cg,useValue:this.componentFactoryResolver}],n.parent||Ag(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function ST(t,n,i=null){return new bT({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let OA=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const o=la(0,i.type),c=o.length>0?ST([o],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=pt({token:t,providedIn:"environment",factory:()=>new t(xr(uu))})}}return t})();function RT(t){t.getStandaloneInjector=n=>n.get(OA).getOrCreateStandaloneInjector(t)}function LT(t,n,i,o,c,l){return function UT(t,n,i,o,c,l,m,I){const D=n+i;return function qu(t,n,i,o,c){const l=ha(t,n,i,o);return ks(t,n+2,c)||l}(t,D,c,l,m)?hs(t,D+3,I?o.call(I,c,l,m):o(c,l,m)):_m(t,D+3)}(rt(),Wi(),t,n,i,o,c,l)}function _m(t,n){const i=t[n];return i===Pn?void 0:i}function $T(t,n){const i=Xn();let o;const c=t+ln;i.firstCreatePass?(o=function ZA(t,n){if(n)for(let i=n.length-1;i>=0;i--){const o=n[i];if(t===o.name)return o}}(n,i.pipeRegistry),i.data[c]=o,o.onDestroy&&(i.destroyHooks??=[]).push(c,o.onDestroy)):o=i.data[c];const l=o.factory||(o.factory=Ii(o.type)),I=$n(zl);try{const D=Za(!1),x=l();return Za(D),function cp(t,n,i,o){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=o}(i,rt(),c,x),x}finally{$n(I)}}function HT(t,n,i){const o=t+ln,c=rt(),l=oo(c,o);return ym(c,o)?function FT(t,n,i,o,c,l){const m=n+i;return ks(t,m,c)?hs(t,m+1,l?o.call(l,c):o(c)):_m(t,m+1)}(c,Wi(),n,l.transform,i,l):l.transform(i)}function zT(t,n,i,o){const c=t+ln,l=rt(),m=oo(l,c);return ym(l,c)?function VT(t,n,i,o,c,l,m){const I=n+i;return ha(t,I,c,l)?hs(t,I+2,m?o.call(m,c,l):o(c,l)):_m(t,I+2)}(l,Wi(),n,m.transform,i,o,m):m.transform(i,o)}function ym(t,n){return t[Rt].data[n].pure}function nD(){return this._results[Symbol.iterator]()}class hI{get changes(){return this._changes||(this._changes=new Pa)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=hI.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=nD)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const o=this;o.dirty=!1;const c=function xs(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Ad(t,n,i){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let c=t[o],l=n[o];if(i&&(c=i(c),l=i(l)),l!==c)return!1}return!0}(o._results,c,i))&&(o._results=c,o.length=c.length,o.last=c[this.length-1],o.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function iD(t,n,i,o=!0){const c=n[Rt];if(function Hd(t,n,i,o){const c=ti+o,l=i.length;o>0&&(i[c-1][ei]=n),o<l-ti?(n[ei]=i[c],Dd(i,ti+o,n)):(i.push(n),n[ei]=null),n[sr]=i;const m=n[Ys];null!==m&&i!==m&&function tg(t,n){const i=t[is];n[pr]!==n[sr][sr][pr]&&(t[ya]=!0),null===i?t[is]=[n]:i.push(n)}(m,n);const I=n[Ci];null!==I&&I.insertView(t),n[nn]|=128}(c,n,t,i),o){const l=og(i,t),m=n[Ut],I=bl(m,t[zr]);null!==I&&function jd(t,n,i,o,c,l){o[lr]=c,o[hr]=n,Nc(t,o,i,1,c,l)}(c,t[hr],m,n,I,l)}}let vm=(()=>{class t{static{this.__NG_ELEMENT_ID__=aD}}return t})();const sD=vm,oD=class extends sD{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const c=function rD(t,n,i,o){const c=n.tView,I=Kf(t,c,i,4096&t[nn]?4096:16,null,n,null,null,null,o?.injector??null,o?.hydrationInfo??null);I[Ys]=t[n.index];const x=t[Ci];return null!==x&&(I[Ci]=x.createEmbeddedView(c)),R_(c,I,i),I}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:o});return new Jf(c)}};function aD(){return cy(Si(),rt())}function cy(t,n){return 4&t.type?new oD(n,t,hu(t,n)):null}let dy=(()=>{class t{static{this.__NG_ELEMENT_ID__=fD}}return t})();function fD(){return YT(Si(),rt())}const pD=dy,QT=class extends pD{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return hu(this._hostTNode,this._hostLView)}get injector(){return new Is(this._hostTNode,this._hostLView)}get parentInjector(){const n=Uo(this._hostTNode,this._hostLView);if(fd(n)){const i=sa(n,this._hostLView),o=Lo(n);return new Is(i[Rt].data[o+8],i)}return new Is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=XT(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-ti}createEmbeddedView(n,i,o){let c,l;"number"==typeof o?c=o:null!=o&&(c=o.index,l=o.injector);const I=n.createEmbeddedViewImpl(i||{},l,null);return this.insertImpl(I,c,false),I}createComponent(n,i,o,c,l){const m=n&&!function aa(t){return"function"==typeof t}(n);let I;if(m)I=i;else{const dt=i||{};I=dt.index,o=dt.injector,c=dt.projectableNodes,l=dt.environmentInjector||dt.ngModuleRef}const D=m?n:new _h(yn(n)),x=o||this.parentInjector;if(!l&&null==D.ngModule){const xt=(m?x:this.parentInjector).get(uu,null);xt&&(l=xt)}yn(D.componentType??{});const Ce=D.create(x,c,null,l);return this.insertImpl(Ce.hostView,I,false),Ce}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,o){const c=n._lView;if(function yu(t){return F(t[sr])}(c)){const D=this.indexOf(n);if(-1!==D)this.detach(D);else{const x=c[sr],$=new QT(x,x[hr],x[sr]);$.detach($.indexOf(n))}}const m=this._adjustIndex(i),I=this._lContainer;return iD(I,c,m,!o),n.attachToViewContainerRef(),Dd(fI(I),m,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=XT(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=Cl(this._lContainer,i);o&&(ll(fI(this._lContainer),i),ng(o[Rt],o))}detach(n){const i=this._adjustIndex(n,-1),o=Cl(this._lContainer,i);return o&&null!=ll(fI(this._lContainer),i)?new Jf(o):null}_adjustIndex(n,i=0){return n??this.length+i}};function XT(t){return t[8]}function fI(t){return t[8]||(t[8]=[])}function YT(t,n){let i;const o=n[t.index];return F(o)?i=o:(i=bv(o,n,null,t),n[t.index]=i,Xf(n,i)),ZT(i,n,t,o),new QT(i,t,n)}let ZT=function JT(t,n,i,o){if(t[zr])return;let c;c=8&i.type?Bn(o):function gD(t,n){const i=t[Ut],o=i.createComment(""),c=ii(n,t);return au(i,bl(i,c),o,function Ty(t,n){return t.nextSibling(n)}(i,c),!1),o}(n,i),t[zr]=c};class pI{constructor(n){this.queryList=n,this.matches=null}clone(){return new pI(this.queryList)}setDirty(){this.queryList.setDirty()}}class gI{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let l=0;l<o;l++){const m=i.getByIndex(l);c.push(this.queries[m.indexInDeclarationView].clone())}return new gI(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==uw(n,i).matches&&this.queries[i].setDirty()}}class ew{constructor(n,i,o=null){this.predicate=n,this.flags=i,this.read=o}}class mI{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const c=null!==i?i.length:0,l=this.getByIndex(o).embeddedTView(n,c);l&&(l.indexInDeclarationView=o,null!==i?i.push(l):i=[l])}return null!==i?new mI(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class _I{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new _I(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let c=0;c<o.length;c++){const l=o[c];this.matchTNodeWithReadOption(n,i,yD(i,l)),this.matchTNodeWithReadOption(n,i,Au(i,n,l,!1,!1))}else o===vm?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Au(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const c=this.metadata.read;if(null!==c)if(c===jf||c===dy||c===vm&&4&i.type)this.addMatch(i.index,-2);else{const l=Au(i,n,c,!1,!1);null!==l&&this.addMatch(i.index,l)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function yD(t,n){const i=t.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function ID(t,n,i,o){return-1===i?function vD(t,n){return 11&t.type?hu(t,n):4&t.type?cy(t,n):null}(n,t):-2===i?function ED(t,n,i){return i===jf?hu(n,t):i===vm?cy(n,t):i===dy?YT(n,t):void 0}(t,n,o):oa(t,t[Rt],i,n)}function tw(t,n,i,o){const c=n[Ci].queries[o];if(null===c.matches){const l=t.data,m=i.matches,I=[];for(let D=0;D<m.length;D+=2){const x=m[D];I.push(x<0?null:ID(n,l[x],m[D+1],i.metadata.read))}c.matches=I}return c.matches}function yI(t,n,i,o){const c=t.queries.getByIndex(i),l=c.matches;if(null!==l){const m=tw(t,n,c,i);for(let I=0;I<l.length;I+=2){const D=l[I];if(D>0)o.push(m[I/2]);else{const x=l[I+1],$=n[-D];for(let J=ti;J<$.length;J++){const _e=$[J];_e[Ys]===_e[sr]&&yI(_e[Rt],_e,x,o)}if(null!==$[is]){const J=$[is];for(let _e=0;_e<J.length;_e++){const Ce=J[_e];yI(Ce[Rt],Ce,x,o)}}}}}return o}function nw(t){const n=rt(),i=Xn(),o=te();Me(o+1);const c=uw(i,o);if(t.dirty&&function ad(t){return 4==(4&t[nn])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const l=c.crossesNgTemplate?yI(i,n,o,[]):tw(i,n,c,o);t.reset(l,XI),t.notifyOnChanges()}return!0}return!1}function rw(t,n,i){const o=Xn();o.firstCreatePass&&(aw(o,new ew(t,n,i),-1),2==(2&n)&&(o.staticViewQueries=!0)),ow(o,rt(),n)}function iw(t,n,i,o){const c=Xn();if(c.firstCreatePass){const l=Si();aw(c,new ew(n,i,o),l.index),function wD(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(c,t),2==(2&i)&&(c.staticContentQueries=!0)}ow(c,rt(),i)}function sw(){return function TD(t,n){return t[Ci].queries[n].queryList}(rt(),te())}function ow(t,n,i){const o=new hI(4==(4&i));(function fE(t,n,i,o){const c=Rv(n);c.push(i),t.firstCreatePass&&Pv(t).push(o,c.length-1)})(t,n,o,o.destroy),null===n[Ci]&&(n[Ci]=new gI),n[Ci].queries.push(new pI(o))}function aw(t,n,i){null===t.queries&&(t.queries=new mI),t.queries.track(new _I(n,i))}function uw(t,n){return t.queries.getByIndex(n)}function cw(t,n){return cy(t,n)}function vI(t){return!!Hr(t)}const Cw=new he("Application Initializer");let AI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=Ln(Cw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const l=c();if(hp(l))i.push(l);else if(Kg(l)){const m=new Promise((I,D)=>{l.subscribe({complete:I,error:D})});i.push(m)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(c=>{this.reject(c)}),0===i.length&&o(),this.initialized=!0}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bw=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const fy=new he("LocaleId",{providedIn:"root",factory:()=>Ln(fy,St.Optional|St.SkipSelf)||function zD(){return typeof $localize<"u"&&$localize.locale||bp}()}),GD=new he("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Sw=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new oe.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class qD{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let KD=(()=>{class t{compileModuleSync(i){return new lI(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const o=this.compileModuleSync(i),l=zu(Hr(i).declarations).reduce((m,I)=>{const D=yn(I);return D&&m.push(new _h(D)),m},[]);return new qD(o,l)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const xw=new he(""),Nw=new he("");let bI,mC=(()=>{class t{constructor(i,o,c){this._ngZone=i,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,bI||(function _C(t){bI=t}(c),c.addToWindow(o)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Es.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,c){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==l),i(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:i,timeoutId:l,updateCb:c})}whenStable(i,o,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,o,c){return[]}static{this.\u0275fac=function(o){return new(o||t)(xr(Es),xr(Ow),xr(Nw))}}static{this.\u0275prov=pt({token:t,factory:t.\u0275fac})}}return t})(),Ow=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return bI?.findTestabilityInTree(this,i,o)??null}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),id=null;const kw=new he("AllowMultipleToken"),SI=new he("PlatformDestroyListeners"),RI=new he("appBootstrapListener");class IC{constructor(n,i){this.name=n,this.token=i}}function Vw(t,n,i=[]){const o=`Platform: ${n}`,c=new he(o);return(l=[])=>{let m=PI();if(!m||m.injector.get(kw,!1)){const I=[...i,...l,{provide:c,useValue:!0}];t?t(I):function EC(t){if(id&&!id.get(kw,!1))throw new ye(400,!1);(function Lw(){!function Ye(t){re=t}(()=>{throw new ye(600,!1)})})(),id=t;const n=t.get(Bw);(function Fw(t){t.get($u,null)?.forEach(i=>i())})(t)}(function Uw(t=[],n){return da.create({name:n,providers:[{provide:Jm,useValue:"platform"},{provide:SI,useValue:new Set([()=>id=null])},...t]})}(I,o))}return function wC(t){const n=PI();if(!n)throw new ye(401,!1);return n}()}}function PI(){return id?.get(Bw)??null}let Bw=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,o){const c=function AC(t="zone.js",n){return"noop"===t?new uv:"zone.js"===t?new Es(n):t}(o?.ngZone,function jw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return c.run(()=>{const l=function NA(t,n,i){return new cI(t,n,i)}(i.moduleType,this.injector,function Ww(t){return[{provide:Es,useFactory:t},{provide:Ol,multi:!0,useFactory:()=>{const n=Ln(CC,{optional:!0});return()=>n.initialize()}},{provide:Gw,useFactory:DC},{provide:cv,useFactory:lv}]}(()=>c)),m=l.injector.get(Hc,null);return c.runOutsideAngular(()=>{const I=c.onError.subscribe({next:D=>{m.handleError(D)}});l.onDestroy(()=>{gy(this._modules,l),I.unsubscribe()})}),function $w(t,n,i){try{const o=i();return hp(o)?o.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(m,c,()=>{const I=l.injector.get(AI);return I.runInitializers(),I.donePromise.then(()=>(function eT(t){Zn(t,"Expected localeId to be defined"),"string"==typeof t&&(JE=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(fy,bp)||bp),this._moduleDoBootstrap(l),l))})})}bootstrapModule(i,o=[]){const c=Hw({},o);return function yC(t,n,i){const o=new lI(i);return Promise.resolve(o)}(0,0,i).then(l=>this.bootstrapModuleFactory(l,c))}_moduleDoBootstrap(i){const o=i.injector.get(Pp);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(c=>o.bootstrap(c));else{if(!i.instance.ngDoBootstrap)throw new ye(-403,!1);i.instance.ngDoBootstrap(o)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ye(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const i=this._injector.get(SI,null);i&&(i.forEach(o=>o()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(o){return new(o||t)(xr(da))}}static{this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function Hw(t,n){return Array.isArray(n)?n.reduce(Hw,t):{...t,...n}}let Pp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ln(Gw),this.zoneIsStable=Ln(cv),this.componentTypes=[],this.components=[],this.isStable=Ln(Sw).hasPendingTasks.pipe((0,Dt.n)(i=>i?(0,de.of)(!1):this.zoneIsStable),function An(t,n=Ft.D){return t=t??Yn,(0,at.N)((i,o)=>{let c,l=!0;i.subscribe((0,Kt._)(o,m=>{const I=n(m);(l||!t(c,I))&&(l=!1,c=I,o.next(m))}))})}(),He()),this._injector=Ln(uu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,o){const c=i instanceof Zy;if(!this._injector.get(AI).done)throw!c&&ms(i),new ye(405,!1);let m;m=c?i:this._injector.get(Cg).resolveComponentFactory(i),this.componentTypes.push(m.componentType);const I=function vC(t){return t.isBoundToModule}(m)?void 0:this._injector.get(Gh),x=m.create(da.NULL,[],o||m.selector,I),$=x.location.nativeElement,J=x.injector.get(xw,null);return J?.registerApplication($),x.onDestroy(()=>{this.detachView(x.hostView),gy(this.components,x),J?.unregisterApplication($)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new ye(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;gy(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const o=this._injector.get(RI,[]);o.push(...this._bootstrapListeners),o.forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>gy(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ye(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function gy(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const Gw=new he("",{providedIn:"root",factory:()=>Ln(Hc).handleError.bind(void 0)});function DC(){const t=Ln(Es),n=Ln(Hc);return i=>t.runOutsideAngular(()=>n.handleError(i))}let CC=(()=>{class t{constructor(){this.zone=Ln(Es),this.applicationRef=Ln(Pp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let SC=(()=>{class t{static{this.__NG_ELEMENT_ID__=RC}}return t})();function RC(t){return function PC(t,n,i){if(ee(t)&&!i){const o=Gi(t.index,n);return new Jf(o,o)}return 47&t.type?new Jf(n[pr],n):null}(Si(),rt(),16==(16&t))}class Yw{constructor(){}supports(n){return ge(n)}create(n){return new kC(n)}}const OC=(t,n)=>n;class kC{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||OC}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,c=0,l=null;for(;i||o;){const m=!o||i&&i.currentIndex<Jw(o,c,l)?i:o,I=Jw(m,c,l),D=m.currentIndex;if(m===o)c--,o=o._nextRemoved;else if(i=i._next,null==m.previousIndex)c++;else{l||(l=[]);const x=I-c,$=D-c;if(x!=$){for(let _e=0;_e<x;_e++){const Ce=_e<l.length?l[_e]:l[_e]=0,qe=Ce+_e;$<=qe&&qe<x&&(l[_e]=Ce+1)}l[m.previousIndex]=$-x}}I!==D&&n(m,I,D)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!ge(n))throw new ye(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,l,m,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let I=0;I<this.length;I++)l=n[I],m=this._trackByFn(I,l),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,l,m,I)),Object.is(i.item,l)||this._addIdentityChange(i,l)):(i=this._mismatch(i,l,m,I),o=!0),i=i._next}else c=0,function be(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,I=>{m=this._trackByFn(c,I),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,I,m,c)),Object.is(i.item,I)||this._addIdentityChange(i,I)):(i=this._mismatch(i,I,m,c),o=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,c){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,l,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,l,c)):n=this._addAfter(new LC(i,o),l,c),n}_verifyReinsertion(n,i,o,c){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?n=this._reinsertAfter(l,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,l=n._nextRemoved;return null===c?this._removalsHead=l:c._nextRemoved=l,null===l?this._removalsTail=c:l._prevRemoved=c,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new Zw),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class LC{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FC{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class Zw{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new FC,this.map.set(i,o)),o.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jw(t,n,i){const o=t.previousIndex;if(null===o)return o;let c=0;return i&&o<i.length&&(c=i[o]),o+n+c}class e0{constructor(){}supports(n){return n instanceof Map||ke(n)}create(){return new VC}}class VC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||ke(n)))throw new ye(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const l=this._getOrCreateRecordForKey(c,o);i=this._insertBeforeOrAppend(i,l)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const l=c._prev,m=c._next;return l&&(l._next=m),m&&(m._prev=l),c._next=null,c._prev=null,c}const o=new UC(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class UC{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function t0(){return new kI([new Yw])}let kI=(()=>{class t{static{this.\u0275prov=pt({token:t,providedIn:"root",factory:t0})}constructor(i){this.factories=i}static create(i,o){if(null!=o){const c=o.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||t0()),deps:[[t,new Pu,new Ac]]}}find(i){const o=this.factories.find(c=>c.supports(i));if(null!=o)return o;throw new ye(901,!1)}}return t})();function n0(){return new LI([new e0])}let LI=(()=>{class t{static{this.\u0275prov=pt({token:t,providedIn:"root",factory:n0})}constructor(i){this.factories=i}static create(i,o){if(o){const c=o.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||n0()),deps:[[t,new Pu,new Ac]]}}find(i){const o=this.factories.find(c=>c.supports(i));if(o)return o;throw new ye(901,!1)}}return t})();const $C=Vw(null,"core",[]);let HC=(()=>{class t{constructor(i){}static{this.\u0275fac=function(o){return new(o||t)(xr(Pp))}}static{this.\u0275mod=Ds({type:t})}static{this.\u0275inj=Ct({})}}return t})();function eb(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function nb(t){const n=yn(t);if(!n)return null;const i=new _h(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7440:(Xt,nt,X)=>{X.d(nt,{MW:()=>at,Wp:()=>Ft,XU:()=>Ve,gL:()=>Z});var R=X(2214),fe=X(540),$e=X(3586);class Ve{constructor(st){return st}}class Z{constructor(){return(0,R.Dk)()}}const vt=new fe.nKC("angularfire2._apps"),We={provide:Ve,useFactory:function Ae(ze){return ze&&1===ze.length?ze[0]:new Ve((0,R.Sx)())},deps:[[new fe.Xx1,vt]]},oe={provide:Z,deps:[[new fe.Xx1,vt]]};function de(ze){return(st,Qe)=>{const At=st.runOutsideAngular(()=>ze(Qe));return new Ve(At)}}let Le=(()=>{class ze{constructor(Qe){(0,R.KO)("angularfire",$e.xv.full,"core"),(0,R.KO)("angularfire",$e.xv.full,"app"),(0,R.KO)("angular",fe.xvI.full,Qe.toString())}static \u0275fac=function(At){return new(At||ze)(fe.KVO(fe.Agw))};static \u0275mod=fe.$C({type:ze});static \u0275inj=fe.G2t({providers:[We,oe]})}return ze})();function at(ze,...st){return{ngModule:Le,providers:[{provide:vt,useFactory:de(ze),multi:!0,deps:[fe.SKi,fe.zZn,$e.u0,...st]}]}}const Ft=(0,$e.S3)(R.Wp,!0)},4665:(Xt,nt,X)=>{X.d(nt,{Nj:()=>ua,DF:()=>Dc,xI:()=>Cc,_q:()=>Bp,x9:()=>cf,CI:()=>Os});var R=X(3586),fe=X(540),$e=X(7440),Ve=X(2214),Z=X(467),ie=X(7852),Ae=X(1076),vt=X(8041),We=X(1635),oe=X(1362);const An=function Ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Yn=new Ae.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new vt.Vy("@firebase/auth");function At(v,...d){st.logLevel<=vt.$b.ERROR&&st.error(`Auth (${ie.MF}): ${v}`,...d)}function Mt(v,...d){throw kr(v,...d)}function _t(v,...d){return kr(v,...d)}function Xe(v,d,p){const E=Object.assign(Object.assign({},An()),{[d]:p});return new Ae.FA("auth","Firebase",E).create(d,{appName:v.name})}function Vt(v){return Xe(v,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kr(v,...d){if("string"!=typeof v){const p=d[0],E=[...d.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(p,...E)}return Yn.create(v,...d)}function ot(v,d,...p){if(!v)throw kr(d,...p)}function ye(v){const d="INTERNAL ASSERTION FAILED: "+v;throw At(d),new Error(d)}function Nt(v,d){v||ye(d)}function ft(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function yt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class se{constructor(d,p){this.shortDelay=d,this.longDelay=p,Nt(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,Ae.jZ)()||(0,Ae.lV)()}get(){return function wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Yt(){return"http:"===yt()||"https:"===yt()}()||(0,Ae.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function W(v,d){Nt(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class Q{static initialize(d,p,E){this.fetchImpl=d,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Pe=new se(3e4,6e4);function et(v,d){return v.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:v.tenantId}):d}function ct(v,d,p,E){return gn.apply(this,arguments)}function gn(){return(gn=(0,Z.A)(function*(v,d,p,E,L={}){return Ht(v,L,(0,Z.A)(function*(){let q={},me={};E&&("GET"===d?me=E:q={body:JSON.stringify(E)});const xe=(0,Ae.Am)(Object.assign({key:v.config.apiKey},me)).slice(1),Je=yield v._getAdditionalHeaders();Je["Content-Type"]="application/json",v.languageCode&&(Je["X-Firebase-Locale"]=v.languageCode);const Lt=Object.assign({method:d,headers:Je},q);return(0,Ae.c1)()||(Lt.referrerPolicy="no-referrer"),Q.fetch()(an(v,v.config.apiHost,p,xe),Lt)}))})).apply(this,arguments)}function Ht(v,d,p){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,Z.A)(function*(v,d,p){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},Ie),d);try{const L=new Zn(v),q=yield Promise.race([p(),L.promise]);L.clearNetworkTimeout();const me=yield q.json();if("needConfirmation"in me)throw Ze(v,"account-exists-with-different-credential",me);if(q.ok&&!("errorMessage"in me))return me;{const xe=q.ok?me.errorMessage:me.error.message,[Je,Lt]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw Ze(v,"credential-already-in-use",me);if("EMAIL_EXISTS"===Je)throw Ze(v,"email-already-in-use",me);if("USER_DISABLED"===Je)throw Ze(v,"user-disabled",me);const hn=E[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(Lt)throw Xe(v,hn,Lt);Mt(v,hn)}}catch(L){if(L instanceof Ae.g)throw L;Mt(v,"network-request-failed",{message:String(L)})}})).apply(this,arguments)}function fn(v,d,p,E){return fi.apply(this,arguments)}function fi(){return(fi=(0,Z.A)(function*(v,d,p,E,L={}){const q=yield ct(v,d,p,E,L);return"mfaPendingCredential"in q&&Mt(v,"multi-factor-auth-required",{_serverResponse:q}),q})).apply(this,arguments)}function an(v,d,p,E){const L=`${d}${p}?${E}`;return v.config.emulator?W(v.config,L):`${v.config.apiScheme}://${L}`}function Dr(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zn{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(_t(this.auth,"network-request-failed")),Pe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ze(v,d,p){const E={appName:v.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const L=_t(v,d,E);return L.customData._tokenResponse=p,L}function Jt(v){return void 0!==v&&void 0!==v.enterprise}class Tn{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===d)return Dr(p.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function Ct(v,d){return un.apply(this,arguments)}function un(){return(un=(0,Z.A)(function*(v,d){return ct(v,"GET","/v2/recaptchaConfig",et(v,d))})).apply(this,arguments)}function ht(){return(ht=(0,Z.A)(function*(v,d){return ct(v,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function nr(v,d){return Li.apply(this,arguments)}function Li(){return(Li=(0,Z.A)(function*(v,d){return ct(v,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function mn(v){if(v)try{const d=new Date(Number(v));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Xi(){return(Xi=(0,Z.A)(function*(v,d=!1){const p=(0,Ae.Ku)(v),E=yield p.getIdToken(d),L=$n(E);ot(L&&L.exp&&L.auth_time&&L.iat,p.auth,"internal-error");const q="object"==typeof L.firebase?L.firebase:void 0,me=q?.sign_in_provider;return{claims:L,token:E,authTime:mn(wi(L.auth_time)),issuedAtTime:mn(wi(L.iat)),expirationTime:mn(wi(L.exp)),signInProvider:me||null,signInSecondFactor:q?.sign_in_second_factor||null}})).apply(this,arguments)}function wi(v){return 1e3*Number(v)}function $n(v){const[d,p,E]=v.split(".");if(void 0===d||void 0===p||void 0===E)return At("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,Ae.u)(p);return L?JSON.parse(L):(At("Failed to decode base64 JWT payload"),null)}catch(L){return At("Caught error parsing JWT payload as JSON",L?.toString()),null}}function Cr(v){const d=$n(v);return ot(d,"internal-error"),ot(typeof d.exp<"u","internal-error"),ot(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function Kn(v,d){return jt.apply(this,arguments)}function jt(){return(jt=(0,Z.A)(function*(v,d,p=!1){if(p)return d;try{return yield d}catch(E){throw E instanceof Ae.g&&function Qr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}class Fi{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const L=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(d);this.timerId=setTimeout((0,Z.A)(function*(){yield p.iteration()}),E)}iteration(){var d=this;return(0,Z.A)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class he{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=mn(this.lastLoginAt),this.creationTime=mn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rr(v){return ur.apply(this,arguments)}function ur(){return(ur=(0,Z.A)(function*(v){var d;const p=v.auth,E=yield v.getIdToken(),L=yield Kn(v,nr(p,{idToken:E}));ot(L?.users.length,p,"internal-error");const q=L.users[0];v._notifyReloadListener(q);const me=null!==(d=q.providerUserInfo)&&void 0!==d&&d.length?j(q.providerUserInfo):[],xe=function Be(v,d){return[...v.filter(E=>!d.some(L=>L.providerId===E.providerId)),...d]}(v.providerData,me),hn=!!v.isAnonymous&&!(v.email&&q.passwordHash||xe?.length),_n={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:xe,metadata:new he(q.createdAt,q.lastLoginAt),isAnonymous:hn};Object.assign(v,_n)})).apply(this,arguments)}function pi(){return(pi=(0,Z.A)(function*(v){const d=(0,Ae.Ku)(v);yield rr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function j(v){return v.map(d=>{var{providerId:p}=d,E=(0,We.Tt)(d,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function z(){return(z=(0,Z.A)(function*(v,d){const p=yield Ht(v,{},(0,Z.A)(function*(){const E=(0,Ae.Am)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:L,apiKey:q}=v.config,me=an(v,L,"/v1/token",`key=${q}`),xe=yield v._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",Q.fetch()(me,{method:"POST",headers:xe,body:E})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function ce(){return(ce=(0,Z.A)(function*(v,d){return ct(v,"POST","/v2/accounts:revokeToken",et(v,d))})).apply(this,arguments)}class Ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ot(d.idToken,"internal-error"),ot(typeof d.idToken<"u","internal-error"),ot(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):Cr(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}updateFromIdToken(d){ot(0!==d.length,"internal-error");const p=Cr(d);this.updateTokensAndExpiration(d,null,p)}getToken(d){var p=this;return(0,Z.A)(function*(E,L=!1){return L||!p.accessToken||p.isExpired?(ot(p.refreshToken,E,"user-token-expired"),p.refreshToken?(yield p.refresh(E,p.refreshToken),p.accessToken):null):p.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var E=this;return(0,Z.A)(function*(){const{accessToken:L,refreshToken:q,expiresIn:me}=yield function k(v,d){return z.apply(this,arguments)}(d,p);E.updateTokensAndExpiration(L,q,Number(me))})()}updateTokensAndExpiration(d,p,E){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(d,p){const{refreshToken:E,accessToken:L,expirationTime:q}=p,me=new Ge;return E&&(ot("string"==typeof E,"internal-error",{appName:d}),me.refreshToken=E),L&&(ot("string"==typeof L,"internal-error",{appName:d}),me.accessToken=L),q&&(ot("number"==typeof q,"internal-error",{appName:d}),me.expirationTime=q),me}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Ge,this.toJSON())}_performRefresh(){return ye("not implemented")}}function It(v,d){ot("string"==typeof v||typeof v>"u","internal-error",{appName:d})}class bt{constructor(d){var{uid:p,auth:E,stsTokenManager:L}=d,q=(0,We.Tt)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=q.displayName||null,this.email=q.email||null,this.emailVerified=q.emailVerified||!1,this.phoneNumber=q.phoneNumber||null,this.photoURL=q.photoURL||null,this.isAnonymous=q.isAnonymous||!1,this.tenantId=q.tenantId||null,this.providerData=q.providerData?[...q.providerData]:[],this.metadata=new he(q.createdAt||void 0,q.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,Z.A)(function*(){const E=yield Kn(p,p.stsTokenManager.getToken(p.auth,d));return ot(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(d){return function St(v){return Xi.apply(this,arguments)}(this,d)}reload(){return function ps(v){return pi.apply(this,arguments)}(this)}_assign(d){this!==d&&(ot(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new bt(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d){var p=this;return(0,Z.A)(function*(E,L=!1){let q=!1;E.idToken&&E.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(E),q=!0),L&&(yield rr(p)),yield p.auth._persistUserIfCurrent(p),q&&p.auth._notifyListenersIfCurrent(p)}).apply(this,arguments)}delete(){var d=this;return(0,Z.A)(function*(){if((0,ie.xZ)(d.auth.app))return Promise.reject(Vt(d.auth));const p=yield d.getIdToken();return yield Kn(d,function En(v,d){return ht.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var E,L,q,me,xe,Je,Lt,hn;const _n=null!==(E=p.displayName)&&void 0!==E?E:void 0,Mr=null!==(L=p.email)&&void 0!==L?L:void 0,zs=null!==(q=p.phoneNumber)&&void 0!==q?q:void 0,Gs=null!==(me=p.photoURL)&&void 0!==me?me:void 0,jo=null!==(xe=p.tenantId)&&void 0!==xe?xe:void 0,Lu=null!==(Je=p._redirectEventId)&&void 0!==Je?Je:void 0,wl=null!==(Lt=p.createdAt)&&void 0!==Lt?Lt:void 0,Fu=null!==(hn=p.lastLoginAt)&&void 0!==hn?hn:void 0,{uid:Bd,emailVerified:jd,isAnonymous:$d,providerData:Al,stsTokenManager:Hd}=p;ot(Bd&&Hd,d,"internal-error");const tg=Ge.fromJSON(this.name,Hd);ot("string"==typeof Bd,d,"internal-error"),It(_n,d.name),It(Mr,d.name),ot("boolean"==typeof jd,d,"internal-error"),ot("boolean"==typeof $d,d,"internal-error"),It(zs,d.name),It(Gs,d.name),It(jo,d.name),It(Lu,d.name),It(wl,d.name),It(Fu,d.name);const Dl=new bt({uid:Bd,auth:d,email:Mr,emailVerified:jd,displayName:_n,isAnonymous:$d,photoURL:Gs,phoneNumber:zs,tenantId:jo,stsTokenManager:tg,createdAt:wl,lastLoginAt:Fu});return Al&&Array.isArray(Al)&&(Dl.providerData=Al.map(Cl=>Object.assign({},Cl))),Lu&&(Dl._redirectEventId=Lu),Dl}static _fromIdTokenResponse(d,p){return(0,Z.A)(function*(E,L,q=!1){const me=new Ge;me.updateFromServerResponse(L);const xe=new bt({uid:L.localId,auth:E,stsTokenManager:me,isAnonymous:q});return yield rr(xe),xe}).apply(this,arguments)}static _fromGetAccountInfoResponse(d,p,E){return(0,Z.A)(function*(){const L=p.users[0];ot(void 0!==L.localId,"internal-error");const q=void 0!==L.providerUserInfo?j(L.providerUserInfo):[],me=!(L.email&&L.passwordHash||q?.length),xe=new Ge;xe.updateFromIdToken(E);const Je=new bt({uid:L.localId,auth:d,stsTokenManager:xe,isAnonymous:me}),Lt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:q,metadata:new he(L.createdAt,L.lastLoginAt),isAnonymous:!(L.email&&L.passwordHash||q?.length)};return Object.assign(Je,Lt),Je})()}}const en=new Map;function tn(v){Nt(v instanceof Function,"Expected a class definition");let d=en.get(v);return d?(Nt(d instanceof v,"Instance stored in cache mismatched with class"),d):(d=new v,en.set(v,d),d)}const Gt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,Z.A)(function*(){return!0})()}_set(p,E){var L=this;return(0,Z.A)(function*(){L.storage[p]=E})()}_get(p){var E=this;return(0,Z.A)(function*(){const L=E.storage[p];return void 0===L?null:L})()}_remove(p){var E=this;return(0,Z.A)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return v.type="NONE",v})();function Xr(v,d,p){return`firebase:${v}:${d}:${p}`}class _r{constructor(d,p,E){this.persistence=d,this.auth=p,this.userKey=E;const{config:L,name:q}=this.auth;this.fullUserKey=Xr(this.userKey,L.apiKey,q),this.fullPersistenceKey=Xr("persistence",L.apiKey,q),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,Z.A)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?bt._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,Z.A)(function*(){if(p.persistence===d)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p){return(0,Z.A)(function*(E,L,q="authUser"){if(!L.length)return new _r(tn(Gt),E,q);const me=(yield Promise.all(L.map(function(){var _n=(0,Z.A)(function*(Mr){if(yield Mr._isAvailable())return Mr});return function(Mr){return _n.apply(this,arguments)}}()))).filter(_n=>_n);let xe=me[0]||tn(Gt);const Je=Xr(q,E.config.apiKey,E.name);let Lt=null;for(const _n of L)try{const Mr=yield _n._get(Je);if(Mr){const zs=bt._fromJSON(E,Mr);_n!==xe&&(Lt=zs),xe=_n;break}}catch{}const hn=me.filter(_n=>_n._shouldAllowMigration);return xe._shouldAllowMigration&&hn.length?(xe=hn[0],Lt&&(yield xe._set(Je,Lt.toJSON())),yield Promise.all(L.map(function(){var _n=(0,Z.A)(function*(Mr){if(Mr!==xe)try{yield Mr._remove(Je)}catch{}});return function(Mr){return _n.apply(this,arguments)}}())),new _r(xe,E,q)):new _r(xe,E,q)}).apply(this,arguments)}}function $r(v){const d=v.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(ho(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(ci(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Yi(d))return"Blackberry";if(Fe(d))return"Webos";if(ws(d))return"Safari";if((d.includes("chrome/")||xr(d))&&!d.includes("edge/"))return"Chrome";if(Ln(d))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function ci(v=(0,Ae.ZQ)()){return/firefox\//i.test(v)}function ws(v=(0,Ae.ZQ)()){const d=v.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function xr(v=(0,Ae.ZQ)()){return/crios\//i.test(v)}function ho(v=(0,Ae.ZQ)()){return/iemobile/i.test(v)}function Ln(v=(0,Ae.ZQ)()){return/android/i.test(v)}function Yi(v=(0,Ae.ZQ)()){return/blackberry/i.test(v)}function Fe(v=(0,Ae.ZQ)()){return/webos/i.test(v)}function Ee(v=(0,Ae.ZQ)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function $t(v=(0,Ae.ZQ)()){return Ee(v)||Ln(v)||Fe(v)||Yi(v)||/windows phone/i.test(v)||ho(v)}function on(v,d=[]){let p;switch(v){case"Browser":p=$r((0,Ae.ZQ)());break;case"Worker":p=`${$r((0,Ae.ZQ)())}-${v}`;break;default:p=v}const E=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${ie.MF}/${E}`}class Fn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const E=q=>new Promise((me,xe)=>{try{me(d(q))}catch(Je){xe(Je)}});E.onAbort=p,this.queue.push(E);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,Z.A)(function*(){if(p.auth.currentUser===d)return;const E=[];try{for(const L of p.queue)yield L(d),L.onAbort&&E.push(L.onAbort)}catch(L){E.reverse();for(const q of E)try{q()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}function cn(){return(cn=(0,Z.A)(function*(v,d={}){return ct(v,"GET","/v2/passwordPolicy",et(v,d))})).apply(this,arguments)}class Vi{constructor(d){var p,E,L,q;const me=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=me.minPasswordLength)&&void 0!==p?p:6,me.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=me.maxPasswordLength),void 0!==me.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=me.containsLowercaseCharacter),void 0!==me.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=me.containsUppercaseCharacter),void 0!==me.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=me.containsNumericCharacter),void 0!==me.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=me.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(L=null===(E=d.allowedNonAlphanumericCharacters)||void 0===E?void 0:E.join(""))&&void 0!==L?L:"",this.forceUpgradeOnSignin=null!==(q=d.forceUpgradeOnSignin)&&void 0!==q&&q,this.schemaVersion=d.schemaVersion}validatePassword(d){var p,E,L,q,me,xe;const Je={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,Je),this.validatePasswordCharacterOptions(d,Je),Je.isValid&&(Je.isValid=null===(p=Je.meetsMinPasswordLength)||void 0===p||p),Je.isValid&&(Je.isValid=null===(E=Je.meetsMaxPasswordLength)||void 0===E||E),Je.isValid&&(Je.isValid=null===(L=Je.containsLowercaseLetter)||void 0===L||L),Je.isValid&&(Je.isValid=null===(q=Je.containsUppercaseLetter)||void 0===q||q),Je.isValid&&(Je.isValid=null===(me=Je.containsNumericCharacter)||void 0===me||me),Je.isValid&&(Je.isValid=null===(xe=Je.containsNonAlphanumericCharacter)||void 0===xe||xe),Je}validatePasswordLengthOptions(d,p){const E=this.customStrengthOptions.minPasswordLength,L=this.customStrengthOptions.maxPasswordLength;E&&(p.meetsMinPasswordLength=d.length>=E),L&&(p.meetsMaxPasswordLength=d.length<=L)}validatePasswordCharacterOptions(d,p){let E;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let L=0;L<d.length;L++)E=d.charAt(L),this.updatePasswordCharacterOptionsStatuses(p,E>="a"&&E<="z",E>="A"&&E<="Z",E>="0"&&E<="9",this.allowedNonAlphanumericCharacters.includes(E))}updatePasswordCharacterOptionsStatuses(d,p,E,L,q){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=E)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=L)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=q))}}class Wo{constructor(d,p,E,L){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=E,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mi(this),this.idTokenSubscription=new Mi(this),this.beforeStateQueue=new Fn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(d,p){var E=this;return p&&(this._popupRedirectResolver=tn(p)),this._initializationPromise=this.queue((0,Z.A)(function*(){var L,q;if(!E._deleted&&(E.persistenceManager=yield _r.create(E,d),!E._deleted)){if(null!==(L=E._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(q=E.currentUser)||void 0===q?void 0:q.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,Z.A)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(d){var p=this;return(0,Z.A)(function*(){try{const E=yield nr(p,{idToken:d}),L=yield bt._fromGetAccountInfoResponse(p,E,d);yield p.directlySetCurrentUser(L)}catch(E){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",E),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var p=this;return(0,Z.A)(function*(){var E;if((0,ie.xZ)(p.app)){const xe=p.app.settings.authIdToken;return xe?new Promise(Je=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(xe).then(Je,Je))}):p.directlySetCurrentUser(null)}const L=yield p.assertedPersistence.getCurrentUser();let q=L,me=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const xe=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,Je=q?._redirectEventId,Lt=yield p.tryRedirectSignIn(d);(!xe||xe===Je)&&Lt?.user&&(q=Lt.user,me=!0)}if(!q)return p.directlySetCurrentUser(null);if(!q._redirectEventId){if(me)try{yield p.beforeStateQueue.runMiddleware(q)}catch(xe){q=L,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(xe))}return q?p.reloadAndSetCurrentUserOrClear(q):p.directlySetCurrentUser(null)}return ot(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===q._redirectEventId?p.directlySetCurrentUser(q):p.reloadAndSetCurrentUserOrClear(q)})()}tryRedirectSignIn(d){var p=this;return(0,Z.A)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,Z.A)(function*(){try{yield rr(d)}catch(E){if("auth/network-request-failed"!==E?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function we(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var d=this;return(0,Z.A)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,Z.A)(function*(){if((0,ie.xZ)(p.app))return Promise.reject(Vt(p));const E=d?(0,Ae.Ku)(d):null;return E&&ot(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(d){var p=this;return(0,Z.A)(function*(E,L=!1){if(!p._deleted)return E&&ot(p.tenantId===E.tenantId,p,"tenant-id-mismatch"),L||(yield p.beforeStateQueue.runMiddleware(E)),p.queue((0,Z.A)(function*(){yield p.directlySetCurrentUser(E),p.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var d=this;return(0,Z.A)(function*(){return(0,ie.xZ)(d.app)?Promise.reject(Vt(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var p=this;return(0,ie.xZ)(this.app)?Promise.reject(Vt(this)):this.queue((0,Z.A)(function*(){yield p.assertedPersistence.setPersistence(tn(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var p=this;return(0,Z.A)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const E=p._getPasswordPolicyInternal();return E.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):E.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,Z.A)(function*(){const p=yield function xn(v){return cn.apply(this,arguments)}(d),E=new Vi(p);null===d.tenantId?d._projectPasswordPolicy=E:d._tenantPasswordPolicies[d.tenantId]=E})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new Ae.FA("auth","Firebase",d())}onAuthStateChanged(d,p,E){return this.registerStateListener(this.authStateSubscription,d,p,E)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,E){return this.registerStateListener(this.idTokenSubscription,d,p,E)}authStateReady(){return new Promise((d,p)=>{if(this.currentUser)d();else{const E=this.onAuthStateChanged(()=>{E(),d()},p)}})}revokeAccessToken(d){var p=this;return(0,Z.A)(function*(){if(p.currentUser){const E=yield p.currentUser.getIdToken(),L={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:E};null!=p.tenantId&&(L.tenantId=p.tenantId),yield function ue(v,d){return ce.apply(this,arguments)}(p,L)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var E=this;return(0,Z.A)(function*(){const L=yield E.getOrInitRedirectPersistenceManager(p);return null===d?L.removeCurrentUser():L.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,Z.A)(function*(){if(!p.redirectPersistenceManager){const E=d&&tn(d)||p._popupRedirectResolver;ot(E,p,"argument-error"),p.redirectPersistenceManager=yield _r.create(p,[tn(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,Z.A)(function*(){var E,L;return p._isInitialized&&(yield p.queue((0,Z.A)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===d?p._currentUser:(null===(L=p.redirectUser)||void 0===L?void 0:L._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,Z.A)(function*(){if(d===p.currentUser)return p.queue((0,Z.A)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,E,L){if(this._deleted)return()=>{};const q="function"==typeof p?p:p.next.bind(p);let me=!1;const xe=this._isInitialized?Promise.resolve():this._initializationPromise;if(ot(xe,this,"internal-error"),xe.then(()=>{me||q(this.currentUser)}),"function"==typeof p){const Je=d.addObserver(p,E,L);return()=>{me=!0,Je()}}{const Je=d.addObserver(p);return()=>{me=!0,Je()}}}directlySetCurrentUser(d){var p=this;return(0,Z.A)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=on(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,Z.A)(function*(){var p;const E={"X-Client-Version":d.clientVersion};d.app.options.appId&&(E["X-Firebase-gmpid"]=d.app.options.appId);const L=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();L&&(E["X-Firebase-Client"]=L);const q=yield d._getAppCheckToken();return q&&(E["X-Firebase-AppCheck"]=q),E})()}_getAppCheckToken(){var d=this;return(0,Z.A)(function*(){var p;const E=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return E?.error&&function Qe(v,...d){st.logLevel<=vt.$b.WARN&&st.warn(`Auth (${ie.MF}): ${v}`,...d)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function ir(v){return(0,Ae.Ku)(v)}class Mi{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,Ae.tD)(p=>this.observer=p)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xi={loadJS:()=>(0,Z.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oi(v){return xi.loadJS(v)}function gs(v){return`__${v}${Math.floor(1e6*Math.random())}`}class po{constructor(d){this.type="recaptcha-enterprise",this.auth=ir(d)}verify(){var d=this;return(0,Z.A)(function*(p="verify",E=!1){function q(){return q=(0,Z.A)(function*(xe){if(!E){if(null==xe.tenantId&&null!=xe._agentRecaptchaConfig)return xe._agentRecaptchaConfig.siteKey;if(null!=xe.tenantId&&void 0!==xe._tenantRecaptchaConfigs[xe.tenantId])return xe._tenantRecaptchaConfigs[xe.tenantId].siteKey}return new Promise(function(){var Je=(0,Z.A)(function*(Lt,hn){Ct(xe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_n=>{if(void 0!==_n.recaptchaKey){const Mr=new Tn(_n);return null==xe.tenantId?xe._agentRecaptchaConfig=Mr:xe._tenantRecaptchaConfigs[xe.tenantId]=Mr,Lt(Mr.siteKey)}hn(new Error("recaptcha Enterprise site key undefined"))}).catch(_n=>{hn(_n)})});return function(Lt,hn){return Je.apply(this,arguments)}}())}),q.apply(this,arguments)}function me(xe,Je,Lt){const hn=window.grecaptcha;Jt(hn)?hn.enterprise.ready(()=>{hn.enterprise.execute(xe,{action:p}).then(_n=>{Je(_n)}).catch(()=>{Je("NO_RECAPTCHA")})}):Lt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((xe,Je)=>{(function L(xe){return q.apply(this,arguments)})(d.auth).then(Lt=>{if(!E&&Jt(window.grecaptcha))me(Lt,xe,Je);else{if(typeof window>"u")return void Je(new Error("RecaptchaVerifier is only supported in browser"));let hn=function bo(){return xi.recaptchaEnterpriseScript}();0!==hn.length&&(hn+=Lt),oi(hn).then(()=>{me(Lt,xe,Je)}).catch(_n=>{Je(_n)})}}).catch(Lt=>{Je(Lt)})})}).apply(this,arguments)}}function Vn(v,d,p){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,Z.A)(function*(v,d,p,E=!1){const L=new po(v);let q;try{q=yield L.verify(p)}catch{q=yield L.verify(p,!0)}const me=Object.assign({},d);return Object.assign(me,E?{captchaResp:q}:{captchaResponse:q}),Object.assign(me,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(me,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),me})).apply(this,arguments)}function cr(v,d,p,E){return pn.apply(this,arguments)}function pn(){return pn=(0,Z.A)(function*(v,d,p,E){var L;if(null!==(L=v._getRecaptchaConfig())&&void 0!==L&&L.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const q=yield Vn(v,d,p,"getOobCode"===p);return E(v,q)}return E(v,d).catch(function(){var q=(0,Z.A)(function*(me){if("auth/missing-recaptcha-token"===me.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const xe=yield Vn(v,d,p,"getOobCode"===p);return E(v,xe)}return Promise.reject(me)});return function(me){return q.apply(this,arguments)}}())}),pn.apply(this,arguments)}function vr(v){const d=v.indexOf(":");return d<0?"":v.substr(0,d+1)}function es(v){if(!v)return null;const d=Number(v);return isNaN(d)?null:d}class Ai{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return ye("not implemented")}_getIdTokenResponse(d){return ye("not implemented")}_linkToIdToken(d,p){return ye("not implemented")}_getReauthenticationResolver(d){return ye("not implemented")}}function Ds(v,d){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,Z.A)(function*(v,d){return ct(v,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function mi(v,d){return yn.apply(this,arguments)}function yn(){return(yn=(0,Z.A)(function*(v,d){return fn(v,"POST","/v1/accounts:signInWithPassword",et(v,d))})).apply(this,arguments)}function nn(){return(nn=(0,Z.A)(function*(v,d){return fn(v,"POST","/v1/accounts:signInWithEmailLink",et(v,d))})).apply(this,arguments)}function ei(){return(ei=(0,Z.A)(function*(v,d){return fn(v,"POST","/v1/accounts:signInWithEmailLink",et(v,d))})).apply(this,arguments)}class ns extends Ai{constructor(d,p,E,L=null){super("password",E),this._email=d,this._password=p,this._tenantId=L}static _fromEmailAndPassword(d,p){return new ns(d,p,"password")}static _fromEmailAndCode(d,p,E=null){return new ns(d,p,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,Z.A)(function*(){switch(p.signInMethod){case"password":return cr(d,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",mi);case"emailLink":return function Rt(v,d){return nn.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:Mt(d,"internal-error")}})()}_linkToIdToken(d,p){var E=this;return(0,Z.A)(function*(){switch(E.signInMethod){case"password":return cr(d,{idToken:p,returnSecureToken:!0,email:E._email,password:E._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ds);case"emailLink":return function sr(v,d){return ei.apply(this,arguments)}(d,{idToken:p,email:E._email,oobCode:E._password});default:Mt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function hr(v,d){return ji.apply(this,arguments)}function ji(){return(ji=(0,Z.A)(function*(v,d){return fn(v,"POST","/v1/accounts:signInWithIdp",et(v,d))})).apply(this,arguments)}class li{constructor(d){var p,E,L,q,me,xe;const Je=(0,Ae.I9)((0,Ae.hp)(d)),Lt=null!==(p=Je.apiKey)&&void 0!==p?p:null,hn=null!==(E=Je.oobCode)&&void 0!==E?E:null,_n=function On(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=Je.mode)&&void 0!==L?L:null);ot(Lt&&hn&&_n,"argument-error"),this.apiKey=Lt,this.operation=_n,this.code=hn,this.continueUrl=null!==(q=Je.continueUrl)&&void 0!==q?q:null,this.languageCode=null!==(me=Je.languageCode)&&void 0!==me?me:null,this.tenantId=null!==(xe=Je.tenantId)&&void 0!==xe?xe:null}static parseLink(d){const p=function Un(v){const d=(0,Ae.I9)((0,Ae.hp)(v)).link,p=d?(0,Ae.I9)((0,Ae.hp)(d)).deep_link_id:null,E=(0,Ae.I9)((0,Ae.hp)(v)).deep_link_id;return(E?(0,Ae.I9)((0,Ae.hp)(E)).link:null)||E||p||d||v}(d);try{return new li(p)}catch{return null}}}let js=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(p,E){return ns._fromEmailAndPassword(p,E)}static credentialWithLink(p,E){const L=li.parseLink(E);return ot(L,"argument-error"),ns._fromEmailAndCode(p,L.code,L.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ln{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class La extends ln{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class ee{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,E){return(0,Z.A)(function*(L,q,me,xe=!1){const Je=yield bt._fromIdTokenResponse(L,me,xe),Lt=ne(me);return new ee({user:Je,providerId:Lt,_tokenResponse:me,operationType:q})}).apply(this,arguments)}static _forOperation(d,p,E){return(0,Z.A)(function*(){yield d._updateTokensIfNecessary(E,!0);const L=ne(E);return new ee({user:d,providerId:L,_tokenResponse:E,operationType:p})})()}}function ne(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}class gt extends Ae.g{constructor(d,p,E,L){var q;super(p.code,p.message),this.operationType=E,this.user=L,Object.setPrototypeOf(this,gt.prototype),this.customData={appName:d.name,tenantId:null!==(q=d.tenantId)&&void 0!==q?q:void 0,_serverResponse:p.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(d,p,E,L){return new gt(d,p,E,L)}}function Ot(v,d,p,E){return("reauthenticate"===d?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(q=>{throw"auth/multi-factor-auth-required"===q.code?gt._fromErrorAndOperation(v,q,d,E):q})}function Er(){return(Er=(0,Z.A)(function*(v,d,p=!1){const E=yield Kn(v,d._linkToIdToken(v.auth,yield v.getIdToken()),p);return ee._forOperation(v,"link",E)})).apply(this,arguments)}function Rn(){return(Rn=(0,Z.A)(function*(v,d,p=!1){const{auth:E}=v;if((0,ie.xZ)(E.app))return Promise.reject(Vt(E));const L="reauthenticate";try{const q=yield Kn(v,Ot(E,L,d,v),p);ot(q.idToken,E,"internal-error");const me=$n(q.idToken);ot(me,E,"internal-error");const{sub:xe}=me;return ot(v.uid===xe,E,"user-mismatch"),ee._forOperation(v,L,q)}catch(q){throw"auth/user-not-found"===q?.code&&Mt(E,"user-mismatch"),q}})).apply(this,arguments)}function Hi(v,d){return ui.apply(this,arguments)}function ui(){return(ui=(0,Z.A)(function*(v,d,p=!1){if((0,ie.xZ)(v.app))return Promise.reject(Vt(v));const E="signIn",L=yield Ot(v,E,d),q=yield ee._fromIdTokenResponse(v,E,L);return p||(yield v._updateCurrentUser(q.user)),q})).apply(this,arguments)}function Br(){return(Br=(0,Z.A)(function*(v,d){return Hi(ir(v),d)})).apply(this,arguments)}function Or(){return(Or=(0,Z.A)(function*(v){const d=ir(v);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function Ta(v,d,p){return(0,ie.xZ)(v.app)?Promise.reject(Vt(v)):function or(v,d){return Br.apply(this,arguments)}((0,Ae.Ku)(v),js.credential(d,p)).catch(function(){var E=(0,Z.A)(function*(L){throw"auth/password-does-not-meet-requirements"===L.code&&function ys(v){return Or.apply(this,arguments)}(v),L});return function(L){return E.apply(this,arguments)}}())}function Bn(v){return(0,Ae.Ku)(v).signOut()}const za="__sak";class rl{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(za,"1"),this.storage.removeItem(za),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const il=(()=>{class v extends rl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$t(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const L=this.storage.getItem(E),q=this.localCache[E];L!==q&&p(E,q,L)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((xe,Je,Lt)=>{this.notifyListeners(xe,Lt)});const L=p.key;E?this.detachListener():this.stopPolling();const q=()=>{const xe=this.storage.getItem(L);!E&&this.localCache[L]===xe||this.notifyListeners(L,xe)},me=this.storage.getItem(L);!function Qt(){return(0,Ae.lT)()&&10===document.documentMode}()||me===p.newValue||p.newValue===p.oldValue?q():setTimeout(q,10)}notifyListeners(p,E){this.localCache[p]=E;const L=this.listeners[p];if(L)for(const q of Array.from(L))q(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var L=()=>super._set,q=this;return(0,Z.A)(function*(){yield L().call(q,p,E),q.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,L=this;return(0,Z.A)(function*(){const q=yield E().call(L,p);return L.localCache[p]=JSON.stringify(q),q})()}_remove(p){var E=()=>super._remove,L=this;return(0,Z.A)(function*(){yield E().call(L,p),delete L.localCache[p]})()}}return v.type="LOCAL",v})(),Yr=(()=>{class v extends rl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return v.type="SESSION",v})();let ic=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(q=>q.isListeningto(p));if(E)return E;const L=new v(p);return this.receivers.push(L),L}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,Z.A)(function*(){const L=p,{eventId:q,eventType:me,data:xe}=L.data,Je=E.handlersMap[me];if(!Je?.size)return;L.ports[0].postMessage({status:"ack",eventId:q,eventType:me});const Lt=Array.from(Je).map(function(){var _n=(0,Z.A)(function*(Mr){return Mr(L.origin,xe)});return function(Mr){return _n.apply(this,arguments)}}()),hn=yield function rc(v){return Promise.all(v.map(function(){var d=(0,Z.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return d.apply(this,arguments)}}()))}(Lt);L.ports[0].postMessage({status:"done",eventId:q,eventType:me,response:hn})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ao(v="",d=10){let p="";for(let E=0;E<d;E++)p+=Math.floor(10*Math.random());return v+p}class Ga{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p){var E=this;return(0,Z.A)(function*(L,q,me=50){const xe=typeof MessageChannel<"u"?new MessageChannel:null;if(!xe)throw new Error("connection_unavailable");let Je,Lt;return new Promise((hn,_n)=>{const Mr=ao("",20);xe.port1.start();const zs=setTimeout(()=>{_n(new Error("unsupported_event"))},me);Lt={messageChannel:xe,onMessage(Gs){const jo=Gs;if(jo.data.eventId===Mr)switch(jo.data.status){case"ack":clearTimeout(zs),Je=setTimeout(()=>{_n(new Error("timeout"))},3e3);break;case"done":clearTimeout(Je),hn(jo.data.response);break;default:clearTimeout(zs),clearTimeout(Je),_n(new Error("invalid_response"))}}},E.handlers.add(Lt),xe.port1.addEventListener("message",Lt.onMessage),E.target.postMessage({eventType:L,eventId:Mr,data:q},[xe.port2])}).finally(()=>{Lt&&E.removeMessageHandler(Lt)})}).apply(this,arguments)}}function wr(){return window}function sc(){return typeof wr().WorkerGlobalScope<"u"&&"function"==typeof wr().importScripts}function rt(){return(rt=(0,Z.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const uc="firebaseLocalStorageDb",yo="firebaseLocalStorage",Mo="fbase_key";class as{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function ta(v,d){return v.transaction([yo],d?"readwrite":"readonly").objectStore(yo)}function Wa(){const v=indexedDB.open(uc,1);return new Promise((d,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(yo,{keyPath:Mo})}catch(L){p(L)}}),v.addEventListener("success",(0,Z.A)(function*(){const E=v.result;E.objectStoreNames.contains(yo)?d(E):(E.close(),yield function wa(){const v=indexedDB.deleteDatabase(uc);return new as(v).toPromise()}(),d(yield Wa()))}))})}function ol(v,d,p){return cc.apply(this,arguments)}function cc(){return(cc=(0,Z.A)(function*(v,d,p){const E=ta(v,!0).put({[Mo]:d,value:p});return new as(E).toPromise()})).apply(this,arguments)}function uo(){return(uo=(0,Z.A)(function*(v,d){const p=ta(v,!1).get(d),E=yield new as(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function al(v,d){const p=ta(v,!0).delete(d);return new as(p).toPromise()}const A=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,Z.A)(function*(){return p.db||(p.db=yield Wa()),p.db})()}_withRetries(p){var E=this;return(0,Z.A)(function*(){let L=0;for(;;)try{const q=yield E._openDb();return yield p(q)}catch(q){if(L++>3)throw q;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,Z.A)(function*(){return sc()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,Z.A)(function*(){p.receiver=ic._getInstance(function ac(){return sc()?self:null}()),p.receiver._subscribe("keyChanged",function(){var E=(0,Z.A)(function*(L,q){return{keyProcessed:(yield p._poll()).includes(q.key)}});return function(L,q){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,Z.A)(function*(L,q){return["keyChanged"]});return function(L,q){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,Z.A)(function*(){var E,L;if(p.activeServiceWorker=yield function oc(){return rt.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Ga(p.activeServiceWorker);const q=yield p.sender._send("ping",{},800);q&&null!==(E=q[0])&&void 0!==E&&E.fulfilled&&null!==(L=q[0])&&void 0!==L&&L.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,Z.A)(function*(){if(E.sender&&E.activeServiceWorker&&function Xn(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,Z.A)(function*(){try{if(!indexedDB)return!1;const p=yield Wa();return yield ol(p,za,"1"),yield al(p,za),!0}catch{}return!1})()}_withPendingWrite(p){var E=this;return(0,Z.A)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var L=this;return(0,Z.A)(function*(){return L._withPendingWrite((0,Z.A)(function*(){return yield L._withRetries(q=>ol(q,p,E)),L.localCache[p]=E,L.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,Z.A)(function*(){const L=yield E._withRetries(q=>function Wi(v,d){return uo.apply(this,arguments)}(q,p));return E.localCache[p]=L,L})()}_remove(p){var E=this;return(0,Z.A)(function*(){return E._withPendingWrite((0,Z.A)(function*(){return yield E._withRetries(L=>al(L,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,Z.A)(function*(){const E=yield p._withRetries(me=>{const xe=ta(me,!1).getAll();return new as(xe).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const L=[],q=new Set;if(0!==E.length)for(const{fbase_key:me,value:xe}of E)q.add(me),JSON.stringify(p.localCache[me])!==JSON.stringify(xe)&&(p.notifyListeners(me,xe),L.push(me));for(const me of Object.keys(p.localCache))p.localCache[me]&&!q.has(me)&&(p.notifyListeners(me,null),L.push(me));return L})()}notifyListeners(p,E){this.localCache[p]=E;const L=this.listeners[p];if(L)for(const q of Array.from(L))q(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,Z.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();gs("rcb"),new se(3e4,6e4);class Eu extends Ai{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return hr(d,this._buildIdpRequest())}_linkToIdToken(d,p){return hr(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return hr(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function dd(v){return Hi(v.auth,new Eu(v),v.bypassAuthState)}function hd(v){const{auth:d,user:p}=v;return ot(p,d,"internal-error"),function ni(v,d){return Rn.apply(this,arguments)}(p,new Eu(v),v.bypassAuthState)}function Np(v){return ko.apply(this,arguments)}function ko(){return(ko=(0,Z.A)(function*(v){const{auth:d,user:p}=v;return ot(p,d,"internal-error"),function Sr(v,d){return Er.apply(this,arguments)}(p,new Eu(v),v.bypassAuthState)})).apply(this,arguments)}class Xa{constructor(d,p,E,L,q=!1){this.auth=d,this.resolver=E,this.user=L,this.bypassAuthState=q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,Z.A)(function*(E,L){d.pendingPromise={resolve:E,reject:L};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(q){d.reject(q)}});return function(E,L){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,Z.A)(function*(){const{urlResponse:E,sessionId:L,postBody:q,tenantId:me,error:xe,type:Je}=d;if(xe)return void p.reject(xe);const Lt={auth:p.auth,requestUri:E,sessionId:L,tenantId:me||void 0,postBody:q||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Je)(Lt))}catch(hn){p.reject(hn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return dd;case"linkViaPopup":case"linkViaRedirect":return Np;case"reauthViaPopup":case"reauthViaRedirect":return hd;default:Mt(this.auth,"internal-error")}}resolve(d){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new se(2e3,1e4);const fd="pendingRedirect",Lo=new Map;class wu extends Xa{constructor(d,p,E=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,Z.A)(function*(){let E=Lo.get(p.auth._key());if(!E){try{const q=(yield function sa(v,d){return Fo.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;E=()=>Promise.resolve(q)}catch(L){E=()=>Promise.reject(L)}Lo.set(p.auth._key(),E)}return p.bypassAuthState||Lo.set(p.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,E=this;return(0,Z.A)(function*(){if("signInViaRedirect"===d.type)return p().call(E,d);if("unknown"!==d.type){if(d.eventId){const L=yield E.auth._redirectUserForId(d.eventId);if(L)return E.user=L,p().call(E,d);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,Z.A)(function*(){})()}cleanUp(){}}function Fo(){return(Fo=(0,Z.A)(function*(v,d){const p=function Ms(v){return Xr(fd,v.config.apiKey,v.name)}(d),E=function hc(v){return tn(v._redirectPersistence)}(v);if(!(yield E._isAvailable()))return!1;const L="true"===(yield E._get(p));return yield E._remove(p),L})).apply(this,arguments)}function gd(v,d){Lo.set(v._key(),d)}function _d(v,d){return Au.apply(this,arguments)}function Au(){return(Au=(0,Z.A)(function*(v,d,p=!1){if((0,ie.xZ)(v.app))return Promise.reject(Vt(v));const E=ir(v),L=function Ki(v,d){return d?tn(d):(ot(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}(E,d),me=yield new wu(E,L,p).execute();return me&&!p&&(delete me.user._redirectEventId,yield E._persistUserIfCurrent(me.user),yield E._setRedirectUser(null,d)),me})).apply(this,arguments)}class vd{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(d,E)&&(p=!0,this.sendToConsumer(d,E),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Is(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Id(v);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var E;if(d.error&&!Id(d)){const L=(null===(E=d.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(_t(this.auth,L))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const E=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&E}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Du(d))}saveEventToCache(d){this.cachedEventUids.add(Du(d)),this.lastProcessedEventTime=Date.now()}}function Du(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(d=>d).join("-")}function Id({type:v,error:d}){return"unknown"===v&&"auth/no-auth-event"===d?.code}function Bo(){return(Bo=(0,Z.A)(function*(v,d={}){return ct(v,"GET","/v1/projects",d)})).apply(this,arguments)}const Ja=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yh=/^https?/;function mc(){return mc=(0,Z.A)(function*(v){if(v.config.emulator)return;const{authorizedDomains:d}=yield function Xh(v){return Bo.apply(this,arguments)}(v);for(const p of d)try{if(eu(p))return}catch{}Mt(v,"unauthorized-domain")}),mc.apply(this,arguments)}function eu(v){const d=ft(),{protocol:p,hostname:E}=new URL(d);if(v.startsWith("chrome-extension://")){const me=new URL(v);return""===me.hostname&&""===E?"chrome-extension:"===p&&v.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&me.hostname===E}if(!Yh.test(p))return!1;if(Ja.test(v))return E===v;const L=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(E)}const Cu=new se(3e4,6e4);function tu(){const v=wr().___jsl;if(v?.H)for(const d of Object.keys(v.H))if(v.H[d].r=v.H[d].r||[],v.H[d].L=v.H[d].L||[],v.H[d].r=[...v.H[d].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}let Da=null;const Cm=new se(5e3,15e3),Fp="__/auth/iframe",bm="emulator/auth/iframe",Sm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rm(v){const d=v.config;ot(d.authDomain,v,"auth-domain-config-required");const p=d.emulator?W(d,bm):`https://${v.config.authDomain}/${Fp}`,E={apiKey:d.apiKey,appName:v.name,v:ie.MF},L=Jh.get(v.config.apiHost);L&&(E.eid=L);const q=v._getFrameworks();return q.length&&(E.fw=q.join(",")),`${p}?${(0,Ae.Am)(E).slice(1)}`}function _c(){return _c=(0,Z.A)(function*(v){const d=yield function si(v){return Da=Da||function Zh(v){return new Promise((d,p)=>{var E,L,q;function me(){tu(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{tu(),p(_t(v,"network-request-failed"))},timeout:Cu.get()})}if(null!==(L=null===(E=wr().gapi)||void 0===E?void 0:E.iframes)&&void 0!==L&&L.Iframe)d(gapi.iframes.getContext());else{if(null===(q=wr().gapi)||void 0===q||!q.load){const xe=gs("iframefcb");return wr()[xe]=()=>{gapi.load?me():p(_t(v,"network-request-failed"))},oi(`${function Fr(){return xi.gapiScript}()}?onload=${xe}`).catch(Je=>p(Je))}me()}}).catch(d=>{throw Da=null,d})}(v),Da}(v),p=wr().gapi;return ot(p,v,"internal-error"),d.open({where:document.body,url:Rm(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sm,dontclear:!0},E=>new Promise(function(){var L=(0,Z.A)(function*(q,me){yield E.restyle({setHideOnLeave:!1});const xe=_t(v,"network-request-failed"),Je=wr().setTimeout(()=>{me(xe)},Cm.get());function Lt(){wr().clearTimeout(Je),q(E)}E.ping(Lt).then(Lt,()=>{me(xe)})});return function(q,me){return L.apply(this,arguments)}}()))}),_c.apply(this,arguments)}const bu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class aa{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Su="__/auth/handler",Dd="emulator/auth/handler",ll=encodeURIComponent("fac");function nu(v,d,p,E,L,q){return dl.apply(this,arguments)}function dl(){return(dl=(0,Z.A)(function*(v,d,p,E,L,q){ot(v.config.authDomain,v,"auth-domain-config-required"),ot(v.config.apiKey,v,"invalid-api-key");const me={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:E,v:ie.MF,eventId:L};if(d instanceof ln){d.setDefaultLanguage(v.languageCode),me.providerId=d.providerId||"",(0,Ae.Im)(d.getCustomParameters())||(me.customParameters=JSON.stringify(d.getCustomParameters()));for(const[hn,_n]of Object.entries(q||{}))me[hn]=_n}if(d instanceof La){const hn=d.getScopes().filter(_n=>""!==_n);hn.length>0&&(me.scopes=hn.join(","))}v.tenantId&&(me.tid=v.tenantId);const xe=me;for(const hn of Object.keys(xe))void 0===xe[hn]&&delete xe[hn];const Je=yield v._getAppCheckToken(),Lt=Je?`#${ll}=${encodeURIComponent(Je)}`:"";return`${function tf({config:v}){return v.emulator?W(v,Dd):`https://${v.authDomain}/${Su}`}(v)}?${(0,Ae.Am)(xe).slice(1)}${Lt}`})).apply(this,arguments)}const Cd="webStorageSupport",Hs=class Vp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yr,this._completeRedirectFn=_d,this._overrideRedirectResult=gd}_openPopup(d,p,E,L){var q=this;return(0,Z.A)(function*(){var me;Nt(null===(me=q.eventManagers[d._key()])||void 0===me?void 0:me.manager,"_initialize() not called before _openPopup()");const xe=yield nu(d,p,E,ft(),L);return function Ad(v,d,p,E=500,L=600){const q=Math.max((window.screen.availHeight-L)/2,0).toString(),me=Math.max((window.screen.availWidth-E)/2,0).toString();let xe="";const Je=Object.assign(Object.assign({},bu),{width:E.toString(),height:L.toString(),top:q,left:me}),Lt=(0,Ae.ZQ)().toLowerCase();p&&(xe=xr(Lt)?"_blank":p),ci(Lt)&&(d=d||"http://localhost",Je.scrollbars="yes");const hn=Object.entries(Je).reduce((Mr,[zs,Gs])=>`${Mr}${zs}=${Gs},`,"");if(function Et(v=(0,Ae.ZQ)()){var d;return Ee(v)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Lt)&&"_self"!==xe)return function xs(v,d){const p=document.createElement("a");p.href=v,p.target=d;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(d||"",xe),new aa(null);const _n=window.open(d||"",xe,hn);ot(_n,v,"popup-blocked");try{_n.focus()}catch{}return new aa(_n)}(d,xe,ao())})()}_openRedirect(d,p,E,L){var q=this;return(0,Z.A)(function*(){return yield q._originValidation(d),function cd(v){wr().location.href=v}(yield nu(d,p,E,ft(),L)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:L,promise:q}=this.eventManagers[p];return L?Promise.resolve(L):(Nt(q,"If manager is not set, promise should be"),q)}const E=this.initAndGetManager(d);return this.eventManagers[p]={promise:E},E.catch(()=>{delete this.eventManagers[p]}),E}initAndGetManager(d){var p=this;return(0,Z.A)(function*(){const E=yield function Td(v){return _c.apply(this,arguments)}(d),L=new vd(d);return E.register("authEvent",q=>(ot(q?.authEvent,d,"invalid-auth-event"),{status:L.onEvent(q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:L},p.iframes[d._key()]=E,L})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(Cd,{type:Cd},L=>{var q;const me=null===(q=L?.[0])||void 0===q?void 0:q[Cd];void 0!==me&&p(!!me),Mt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Ed(v){return mc.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return $t()||ws()||Ee()}};var bd="@firebase/auth";class Up{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,Z.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(E=>{d(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ac=(0,Ae.XA)("authIdTokenMaxAge")||300;let Pd=null;const Pu=v=>function(){var d=(0,Z.A)(function*(p){const E=p&&(yield p.getIdTokenResult()),L=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(L&&L>Ac)return;const q=E?.token;Pd!==q&&(Pd=q,yield fetch(v,{method:q?"POST":"DELETE",headers:q?{Authorization:`Bearer ${q}`}:{}}))});return function(p){return d.apply(this,arguments)}}();function pl(v=(0,ie.Sx)()){const d=(0,ie.j6)(v,"auth");if(d.isInitialized())return d.getImmediate();const p=function ai(v,d){const p=(0,ie.j6)(v,"auth");if(p.isInitialized()){const L=p.getImmediate(),q=p.getOptions();if((0,Ae.bD)(q,d??{}))return L;Mt(L,"already-initialized")}return p.initialize({options:d})}(v,{popupRedirectResolver:Hs,persistence:[A,il,Yr]}),E=(0,Ae.XA)("authTokenSyncURL");if(E&&"boolean"==typeof isSecureContext&&isSecureContext){const q=new URL(E,location.origin);if(location.origin===q.origin){const me=Pu(q.toString());(function tl(v,d,p){(0,Ae.Ku)(v).beforeAuthStateChanged(d,p)})(p,me,()=>me(p.currentUser)),function zn(v,d,p,E){(0,Ae.Ku)(v).onIdTokenChanged(d,p,E)}(p,xe=>me(xe))}}const L=(0,Ae.Tj)("auth");return L&&function gu(v,d,p){const E=ir(v);ot(E._canInitEmulator,E,"emulator-config-failed"),ot(/^https?:\/\//.test(d),E,"invalid-emulator-scheme");const L=!!p?.disableWarnings,q=vr(d),{host:me,port:xe}=function ma(v){const d=vr(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(d.length));if(!p)return{host:"",port:null};const E=p[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(E);if(L){const q=L[1];return{host:q,port:es(E.substr(q.length+1))}}{const[q,me]=E.split(":");return{host:q,port:es(me)}}}(d);E.config.emulator={url:`${q}//${me}${null===xe?"":`:${xe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:me,port:xe,protocol:q.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function dr(){function v(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(p,`http://${L}`),p}(function Zi(v){xi=v})({loadJS:v=>new Promise((d,p)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=d,E.onerror=L=>{const q=_t("internal-error");q.customData=L,p(q)},E.type="text/javascript",E.charset="UTF-8",function Mu(){var v,d;return null!==(d=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==d?d:document}().appendChild(E)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function fl(v){(0,ie.om)(new oe.uA("auth",(d,{options:p})=>{const E=d.getProvider("app").getImmediate(),L=d.getProvider("heartbeat"),q=d.getProvider("app-check-internal"),{apiKey:me,authDomain:xe}=E.options;ot(me&&!me.includes(":"),"invalid-api-key",{appName:E.name});const Je={apiKey:me,authDomain:xe,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:on(v)},Lt=new Wo(E,L,q,Je);return function Ko(v,d){const p=d?.persistence||[],E=(Array.isArray(p)?p:[p]).map(tn);d?.errorMap&&v._updateErrorMap(d.errorMap),v._initializeWithPersistence(E,d?.popupRedirectResolver)}(Lt,p),Lt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,E)=>{d.getProvider("auth-internal").initialize()})),(0,ie.om)(new oe.uA("auth-internal",d=>{const p=ir(d.getProvider("auth").getImmediate());return new Up(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.KO)(bd,"1.7.9",function wc(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(v)),(0,ie.KO)(bd,"1.7.9","esm2017")}("Browser");class ua{constructor(d){return d}}class Dc{constructor(){return(0,R.CA)("auth")}}const gl=new fe.nKC("angularfire2.auth-instances");function Nu(v){return(d,p)=>{const E=d.runOutsideAngular(()=>v(p));return new ua(E)}}const ml={provide:Dc,deps:[[new fe.Xx1,gl]]},rf={provide:ua,useFactory:function xu(v,d){const p=(0,R.lR)("auth",v,d);return p&&new ua(p)},deps:[[new fe.Xx1,gl],$e.XU]};let sf=(()=>{class v{constructor(){(0,Ve.KO)("angularfire",R.xv.full,"auth")}static \u0275fac=function(E){return new(E||v)};static \u0275mod=fe.$C({type:v});static \u0275inj=fe.G2t({providers:[rf,ml]})}return v})();function Bp(v,...d){return{ngModule:sf,providers:[{provide:gl,useFactory:Nu(v),multi:!0,deps:[fe.SKi,fe.zZn,R.u0,$e.gL,[new fe.Xx1,R.Jv],...d]}]}}const Cc=(0,R.S3)(pl,!0),cf=(0,R.S3)(Ta,!0),Os=(0,R.S3)(Bn,!0)},4262:(Xt,nt,X)=>{X.d(nt,{_7:()=>mh,gS:()=>Tv,rJ:()=>To,kd:()=>w_,H9:()=>A_,GG:()=>Cv,aU:()=>Xf,hV:()=>Lg,P:()=>Zf,mZ:()=>jv,_M:()=>_h});var at,He,R=X(3586),fe=X(540),$e=X(7440),Ve=X(4665),Z=X(2214),ie=X(467),Ae=X(7852),vt=X(1362),We=X(8041),oe=X(1076),de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Le={};(function(){var a;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Te,ae,ge){ge||(ge=0);var De=Array(16);if("string"==typeof ae)for(var be=0;16>be;++be)De[be]=ae.charCodeAt(ge++)|ae.charCodeAt(ge++)<<8|ae.charCodeAt(ge++)<<16|ae.charCodeAt(ge++)<<24;else for(be=0;16>be;++be)De[be]=ae[ge++]|ae[ge++]<<8|ae[ge++]<<16|ae[ge++]<<24;var ke=Te.g[3],pe=(ae=Te.g[0])+(ke^(ge=Te.g[1])&((be=Te.g[2])^ke))+De[0]+3614090360&4294967295;pe=(ge=(be=(ke=(ae=(ge=(be=(ke=(ae=(ge=(be=(ke=(ae=(ge=(be=(ke=(ae=(ge=(be=(ke=(ae=(ge=(be=(ke=(ae=(ge=(be=(ke=(ae=(ge=(be=(ke=(ae=(ge=(be=(ke=(ae=(ge=(be=(ke=(ae=(ge=(be=(ke=(ae=(ge=(be=(ke=(ae=(ge=(be=(ke=(ae=(ge=(be=(ke=(ae=(ge=(be=(ke=(ae=ge+(pe<<7&4294967295|pe>>>25))+((pe=ke+(be^ae&(ge^be))+De[1]+3905402710&4294967295)<<12&4294967295|pe>>>20))+((pe=be+(ge^ke&(ae^ge))+De[2]+606105819&4294967295)<<17&4294967295|pe>>>15))+((pe=ge+(ae^be&(ke^ae))+De[3]+3250441966&4294967295)<<22&4294967295|pe>>>10))+((pe=ae+(ke^ge&(be^ke))+De[4]+4118548399&4294967295)<<7&4294967295|pe>>>25))+((pe=ke+(be^ae&(ge^be))+De[5]+1200080426&4294967295)<<12&4294967295|pe>>>20))+((pe=be+(ge^ke&(ae^ge))+De[6]+2821735955&4294967295)<<17&4294967295|pe>>>15))+((pe=ge+(ae^be&(ke^ae))+De[7]+4249261313&4294967295)<<22&4294967295|pe>>>10))+((pe=ae+(ke^ge&(be^ke))+De[8]+1770035416&4294967295)<<7&4294967295|pe>>>25))+((pe=ke+(be^ae&(ge^be))+De[9]+2336552879&4294967295)<<12&4294967295|pe>>>20))+((pe=be+(ge^ke&(ae^ge))+De[10]+4294925233&4294967295)<<17&4294967295|pe>>>15))+((pe=ge+(ae^be&(ke^ae))+De[11]+2304563134&4294967295)<<22&4294967295|pe>>>10))+((pe=ae+(ke^ge&(be^ke))+De[12]+1804603682&4294967295)<<7&4294967295|pe>>>25))+((pe=ke+(be^ae&(ge^be))+De[13]+4254626195&4294967295)<<12&4294967295|pe>>>20))+((pe=be+(ge^ke&(ae^ge))+De[14]+2792965006&4294967295)<<17&4294967295|pe>>>15))+((pe=ge+(ae^be&(ke^ae))+De[15]+1236535329&4294967295)<<22&4294967295|pe>>>10))+((pe=ae+(be^ke&(ge^be))+De[1]+4129170786&4294967295)<<5&4294967295|pe>>>27))+((pe=ke+(ge^be&(ae^ge))+De[6]+3225465664&4294967295)<<9&4294967295|pe>>>23))+((pe=be+(ae^ge&(ke^ae))+De[11]+643717713&4294967295)<<14&4294967295|pe>>>18))+((pe=ge+(ke^ae&(be^ke))+De[0]+3921069994&4294967295)<<20&4294967295|pe>>>12))+((pe=ae+(be^ke&(ge^be))+De[5]+3593408605&4294967295)<<5&4294967295|pe>>>27))+((pe=ke+(ge^be&(ae^ge))+De[10]+38016083&4294967295)<<9&4294967295|pe>>>23))+((pe=be+(ae^ge&(ke^ae))+De[15]+3634488961&4294967295)<<14&4294967295|pe>>>18))+((pe=ge+(ke^ae&(be^ke))+De[4]+3889429448&4294967295)<<20&4294967295|pe>>>12))+((pe=ae+(be^ke&(ge^be))+De[9]+568446438&4294967295)<<5&4294967295|pe>>>27))+((pe=ke+(ge^be&(ae^ge))+De[14]+3275163606&4294967295)<<9&4294967295|pe>>>23))+((pe=be+(ae^ge&(ke^ae))+De[3]+4107603335&4294967295)<<14&4294967295|pe>>>18))+((pe=ge+(ke^ae&(be^ke))+De[8]+1163531501&4294967295)<<20&4294967295|pe>>>12))+((pe=ae+(be^ke&(ge^be))+De[13]+2850285829&4294967295)<<5&4294967295|pe>>>27))+((pe=ke+(ge^be&(ae^ge))+De[2]+4243563512&4294967295)<<9&4294967295|pe>>>23))+((pe=be+(ae^ge&(ke^ae))+De[7]+1735328473&4294967295)<<14&4294967295|pe>>>18))+((pe=ge+(ke^ae&(be^ke))+De[12]+2368359562&4294967295)<<20&4294967295|pe>>>12))+((pe=ae+(ge^be^ke)+De[5]+4294588738&4294967295)<<4&4294967295|pe>>>28))+((pe=ke+(ae^ge^be)+De[8]+2272392833&4294967295)<<11&4294967295|pe>>>21))+((pe=be+(ke^ae^ge)+De[11]+1839030562&4294967295)<<16&4294967295|pe>>>16))+((pe=ge+(be^ke^ae)+De[14]+4259657740&4294967295)<<23&4294967295|pe>>>9))+((pe=ae+(ge^be^ke)+De[1]+2763975236&4294967295)<<4&4294967295|pe>>>28))+((pe=ke+(ae^ge^be)+De[4]+1272893353&4294967295)<<11&4294967295|pe>>>21))+((pe=be+(ke^ae^ge)+De[7]+4139469664&4294967295)<<16&4294967295|pe>>>16))+((pe=ge+(be^ke^ae)+De[10]+3200236656&4294967295)<<23&4294967295|pe>>>9))+((pe=ae+(ge^be^ke)+De[13]+681279174&4294967295)<<4&4294967295|pe>>>28))+((pe=ke+(ae^ge^be)+De[0]+3936430074&4294967295)<<11&4294967295|pe>>>21))+((pe=be+(ke^ae^ge)+De[3]+3572445317&4294967295)<<16&4294967295|pe>>>16))+((pe=ge+(be^ke^ae)+De[6]+76029189&4294967295)<<23&4294967295|pe>>>9))+((pe=ae+(ge^be^ke)+De[9]+3654602809&4294967295)<<4&4294967295|pe>>>28))+((pe=ke+(ae^ge^be)+De[12]+3873151461&4294967295)<<11&4294967295|pe>>>21))+((pe=be+(ke^ae^ge)+De[15]+530742520&4294967295)<<16&4294967295|pe>>>16))+((pe=ge+(be^ke^ae)+De[2]+3299628645&4294967295)<<23&4294967295|pe>>>9))+((pe=ae+(be^(ge|~ke))+De[0]+4096336452&4294967295)<<6&4294967295|pe>>>26))+((pe=ke+(ge^(ae|~be))+De[7]+1126891415&4294967295)<<10&4294967295|pe>>>22))+((pe=be+(ae^(ke|~ge))+De[14]+2878612391&4294967295)<<15&4294967295|pe>>>17))+((pe=ge+(ke^(be|~ae))+De[5]+4237533241&4294967295)<<21&4294967295|pe>>>11))+((pe=ae+(be^(ge|~ke))+De[12]+1700485571&4294967295)<<6&4294967295|pe>>>26))+((pe=ke+(ge^(ae|~be))+De[3]+2399980690&4294967295)<<10&4294967295|pe>>>22))+((pe=be+(ae^(ke|~ge))+De[10]+4293915773&4294967295)<<15&4294967295|pe>>>17))+((pe=ge+(ke^(be|~ae))+De[1]+2240044497&4294967295)<<21&4294967295|pe>>>11))+((pe=ae+(be^(ge|~ke))+De[8]+1873313359&4294967295)<<6&4294967295|pe>>>26))+((pe=ke+(ge^(ae|~be))+De[15]+4264355552&4294967295)<<10&4294967295|pe>>>22))+((pe=be+(ae^(ke|~ge))+De[6]+2734768916&4294967295)<<15&4294967295|pe>>>17))+((pe=ge+(ke^(be|~ae))+De[13]+1309151649&4294967295)<<21&4294967295|pe>>>11))+((ke=(ae=ge+((pe=ae+(be^(ge|~ke))+De[4]+4149444226&4294967295)<<6&4294967295|pe>>>26))+((pe=ke+(ge^(ae|~be))+De[11]+3174756917&4294967295)<<10&4294967295|pe>>>22))^((be=ke+((pe=be+(ae^(ke|~ge))+De[2]+718787259&4294967295)<<15&4294967295|pe>>>17))|~ae))+De[9]+3951481745&4294967295,Te.g[0]=Te.g[0]+ae&4294967295,Te.g[1]=Te.g[1]+(be+(pe<<21&4294967295|pe>>>11))&4294967295,Te.g[2]=Te.g[2]+be&4294967295,Te.g[3]=Te.g[3]+ke&4294967295}function g(Te,ae){this.h=ae;for(var ge=[],De=!0,be=Te.length-1;0<=be;be--){var ke=0|Te[be];De&&ke==ae||(ge[be]=ke,De=!1)}this.g=ge}(function e(Te,ae){function ge(){}ge.prototype=ae.prototype,Te.D=ae.prototype,Te.prototype=new ge,Te.prototype.constructor=Te,Te.C=function(De,be,ke){for(var pe=Array(arguments.length-2),hs=2;hs<arguments.length;hs++)pe[hs-2]=arguments[hs];return ae.prototype[be].apply(De,pe)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Te,ae){void 0===ae&&(ae=Te.length);for(var ge=ae-this.blockSize,De=this.B,be=this.h,ke=0;ke<ae;){if(0==be)for(;ke<=ge;)u(this,Te,ke),ke+=this.blockSize;if("string"==typeof Te){for(;ke<ae;)if(De[be++]=Te.charCodeAt(ke++),be==this.blockSize){u(this,De),be=0;break}}else for(;ke<ae;)if(De[be++]=Te[ke++],be==this.blockSize){u(this,De),be=0;break}}this.h=be,this.o+=ae},s.prototype.v=function(){var Te=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Te[0]=128;for(var ae=1;ae<Te.length-8;++ae)Te[ae]=0;var ge=8*this.o;for(ae=Te.length-8;ae<Te.length;++ae)Te[ae]=255&ge,ge/=256;for(this.u(Te),Te=Array(16),ae=ge=0;4>ae;++ae)for(var De=0;32>De;De+=8)Te[ge++]=this.g[ae]>>>De&255;return Te};var T={};function b(Te){return-128<=Te&&128>Te?function h(Te,ae){var ge=T;return Object.prototype.hasOwnProperty.call(ge,Te)?ge[Te]:ge[Te]=ae(Te)}(Te,function(ae){return new g([0|ae],0>ae?-1:0)}):new g([0|Te],0>Te?-1:0)}function N(Te){if(isNaN(Te)||!isFinite(Te))return Y;if(0>Te)return lt(N(-Te));for(var ae=[],ge=1,De=0;Te>=ge;De++)ae[De]=Te/ge|0,ge*=4294967296;return new g(ae,0)}var Y=b(0),le=b(1),Ne=b(16777216);function tt(Te){if(0!=Te.h)return!1;for(var ae=0;ae<Te.g.length;ae++)if(0!=Te.g[ae])return!1;return!0}function mt(Te){return-1==Te.h}function lt(Te){for(var ae=Te.g.length,ge=[],De=0;De<ae;De++)ge[De]=~Te.g[De];return new g(ge,~Te.h).add(le)}function zt(Te,ae){return Te.add(lt(ae))}function sn(Te,ae){for(;(65535&Te[ae])!=Te[ae];)Te[ae+1]+=Te[ae]>>>16,Te[ae]&=65535,ae++}function Wt(Te,ae){this.g=Te,this.h=ae}function bn(Te,ae){if(tt(ae))throw Error("division by zero");if(tt(Te))return new Wt(Y,Y);if(mt(Te))return ae=bn(lt(Te),ae),new Wt(lt(ae.g),lt(ae.h));if(mt(ae))return ae=bn(Te,lt(ae)),new Wt(lt(ae.g),ae.h);if(30<Te.g.length){if(mt(Te)||mt(ae))throw Error("slowDivide_ only works with positive integers.");for(var ge=le,De=ae;0>=De.l(Te);)ge=br(ge),De=br(De);var be=qn(ge,1),ke=qn(De,1);for(De=qn(De,2),ge=qn(ge,2);!tt(De);){var pe=ke.add(De);0>=pe.l(Te)&&(be=be.add(ge),ke=pe),De=qn(De,1),ge=qn(ge,1)}return ae=zt(Te,be.j(ae)),new Wt(be,ae)}for(be=Y;0<=Te.l(ae);){for(ge=Math.max(1,Math.floor(Te.m()/ae.m())),De=48>=(De=Math.ceil(Math.log(ge)/Math.LN2))?1:Math.pow(2,De-48),pe=(ke=N(ge)).j(ae);mt(pe)||0<pe.l(Te);)pe=(ke=N(ge-=De)).j(ae);tt(ke)&&(ke=le),be=be.add(ke),Te=zt(Te,pe)}return new Wt(be,Te)}function br(Te){for(var ae=Te.g.length+1,ge=[],De=0;De<ae;De++)ge[De]=Te.i(De)<<1|Te.i(De-1)>>>31;return new g(ge,Te.h)}function qn(Te,ae){var ge=ae>>5;ae%=32;for(var De=Te.g.length-ge,be=[],ke=0;ke<De;ke++)be[ke]=0<ae?Te.i(ke+ge)>>>ae|Te.i(ke+ge+1)<<32-ae:Te.i(ke+ge);return new g(be,Te.h)}(a=g.prototype).m=function(){if(mt(this))return-lt(this).m();for(var Te=0,ae=1,ge=0;ge<this.g.length;ge++){var De=this.i(ge);Te+=(0<=De?De:4294967296+De)*ae,ae*=4294967296}return Te},a.toString=function(Te){if(2>(Te=Te||10)||36<Te)throw Error("radix out of range: "+Te);if(tt(this))return"0";if(mt(this))return"-"+lt(this).toString(Te);for(var ae=N(Math.pow(Te,6)),ge=this,De="";;){var be=bn(ge,ae).g,ke=((0<(ge=zt(ge,be.j(ae))).g.length?ge.g[0]:ge.h)>>>0).toString(Te);if(tt(ge=be))return ke+De;for(;6>ke.length;)ke="0"+ke;De=ke+De}},a.i=function(Te){return 0>Te?0:Te<this.g.length?this.g[Te]:this.h},a.l=function(Te){return mt(Te=zt(this,Te))?-1:tt(Te)?0:1},a.abs=function(){return mt(this)?lt(this):this},a.add=function(Te){for(var ae=Math.max(this.g.length,Te.g.length),ge=[],De=0,be=0;be<=ae;be++){var ke=De+(65535&this.i(be))+(65535&Te.i(be)),pe=(ke>>>16)+(this.i(be)>>>16)+(Te.i(be)>>>16);De=pe>>>16,ge[be]=(pe&=65535)<<16|(ke&=65535)}return new g(ge,-2147483648&ge[ge.length-1]?-1:0)},a.j=function(Te){if(tt(this)||tt(Te))return Y;if(mt(this))return mt(Te)?lt(this).j(lt(Te)):lt(lt(this).j(Te));if(mt(Te))return lt(this.j(lt(Te)));if(0>this.l(Ne)&&0>Te.l(Ne))return N(this.m()*Te.m());for(var ae=this.g.length+Te.g.length,ge=[],De=0;De<2*ae;De++)ge[De]=0;for(De=0;De<this.g.length;De++)for(var be=0;be<Te.g.length;be++){var ke=this.i(De)>>>16,pe=65535&this.i(De),hs=Te.i(be)>>>16,pu=65535&Te.i(be);ge[2*De+2*be]+=pe*pu,sn(ge,2*De+2*be),ge[2*De+2*be+1]+=ke*pu,sn(ge,2*De+2*be+1),ge[2*De+2*be+1]+=pe*hs,sn(ge,2*De+2*be+1),ge[2*De+2*be+2]+=ke*hs,sn(ge,2*De+2*be+2)}for(De=0;De<ae;De++)ge[De]=ge[2*De+1]<<16|ge[2*De];for(De=ae;De<2*ae;De++)ge[De]=0;return new g(ge,0)},a.A=function(Te){return bn(this,Te).h},a.and=function(Te){for(var ae=Math.max(this.g.length,Te.g.length),ge=[],De=0;De<ae;De++)ge[De]=this.i(De)&Te.i(De);return new g(ge,this.h&Te.h)},a.or=function(Te){for(var ae=Math.max(this.g.length,Te.g.length),ge=[],De=0;De<ae;De++)ge[De]=this.i(De)|Te.i(De);return new g(ge,this.h|Te.h)},a.xor=function(Te){for(var ae=Math.max(this.g.length,Te.g.length),ge=[],De=0;De<ae;De++)ge[De]=this.i(De)^Te.i(De);return new g(ge,this.h^Te.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,He=Le.Md5=s,g.prototype.add=g.prototype.add,g.prototype.multiply=g.prototype.j,g.prototype.modulo=g.prototype.A,g.prototype.compare=g.prototype.l,g.prototype.toNumber=g.prototype.m,g.prototype.toString=g.prototype.toString,g.prototype.getBits=g.prototype.i,g.fromNumber=N,g.fromString=function G(Te,ae){if(0==Te.length)throw Error("number format error: empty string");if(2>(ae=ae||10)||36<ae)throw Error("radix out of range: "+ae);if("-"==Te.charAt(0))return lt(G(Te.substring(1),ae));if(0<=Te.indexOf("-"))throw Error('number format error: interior "-" character');for(var ge=N(Math.pow(ae,8)),De=Y,be=0;be<Te.length;be+=8){var ke=Math.min(8,Te.length-be),pe=parseInt(Te.substring(be,be+ke),ae);8>ke?(ke=N(Math.pow(ae,ke)),De=De.j(ke).add(N(pe))):De=(De=De.j(ge)).add(N(pe))}return De},at=Le.Integer=g}).apply(typeof de<"u"?de:typeof self<"u"?self:typeof window<"u"?window:{});var Ft,An,Yn,ze,st,Qe,At,Mt,ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dt={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,S,O){return f==Array.prototype||f==Object.prototype||(f[S]=O.value),f},s=function r(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ut&&ut];for(var S=0;S<f.length;++S){var O=f[S];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}(this);!function u(f,S){if(S)e:{var O=s;f=f.split(".");for(var K=0;K<f.length-1;K++){var Se=f[K];if(!(Se in O))break e;O=O[Se]}(S=S(K=O[f=f[f.length-1]]))!=K&&null!=S&&e(O,f,{configurable:!0,writable:!0,value:S})}}("Array.prototype.values",function(f){return f||function(){return function h(f,S){f instanceof String&&(f+="");var O=0,K=!1,Se={next:function(){if(!K&&O<f.length){var Ue=O++;return{value:S(Ue,f[Ue]),done:!1}}return K=!0,{done:!0,value:void 0}}};return Se[Symbol.iterator]=function(){return Se},Se}(this,function(S,O){return O})}});var g=g||{},T=this||self;function b(f){var S=typeof f;return"array"==(S="object"!=S?S:f?Array.isArray(f)?"array":S:"null")||"object"==S&&"number"==typeof f.length}function N(f){var S=typeof f;return"object"==S&&null!=f||"function"==S}function G(f,S,O){return f.call.apply(f.bind,arguments)}function Y(f,S,O){if(!f)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var Se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Se,K),f.apply(S,Se)}}return function(){return f.apply(S,arguments)}}function le(f,S,O){return(le=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?G:Y).apply(null,arguments)}function Ne(f,S){var O=Array.prototype.slice.call(arguments,1);return function(){var K=O.slice();return K.push.apply(K,arguments),f.apply(this,K)}}function tt(f,S){function O(){}O.prototype=S.prototype,f.aa=S.prototype,f.prototype=new O,f.prototype.constructor=f,f.Qb=function(K,Se,Ue){for(var Pt=Array(arguments.length-2),qr=2;qr<arguments.length;qr++)Pt[qr-2]=arguments[qr];return S.prototype[Se].apply(K,Pt)}}function mt(f){const S=f.length;if(0<S){const O=Array(S);for(let K=0;K<S;K++)O[K]=f[K];return O}return[]}function lt(f,S){for(let O=1;O<arguments.length;O++){const K=arguments[O];if(b(K)){const Se=f.length||0,Ue=K.length||0;f.length=Se+Ue;for(let Pt=0;Pt<Ue;Pt++)f[Se+Pt]=K[Pt]}else f.push(K)}}function sn(f){return/^[\s\xa0]*$/.test(f)}function Wt(){var f=T.navigator;return f&&(f=f.userAgent)?f:""}function bn(f){return bn[" "](f),f}bn[" "]=function(){};var br=!(-1==Wt().indexOf("Gecko")||-1!=Wt().toLowerCase().indexOf("webkit")&&-1==Wt().indexOf("Edge")||-1!=Wt().indexOf("Trident")||-1!=Wt().indexOf("MSIE")||-1!=Wt().indexOf("Edge"));function qn(f,S,O){for(const K in f)S.call(O,f[K],K,f)}function ae(f){const S={};for(const O in f)S[O]=f[O];return S}const ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function De(f,S){let O,K;for(let Se=1;Se<arguments.length;Se++){for(O in K=arguments[Se],K)f[O]=K[O];for(let Ue=0;Ue<ge.length;Ue++)O=ge[Ue],Object.prototype.hasOwnProperty.call(K,O)&&(f[O]=K[O])}}function be(f){var S=1;f=f.split(":");const O=[];for(;0<S&&f.length;)O.push(f.shift()),S--;return f.length&&O.push(f.join(":")),O}function ke(f){T.setTimeout(()=>{throw f},0)}function pe(){var f=co;let S=null;return f.g&&(S=f.g,f.g=f.g.next,f.g||(f.h=null),S.next=null),S}var pu=new class zt{constructor(S,O){this.i=S,this.j=O,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}(()=>new ks,f=>f.reset());class ks{constructor(){this.next=this.g=this.h=null}set(S,O){this.h=S,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let ha,qu=!1,co=new class hs{constructor(){this.h=this.g=null}add(S,O){const K=pu.get();K.set(S,O),this.h?this.h.next=K:this.g=K,this.h=K}},ep=()=>{const f=T.Promise.resolve(void 0);ha=()=>{f.then(Wl)}};var Wl=()=>{for(var f;f=pe();){try{f.h.call(f.g)}catch(O){ke(O)}var S=pu;S.j(f),100>S.h&&(S.h++,f.next=S.g,S.g=f)}qu=!1};function wo(){this.s=this.s,this.C=this.C}function Pi(f,S){this.type=f,this.g=this.target=S,this.defaultPrevented=!1}wo.prototype.s=!1,wo.prototype.ma=function(){this.s||(this.s=!0,this.N())},wo.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Pi.prototype.h=function(){this.defaultPrevented=!0};var ql=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var f=!1,S=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const O=()=>{};T.addEventListener("test",O,S),T.removeEventListener("test",O,S)}catch{}return f}();function Ma(f,S){if(Pi.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var O=this.type=f.type,K=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=S,S=f.relatedTarget){if(br){e:{try{bn(S.nodeName);var Se=!0;break e}catch{}Se=!1}Se||(S=null)}}else"mouseover"==O?S=f.fromElement:"mouseout"==O&&(S=f.toElement);this.relatedTarget=S,K?(this.clientX=void 0!==K.clientX?K.clientX:K.pageX,this.clientY=void 0!==K.clientY?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:Kl[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ma.aa.h.call(this)}}tt(Ma,Pi);var Kl={2:"touch",3:"pen",4:"mouse"};Ma.prototype.h=function(){Ma.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var xa="closure_listenable_"+(1e6*Math.random()|0),Ql=0;function Xl(f,S,O,K,Se){this.listener=f,this.proxy=null,this.src=S,this.type=O,this.capture=!!K,this.ha=Se,this.key=++Ql,this.da=this.fa=!1}function yh(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function vh(f){this.src=f,this.g={},this.h=0}function tp(f,S){var O=S.type;if(O in f.g){var Ue,K=f.g[O],Se=Array.prototype.indexOf.call(K,S,void 0);(Ue=0<=Se)&&Array.prototype.splice.call(K,Se,1),Ue&&(yh(S),0==f.g[O].length&&(delete f.g[O],f.h--))}}function np(f,S,O,K){for(var Se=0;Se<f.length;++Se){var Ue=f[Se];if(!Ue.da&&Ue.listener==S&&Ue.capture==!!O&&Ue.ha==K)return Se}return-1}vh.prototype.add=function(f,S,O,K,Se){var Ue=f.toString();(f=this.g[Ue])||(f=this.g[Ue]=[],this.h++);var Pt=np(f,S,K,Se);return-1<Pt?(S=f[Pt],O||(S.fa=!1)):((S=new Xl(S,this.src,Ue,!!K,Se)).fa=O,f.push(S)),S};var rp="closure_lm_"+(1e6*Math.random()|0),ip={};function Vg(f,S,O,K,Se){if(K&&K.once)return sp(f,S,O,K,Se);if(Array.isArray(S)){for(var Ue=0;Ue<S.length;Ue++)Vg(f,S[Ue],O,K,Se);return null}return O=jg(O),f&&f[xa]?f.K(S,O,N(K)?!!K.capture:!!K,Se):Ug(f,S,O,!1,K,Se)}function Ug(f,S,O,K,Se,Ue){if(!S)throw Error("Invalid event type");var Pt=N(Se)?!!Se.capture:!!Se,qr=Bg(f);if(qr||(f[rp]=qr=new vh(f)),(O=qr.add(S,O,K,Pt,Ue)).proxy)return O;if(K=function P_(){const S=Hv;return function f(O){return S.call(f.src,f.listener,O)}}(),O.proxy=K,K.src=f,K.listener=O,f.addEventListener)ql||(Se=Pt),void 0===Se&&(Se=!1),f.addEventListener(S.toString(),K,Se);else if(f.attachEvent)f.attachEvent($v(S.toString()),K);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(K)}return O}function sp(f,S,O,K,Se){if(Array.isArray(S)){for(var Ue=0;Ue<S.length;Ue++)sp(f,S[Ue],O,K,Se);return null}return O=jg(O),f&&f[xa]?f.L(S,O,N(K)?!!K.capture:!!K,Se):Ug(f,S,O,!0,K,Se)}function M_(f,S,O,K,Se){if(Array.isArray(S))for(var Ue=0;Ue<S.length;Ue++)M_(f,S[Ue],O,K,Se);else K=N(K)?!!K.capture:!!K,O=jg(O),f&&f[xa]?(f=f.i,(S=String(S).toString())in f.g&&-1<(O=np(Ue=f.g[S],O,K,Se))&&(yh(Ue[O]),Array.prototype.splice.call(Ue,O,1),0==Ue.length&&(delete f.g[S],f.h--))):f&&(f=Bg(f))&&(S=f.g[S.toString()],f=-1,S&&(f=np(S,O,K,Se)),(O=-1<f?S[f]:null)&&x_(O))}function x_(f){if("number"!=typeof f&&f&&!f.da){var S=f.src;if(S&&S[xa])tp(S.i,f);else{var O=f.type,K=f.proxy;S.removeEventListener?S.removeEventListener(O,K,f.capture):S.detachEvent?S.detachEvent($v(O),K):S.addListener&&S.removeListener&&S.removeListener(K),(O=Bg(S))?(tp(O,f),0==O.h&&(O.src=null,S[rp]=null)):yh(f)}}}function $v(f){return f in ip?ip[f]:ip[f]="on"+f}function Hv(f,S){if(f.da)f=!0;else{S=new Ma(S,this);var O=f.listener,K=f.ha||f.src;f.fa&&x_(f),f=O.call(K,S)}return f}function Bg(f){return(f=f[rp])instanceof vh?f:null}var N_="__closure_events_fn_"+(1e9*Math.random()>>>0);function jg(f){return"function"==typeof f?f:(f[N_]||(f[N_]=function(S){return f.handleEvent(S)}),f[N_])}function Ws(){wo.call(this),this.i=new vh(this),this.M=this,this.F=null}function qs(f,S){var O,K=f.F;if(K)for(O=[];K;K=K.F)O.push(K);if(f=f.M,K=S.type||S,"string"==typeof S)S=new Pi(S,f);else if(S instanceof Pi)S.target=S.target||f;else{var Se=S;De(S=new Pi(K,f),Se)}if(Se=!0,O)for(var Ue=O.length-1;0<=Ue;Ue--){var Pt=S.g=O[Ue];Se=op(Pt,K,!0,S)&&Se}if(Se=op(Pt=S.g=f,K,!0,S)&&Se,Se=op(Pt,K,!1,S)&&Se,O)for(Ue=0;Ue<O.length;Ue++)Se=op(Pt=S.g=O[Ue],K,!1,S)&&Se}function op(f,S,O,K){if(!(S=f.i.g[String(S)]))return!0;S=S.concat();for(var Se=!0,Ue=0;Ue<S.length;++Ue){var Pt=S[Ue];if(Pt&&!Pt.da&&Pt.capture==O){var qr=Pt.listener,Ts=Pt.ha||Pt.src;Pt.fa&&tp(f.i,Pt),Se=!1!==qr.call(Ts,K)&&Se}}return Se&&!K.defaultPrevented}function O_(f,S,O){if("function"==typeof f)O&&(f=le(f,O));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=le(f.handleEvent,f)}return 2147483647<Number(S)?-1:T.setTimeout(f,S||0)}function ap(f){f.g=O_(()=>{f.g=null,f.i&&(f.i=!1,ap(f))},f.l);const S=f.h;f.h=null,f.m.apply(null,S)}tt(Ws,wo),Ws.prototype[xa]=!0,Ws.prototype.removeEventListener=function(f,S,O,K){M_(this,f,S,O,K)},Ws.prototype.N=function(){if(Ws.aa.N.call(this),this.i){var S,f=this.i;for(S in f.g){for(var O=f.g[S],K=0;K<O.length;K++)yh(O[K]);delete f.g[S],f.h--}}this.F=null},Ws.prototype.K=function(f,S,O,K){return this.i.add(String(f),S,!1,O,K)},Ws.prototype.L=function(f,S,O,K){return this.i.add(String(f),S,!0,O,K)};class Ih extends wo{constructor(S,O){super(),this.m=S,this.l=O,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:ap(this)}N(){super.N(),this.g&&(T.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zc(f){wo.call(this),this.h=f,this.g={}}tt(zc,wo);var Eh=[];function $g(f){qn(f.g,function(S,O){this.g.hasOwnProperty(O)&&x_(S)},f),f.g={}}zc.prototype.N=function(){zc.aa.N.call(this),$g(this)},zc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gc=T.JSON.stringify,k_=T.JSON.parse,zv=class{stringify(f){return T.JSON.stringify(f,void 0)}parse(f){return T.JSON.parse(f,void 0)}};function Wc(){}function F_(){}Wc.prototype.h=null;var Th={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hg(){Pi.call(this,"d")}function wh(){Pi.call(this,"c")}tt(Hg,Pi),tt(wh,Pi);var Na={},Ah=null;function zg(){return Ah=Ah||new Ws}function V_(f){Pi.call(this,Na.La,f)}function Dh(f){const S=zg();qs(S,new V_(S))}function up(f,S){Pi.call(this,Na.STAT_EVENT,f),this.stat=S}function Ks(f){const S=zg();qs(S,new up(S,f))}function Gg(f,S){Pi.call(this,Na.Ma,f),this.size=S}function Ch(f,S){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return T.setTimeout(function(){f()},S)}function bh(){this.g=!0}function qc(f,S,O,K){f.info(function(){return"XMLHTTP TEXT ("+S+"): "+function Wv(f,S){if(!f.g)return S;if(!S)return null;try{var O=JSON.parse(S);if(O)for(f=0;f<O.length;f++)if(Array.isArray(O[f])){var K=O[f];if(!(2>K.length)){var Se=K[1];if(Array.isArray(Se)&&!(1>Se.length)){var Ue=Se[0];if("noop"!=Ue&&"stop"!=Ue&&"close"!=Ue)for(var Pt=1;Pt<Se.length;Pt++)Se[Pt]=""}}}return Gc(O)}catch{return S}}(f,O)+(K?" "+K:"")})}Na.La="serverreachability",tt(V_,Pi),Na.STAT_EVENT="statevent",tt(up,Pi),Na.Ma="timingevent",tt(Gg,Pi),bh.prototype.xa=function(){this.g=!1},bh.prototype.info=function(){};var Sh,cp={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Yl(){}function Ku(f,S,O,K){this.j=f,this.i=S,this.l=O,this.R=K||1,this.U=new zc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rh}function Rh(){this.i=null,this.g="",this.h=!1}tt(Yl,Wc),Yl.prototype.g=function(){return new XMLHttpRequest},Yl.prototype.i=function(){return{}},Sh=new Yl;var Ph={},Mh={};function lp(f,S,O){f.L=1,f.v=kh(fa(S)),f.m=O,f.P=!0,j_(f,null)}function j_(f,S){f.F=Date.now(),Kc(f),f.A=fa(f.v);var O=f.A,K=f.R;Array.isArray(K)||(K=[String(K)]),Xv(O.i,"t",K),f.C=0,O=f.j.J,f.h=new Rh,f.g=cm(f.j,O?S:null,!f.m),0<f.O&&(f.M=new Ih(le(f.Y,f,f.g),f.O)),S=f.U,O=f.g,K=f.ca;var Se="readystatechange";Array.isArray(Se)||(Se&&(Eh[0]=Se.toString()),Se=Eh);for(var Ue=0;Ue<Se.length;Ue++){var Pt=Vg(O,Se[Ue],K||S.handleEvent,!1,S.h||S);if(!Pt)break;S.g[Pt.key]=Pt}S=f.H?ae(f.H):{},f.m?(f.u||(f.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,S)):(f.u="GET",f.g.ea(f.A,f.u,null,S)),Dh(),function U_(f,S,O,K,Se,Ue){f.info(function(){if(f.g)if(Ue)for(var Pt="",qr=Ue.split("&"),Ts=0;Ts<qr.length;Ts++){var Ar=qr[Ts].split("=");if(1<Ar.length){var Ls=Ar[0];Ar=Ar[1];var Fs=Ls.split("_");Pt=2<=Fs.length&&"type"==Fs[1]?Pt+(Ls+"=")+Ar+"&":Pt+(Ls+"=redacted&")}}else Pt=null;else Pt=Ue;return"XMLHTTP REQ ("+K+") [attempt "+Se+"]: "+S+"\n"+O+"\n"+Pt})}(f.i,f.u,f.A,f.l,f.R,f.m)}function $_(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function qv(f,S){var O=f.C,K=S.indexOf("\n",O);return-1==K?Mh:(O=Number(S.substring(O,K)),isNaN(O)?Ph:(K+=1)+O>S.length?Mh:(S=S.slice(K,K+O),f.C=K+O,S))}function Kc(f){f.S=Date.now()+f.I,xh(f,f.I)}function xh(f,S){if(null!=f.B)throw Error("WatchDog timer not null");f.B=Ch(le(f.ba,f),S)}function dp(f){f.B&&(T.clearTimeout(f.B),f.B=null)}function Zl(f){0==f.j.G||f.J||om(f.j,f)}function Qc(f){dp(f);var S=f.M;S&&"function"==typeof S.ma&&S.ma(),f.M=null,$g(f.U),f.g&&(S=f.g,f.g=null,S.abort(),S.ma())}function qg(f,S){try{var O=f.j;if(0!=O.G&&(O.g==f||pp(O.h,f)))if(!f.K&&pp(O.h,f)&&3==O.G){try{var K=O.Da.g.parse(S)}catch{K=null}if(Array.isArray(K)&&3==K.length){var Se=K;if(0==Se[0]){e:if(!O.u){if(O.g){if(!(O.g.F+3e3<f.F))break e;Ep(O),jh(O)}sm(O),Ks(18)}}else O.za=Se[1],0<O.za-O.T&&37500>Se[2]&&O.F&&0==O.v&&!O.C&&(O.C=Ch(le(O.Za,O),6e3));if(1>=fp(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else ka(O,11)}else if((f.K||O.g==f)&&Ep(O),!sn(S))for(Se=O.Da.g.parse(S),S=0;S<Se.length;S++){let Ar=Se[S];if(O.T=Ar[0],Ar=Ar[1],2==O.G)if("c"==Ar[0]){O.K=Ar[1],O.ia=Ar[2];const Ls=Ar[3];null!=Ls&&(O.la=Ls,O.j.info("VER="+O.la));const Fs=Ar[4];null!=Fs&&(O.Aa=Fs,O.j.info("SVER="+O.Aa));const rd=Ar[5];null!=rd&&"number"==typeof rd&&0<rd&&(O.L=K=1.5*rd,O.j.info("backChannelRequestTimeoutMs_="+K)),K=O;const ga=f.g;if(ga){const Ap=ga.g?ga.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ap){var Ue=K.h;Ue.g||-1==Ap.indexOf("spdy")&&-1==Ap.indexOf("quic")&&-1==Ap.indexOf("h2")||(Ue.j=Ue.l,Ue.g=new Set,Ue.h&&(Qg(Ue,Ue.h),Ue.h=null))}if(K.D){const dm=ga.g?ga.g.getResponseHeader("X-HTTP-Session-Id"):null;dm&&(K.ya=dm,Zr(K.I,K.D,dm))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-f.F,O.j.info("Handshake RTT: "+O.R+"ms"));var Pt=f;if((K=O).qa=um(K,K.J?K.ia:null,K.W),Pt.K){Xg(K.h,Pt);var qr=Pt,Ts=K.L;Ts&&(qr.I=Ts),qr.B&&(dp(qr),Kc(qr)),K.g=Pt}else nd(K);0<O.i.length&&yp(O)}else"stop"!=Ar[0]&&"close"!=Ar[0]||ka(O,7);else 3==O.G&&("stop"==Ar[0]||"close"==Ar[0]?"stop"==Ar[0]?ka(O,7):Ao(O):"noop"!=Ar[0]&&O.l&&O.l.ta(Ar),O.v=0)}Dh()}catch{}}function hp(f){this.l=f||10,f=T.PerformanceNavigationTiming?0<(f=T.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(T.chrome&&T.chrome.loadTimes&&T.chrome.loadTimes()&&T.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kg(f){return!!f.h||!!f.g&&f.g.size>=f.j}function fp(f){return f.h?1:f.g?f.g.size:0}function pp(f,S){return f.h?f.h==S:!!f.g&&f.g.has(S)}function Qg(f,S){f.g?f.g.add(S):f.h=S}function Xg(f,S){f.h&&f.h==S?f.h=null:f.g&&f.g.has(S)&&f.g.delete(S)}function Yg(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let S=f.i;for(const O of f.g.values())S=S.concat(O.D);return S}return mt(f.i)}function W_(f,S){if(f.forEach&&"function"==typeof f.forEach)f.forEach(S,void 0);else if(b(f)||"string"==typeof f)Array.prototype.forEach.call(f,S,void 0);else for(var O=function G_(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(b(f)||"string"==typeof f){var S=[];f=f.length;for(var O=0;O<f;O++)S.push(O);return S}S=[],O=0;for(const K in f)S[O++]=K;return S}}}(f),K=function z_(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(b(f)){for(var S=[],O=f.length,K=0;K<O;K++)S.push(f[K]);return S}for(K in S=[],O=0,f)S[O++]=f[K];return S}(f),Se=K.length,Ue=0;Ue<Se;Ue++)S.call(void 0,K[Ue],O&&O[Ue],f)}Ku.prototype.ca=function(f){f=f.target;const S=this.M;S&&3==fs(f)?S.j():this.Y(f)},Ku.prototype.Y=function(f){try{if(f==this.g)e:{const Fs=fs(this.g);var S=this.g.Ba();if(this.g.Z(),!(3>Fs)&&(3!=Fs||this.g&&(this.h.h||this.g.oa()||ey(this.g)))){this.J||4!=Fs||7==S||Dh(),dp(this);var O=this.g.Z();this.X=O;t:if($_(this)){var K=ey(this.g);f="";var Se=K.length,Ue=4==fs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qc(this),Zl(this);var Pt="";break t}this.h.i=new T.TextDecoder}for(S=0;S<Se;S++)this.h.h=!0,f+=this.h.i.decode(K[S],{stream:!(Ue&&S==Se-1)});K.length=0,this.h.g+=f,this.C=0,Pt=this.h.g}else Pt=this.g.oa();if(this.o=200==O,function B_(f,S,O,K,Se,Ue,Pt){f.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+Se+"]: "+S+"\n"+O+"\n"+Ue+" "+Pt})}(this.i,this.u,this.A,this.l,this.R,Fs,O),this.o){if(this.T&&!this.K){t:{if(this.g){var qr,Ts=this.g;if((qr=Ts.g?Ts.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sn(qr)){var Ar=qr;break t}}Ar=null}if(!(O=Ar)){this.o=!1,this.s=3,Ks(12),Qc(this),Zl(this);break e}qc(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qg(this,O)}if(this.P){let ga;for(O=!0;!this.J&&this.C<Pt.length;){if(ga=qv(this,Pt),ga==Mh){4==Fs&&(this.s=4,Ks(14),O=!1),qc(this.i,this.l,null,"[Incomplete Response]");break}if(ga==Ph){this.s=4,Ks(15),qc(this.i,this.l,Pt,"[Invalid Chunk]"),O=!1;break}qc(this.i,this.l,ga,null),qg(this,ga)}if($_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Fs||0!=Pt.length||this.h.h||(this.s=1,Ks(16),O=!1),this.o=this.o&&O,O){if(0<Pt.length&&!this.W){this.W=!0;var Ls=this.j;Ls.g==this&&Ls.ba&&!Ls.M&&(Ls.j.info("Great, no buffering proxy detected. Bytes received: "+Pt.length),Ip(Ls),Ls.M=!0,Ks(11))}}else qc(this.i,this.l,Pt,"[Invalid Chunked Response]"),Qc(this),Zl(this)}else qc(this.i,this.l,Pt,null),qg(this,Pt);4==Fs&&Qc(this),this.o&&!this.J&&(4==Fs?om(this.j,this):(this.o=!1,Kc(this)))}else(function ty(f){const S={};f=(f.g&&2<=fs(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let K=0;K<f.length;K++){if(sn(f[K]))continue;var O=be(f[K]);const Se=O[0];if("string"!=typeof(O=O[1]))continue;O=O.trim();const Ue=S[Se]||[];S[Se]=Ue,Ue.push(O)}!function Te(f,S){for(const O in f)S.call(void 0,f[O],O,f)}(S,function(K){return K.join(", ")})})(this.g),400==O&&0<Pt.indexOf("Unknown SID")?(this.s=3,Ks(12)):(this.s=0,Ks(13)),Qc(this),Zl(this)}}}catch{}},Ku.prototype.cancel=function(){this.J=!0,Qc(this)},Ku.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function Gv(f,S){f.info(function(){return"TIMEOUT: "+S})}(this.i,this.A),2!=this.L&&(Dh(),Ks(17)),Qc(this),this.s=2,Zl(this)):xh(this,this.S-f)},hp.prototype.cancel=function(){if(this.i=Yg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var Zg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qu(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Qu){this.h=f.h,Nh(this,f.j),this.o=f.o,this.g=f.g,Oh(this,f.s),this.l=f.l;var S=f.i,O=new pa;O.i=S.i,S.g&&(O.g=new Map(S.g),O.h=S.h),Jg(this,O),this.m=f.m}else f&&(S=String(f).match(Zg))?(this.h=!1,Nh(this,S[1]||"",!0),this.o=Jl(S[2]||""),this.g=Jl(S[3]||"",!0),Oh(this,S[4]),this.l=Jl(S[5]||"",!0),Jg(this,S[6]||"",!0),this.m=Jl(S[7]||"")):(this.h=!1,this.i=new pa(null,this.h))}function fa(f){return new Qu(f)}function Nh(f,S,O){f.j=O?Jl(S,!0):S,f.j&&(f.j=f.j.replace(/:$/,""))}function Oh(f,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);f.s=S}else f.s=null}function Jg(f,S,O){S instanceof pa?(f.i=S,function Yv(f,S){S&&!f.j&&(Oa(f),f.i=null,f.g.forEach(function(O,K){var Se=K.toLowerCase();K!=Se&&(Q_(this,K),Xv(this,Se,O))},f)),f.j=S}(f.i,f.h)):(O||(S=ed(S,Qv)),f.i=new pa(S,f.h))}function Zr(f,S,O){f.i.set(S,O)}function kh(f){return Zr(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Jl(f,S){return f?S?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ed(f,S,O){return"string"==typeof f?(f=encodeURI(f).replace(S,K_),O&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function K_(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}Qu.prototype.toString=function(){var f=[],S=this.j;S&&f.push(ed(S,Lh,!0),":");var O=this.g;return(O||"file"==S)&&(f.push("//"),(S=this.o)&&f.push(ed(S,Lh,!0),"@"),f.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(O=this.s)&&f.push(":",String(O))),(O=this.l)&&(this.g&&"/"!=O.charAt(0)&&f.push("/"),f.push(ed(O,"/"==O.charAt(0)?Kv:Xu,!0))),(O=this.i.toString())&&f.push("?",O),(O=this.m)&&f.push("#",ed(O,em)),f.join("")};var f,Lh=/[#\/\?@]/g,Xu=/[#\?:]/g,Kv=/[#\?]/g,Qv=/[#\?@]/g,em=/#/g;function pa(f,S){this.h=this.g=null,this.i=f||null,this.j=!!S}function Oa(f){f.g||(f.g=new Map,f.h=0,f.i&&function q_(f,S){if(f){f=f.split("&");for(var O=0;O<f.length;O++){var K=f[O].indexOf("="),Se=null;if(0<=K){var Ue=f[O].substring(0,K);Se=f[O].substring(K+1)}else Ue=f[O];S(Ue,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}(f.i,function(S,O){f.add(decodeURIComponent(S.replace(/\+/g," ")),O)}))}function Q_(f,S){Oa(f),S=Fh(f,S),f.g.has(S)&&(f.i=null,f.h-=f.g.get(S).length,f.g.delete(S))}function gp(f,S){return Oa(f),S=Fh(f,S),f.g.has(S)}function Xv(f,S,O){Q_(f,S),0<O.length&&(f.i=null,f.g.set(Fh(f,S),mt(O)),f.h+=O.length)}function Fh(f,S){return S=String(S),f.j&&(S=S.toLowerCase()),S}function Yu(f,S,O,K,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),K(O)}catch{}}function Qi(){this.g=new zv}function Y_(f,S,O){const K=O||"";try{W_(f,function(Se,Ue){let Pt=Se;N(Se)&&(Pt=Gc(Se)),S.push(K+Ue+"="+encodeURIComponent(Pt))})}catch(Se){throw S.push(K+"type="+encodeURIComponent("_badmap")),Se}}function Vh(f){this.l=f.Ub||null,this.j=f.eb||!1}function mp(f,S){Ws.call(this),this.D=f,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function tm(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function Uh(f){f.readyState=4,f.l=null,f.j=null,f.v=null,td(f)}function td(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function nm(f){let S="";return qn(f,function(O,K){S+=K,S+=":",S+=O,S+="\r\n"}),S}function Zu(f,S,O){e:{for(K in O){var K=!1;break e}K=!0}K||(O=nm(O),"string"==typeof f?null!=O&&encodeURIComponent(String(O)):Zr(f,S,O))}function Ti(f){Ws.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=pa.prototype).add=function(f,S){Oa(this),this.i=null,f=Fh(this,f);var O=this.g.get(f);return O||this.g.set(f,O=[]),O.push(S),this.h+=1,this},a.forEach=function(f,S){Oa(this),this.g.forEach(function(O,K){O.forEach(function(Se){f.call(S,Se,K,this)},this)},this)},a.na=function(){Oa(this);const f=Array.from(this.g.values()),S=Array.from(this.g.keys()),O=[];for(let K=0;K<S.length;K++){const Se=f[K];for(let Ue=0;Ue<Se.length;Ue++)O.push(S[K])}return O},a.V=function(f){Oa(this);let S=[];if("string"==typeof f)gp(this,f)&&(S=S.concat(this.g.get(Fh(this,f))));else{f=Array.from(this.g.values());for(let O=0;O<f.length;O++)S=S.concat(f[O])}return S},a.set=function(f,S){return Oa(this),this.i=null,gp(this,f=Fh(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[S]),this.h+=1,this},a.get=function(f,S){return f&&0<(f=this.V(f)).length?String(f[0]):S},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],S=Array.from(this.g.keys());for(var O=0;O<S.length;O++){var K=S[O];const Ue=encodeURIComponent(String(K)),Pt=this.V(K);for(K=0;K<Pt.length;K++){var Se=Ue;""!==Pt[K]&&(Se+="="+encodeURIComponent(String(Pt[K]))),f.push(Se)}}return this.i=f.join("&")},tt(Vh,Wc),Vh.prototype.g=function(){return new mp(this.l,this.j)},Vh.prototype.i=(f={},function(){return f}),tt(mp,Ws),(a=mp.prototype).open=function(f,S){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=S,this.readyState=1,td(this)},a.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(S.body=f),(this.D||T).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Uh(this)),this.readyState=0},a.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,td(this)),this.g&&(this.readyState=3,td(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof T.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tm(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var S=f.value?f.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!f.done}))&&(this.response=this.responseText+=S)}f.done?Uh(this):td(this),3==this.readyState&&tm(this)}},a.Ra=function(f){this.g&&(this.response=this.responseText=f,Uh(this))},a.Qa=function(f){this.g&&(this.response=f,Uh(this))},a.ga=function(){this.g&&Uh(this)},a.setRequestHeader=function(f,S){this.u.append(f,S)},a.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],S=this.h.entries();for(var O=S.next();!O.done;)f.push((O=O.value)[0]+": "+O[1]),O=S.next();return f.join("\r\n")},Object.defineProperty(mp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),tt(Ti,Ws);var Jv=/^https?$/i,Z_=["POST","PUT"];function J_(f,S){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=S,f.m=5,rm(f),Bh(f)}function rm(f){f.A||(f.A=!0,qs(f,"complete"),qs(f,"error"))}function eI(f){if(f.h&&typeof g<"u"&&(!f.v[1]||4!=fs(f)||2!=f.Z()))if(f.u&&4==fs(f))O_(f.Ea,0,f);else if(qs(f,"readystatechange"),4==fs(f)){f.h=!1;try{const Pt=f.Z();e:switch(Pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var O;if(!(O=S)){var K;if(K=0===Pt){var Se=String(f.D).match(Zg)[1]||null;!Se&&T.self&&T.self.location&&(Se=T.self.location.protocol.slice(0,-1)),K=!Jv.test(Se?Se.toLowerCase():"")}O=K}if(O)qs(f,"complete"),qs(f,"success");else{f.m=6;try{var Ue=2<fs(f)?f.g.statusText:""}catch{Ue=""}f.l=Ue+" ["+f.Z()+"]",rm(f)}}finally{Bh(f)}}}function Bh(f,S){if(f.g){_p(f);const O=f.g,K=f.v[0]?()=>{}:null;f.g=null,f.v=null,S||qs(f,"ready");try{O.onreadystatechange=K}catch{}}}function _p(f){f.I&&(T.clearTimeout(f.I),f.I=null)}function fs(f){return f.g?f.g.readyState:0}function ey(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function lo(f,S,O){return O&&O.internalChannelParams&&O.internalChannelParams[f]||S}function $o(f){this.Aa=0,this.i=[],this.j=new bh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lo("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lo("baseRetryDelayMs",5e3,f),this.cb=lo("retryDelaySeedMs",1e4,f),this.Wa=lo("forwardChannelMaxRetries",2,f),this.wa=lo("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new hp(f&&f.concurrentRequestLimit),this.Da=new Qi,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Ao(f){if(im(f),3==f.G){var S=f.U++,O=fa(f.I);if(Zr(O,"SID",f.K),Zr(O,"RID",S),Zr(O,"TYPE","terminate"),$h(f,O),(S=new Ku(f,f.j,S)).L=2,S.v=kh(fa(O)),O=!1,T.navigator&&T.navigator.sendBeacon)try{O=T.navigator.sendBeacon(S.v.toString(),"")}catch{}!O&&T.Image&&((new Image).src=S.v,O=!0),O||(S.g=cm(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Kc(S)}iy(f)}function jh(f){f.g&&(Ip(f),f.g.cancel(),f.g=null)}function im(f){jh(f),f.u&&(T.clearTimeout(f.u),f.u=null),Ep(f),f.h.cancel(),f.s&&("number"==typeof f.s&&T.clearTimeout(f.s),f.s=null)}function yp(f){if(!Kg(f.h)&&!f.s){f.s=!0;var S=f.Ga;ha||ep(),qu||(ha(),qu=!0),co.add(S,f),f.B=0}}function ny(f,S){var O;O=S?S.l:f.U++;const K=fa(f.I);Zr(K,"SID",f.K),Zr(K,"RID",O),Zr(K,"AID",f.T),$h(f,K),f.m&&f.o&&Zu(K,f.m,f.o),O=new Ku(f,f.j,O,f.B+1),null===f.m&&(O.H=f.o),S&&(f.i=S.D.concat(f.i)),S=vp(f,O,1e3),O.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Qg(f.h,O),lp(O,K,S)}function $h(f,S){f.H&&qn(f.H,function(O,K){Zr(S,K,O)}),f.l&&W_({},function(O,K){Zr(S,K,O)})}function vp(f,S,O){O=Math.min(f.i.length,O);var K=f.l?le(f.l.Na,f.l,f):null;e:{var Se=f.i;let Ue=-1;for(;;){const Pt=["count="+O];-1==Ue?0<O?(Ue=Se[0].g,Pt.push("ofs="+Ue)):Ue=0:Pt.push("ofs="+Ue);let qr=!0;for(let Ts=0;Ts<O;Ts++){let Ar=Se[Ts].g;const Ls=Se[Ts].map;if(Ar-=Ue,0>Ar)Ue=Math.max(0,Se[Ts].g-100),qr=!1;else try{Y_(Ls,Pt,"req"+Ar+"_")}catch{K&&K(Ls)}}if(qr){K=Pt.join("&");break e}}}return f=f.i.splice(0,O),S.D=f,K}function nd(f){if(!f.g&&!f.u){f.Y=1;var S=f.Fa;ha||ep(),qu||(ha(),qu=!0),co.add(S,f),f.v=0}}function sm(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=Ch(le(f.Fa,f),am(f,f.v)),f.v++,0))}function Ip(f){null!=f.A&&(T.clearTimeout(f.A),f.A=null)}function ry(f){f.g=new Ku(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var S=fa(f.qa);Zr(S,"RID","rpc"),Zr(S,"SID",f.K),Zr(S,"AID",f.T),Zr(S,"CI",f.F?"0":"1"),!f.F&&f.ja&&Zr(S,"TO",f.ja),Zr(S,"TYPE","xmlhttp"),$h(f,S),f.m&&f.o&&Zu(S,f.m,f.o),f.L&&(f.g.I=f.L);var O=f.g;f=f.ia,O.L=1,O.v=kh(fa(S)),O.m=null,O.P=!0,j_(O,f)}function Ep(f){null!=f.C&&(T.clearTimeout(f.C),f.C=null)}function om(f,S){var O=null;if(f.g==S){Ep(f),Ip(f),f.g=null;var K=2}else{if(!pp(f.h,S))return;O=S.D,Xg(f.h,S),K=1}if(0!=f.G)if(S.o)if(1==K){O=S.m?S.m.length:0,S=Date.now()-S.F;var Se=f.B;qs(K=zg(),new Gg(K,O)),yp(f)}else nd(f);else if(3==(Se=S.s)||0==Se&&0<S.X||!(1==K&&function tI(f,S){return!(fp(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=S.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=Ch(le(f.Ga,f,S),am(f,f.B)),f.B++,0)))}(f,S)||2==K&&sm(f)))switch(O&&0<O.length&&(S=f.h,S.i=S.i.concat(O)),Se){case 1:ka(f,5);break;case 4:ka(f,10);break;case 3:ka(f,6);break;default:ka(f,2)}}function am(f,S){let O=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(O*=2),O*S}function ka(f,S){if(f.j.info("Error code "+S),2==S){var O=le(f.fb,f),K=f.Xa;const Se=!K;K=new Qu(K||"//www.google.com/images/cleardot.gif"),T.location&&"http"==T.location.protocol||Nh(K,"https"),kh(K),Se?function Zv(f,S){const O=new bh;if(T.Image){const K=new Image;K.onload=Ne(Yu,O,"TestLoadImage: loaded",!0,S,K),K.onerror=Ne(Yu,O,"TestLoadImage: error",!1,S,K),K.onabort=Ne(Yu,O,"TestLoadImage: abort",!1,S,K),K.ontimeout=Ne(Yu,O,"TestLoadImage: timeout",!1,S,K),T.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=f}else S(!1)}(K.toString(),O):function X_(f,S){new bh;const K=new AbortController,Se=setTimeout(()=>{K.abort(),Yu(0,0,!1,S)},1e4);fetch(f,{signal:K.signal}).then(Ue=>{clearTimeout(Se),Yu(0,0,!!Ue.ok,S)}).catch(()=>{clearTimeout(Se),Yu(0,0,!1,S)})}(K.toString(),O)}else Ks(2);f.G=0,f.l&&f.l.sa(S),iy(f),im(f)}function iy(f){if(f.G=0,f.ka=[],f.l){const S=Yg(f.h);(0!=S.length||0!=f.i.length)&&(lt(f.ka,S),lt(f.ka,f.i),f.h.i.length=0,mt(f.i),f.i.length=0),f.l.ra()}}function um(f,S,O){var K=O instanceof Qu?fa(O):new Qu(O);if(""!=K.g)S&&(K.g=S+"."+K.g),Oh(K,K.s);else{var Se=T.location;K=Se.protocol,S=S?S+"."+Se.hostname:Se.hostname,Se=+Se.port;var Ue=new Qu(null);K&&Nh(Ue,K),S&&(Ue.g=S),Se&&Oh(Ue,Se),O&&(Ue.l=O),K=Ue}return S=f.ya,(O=f.D)&&S&&Zr(K,O,S),Zr(K,"VER",f.la),$h(f,K),K}function cm(f,S,O){if(S&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(S=new Ti(f.Ca&&!f.pa?new Vh({eb:O}):f.pa)).Ha(f.J),S}function lm(){}function Tp(){}function Do(f,S){Ws.call(this),this.g=new $o(S),this.l=f,this.h=S&&S.messageUrlParams||null,f=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(f?f["X-WebChannel-Content-Type"]=S.messageContentType:f={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(f?f["X-WebChannel-Client-Profile"]=S.va:f={"X-WebChannel-Client-Profile":S.va}),this.g.S=f,(f=S&&S.Sb)&&!sn(f)&&(this.g.m=f),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!sn(S)&&(this.g.D=S,null!==(f=this.h)&&S in f&&S in(f=this.h)&&delete f[S]),this.j=new Ju(this)}function wp(f){Hg.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var S=f.__sm__;if(S){e:{for(const O in S){f=O;break e}f=void 0}(this.i=f)&&(f=this.i,S=null!==S&&f in S?S[f]:void 0),this.data=S}else this.data=f}function Hh(){wh.call(this),this.status=1}function Ju(f){this.g=f}(a=Ti.prototype).Ha=function(f){this.J=f},a.ea=function(f,S,O,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);S=S?S.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sh.g(),this.v=function L_(f){return f.h||(f.h=f.i())}(this.o?this.o:Sh),this.g.onreadystatechange=le(this.Ea,this);try{this.B=!0,this.g.open(S,String(f),!0),this.B=!1}catch(Ue){return void J_(this,Ue)}if(f=O||"",O=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var Se in K)O.set(Se,K[Se]);else{if("function"!=typeof K.keys||"function"!=typeof K.get)throw Error("Unknown input type for opt_headers: "+String(K));for(const Ue of K.keys())O.set(Ue,K.get(Ue))}K=Array.from(O.keys()).find(Ue=>"content-type"==Ue.toLowerCase()),Se=T.FormData&&f instanceof T.FormData,!(0<=Array.prototype.indexOf.call(Z_,S,void 0))||K||Se||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ue,Pt]of O)this.g.setRequestHeader(Ue,Pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_p(this),this.u=!0,this.g.send(f),this.u=!1}catch(Ue){J_(this,Ue)}},a.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,qs(this,"complete"),qs(this,"abort"),Bh(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bh(this,!0)),Ti.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?eI(this):this.bb())},a.bb=function(){eI(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<fs(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(f){if(this.g){var S=this.g.responseText;return f&&0==S.indexOf(f)&&(S=S.substring(f.length)),k_(S)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=$o.prototype).la=8,a.G=1,a.connect=function(f,S,O,K){Ks(0),this.W=f,this.H=S||{},O&&void 0!==K&&(this.H.OSID=O,this.H.OAID=K),this.F=this.X,this.I=um(this,null,this.W),yp(this)},a.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Se=new Ku(this,this.j,f);let Ue=this.o;if(this.S&&(Ue?(Ue=ae(Ue),De(Ue,this.S)):Ue=this.S),null!==this.m||this.O||(Se.H=Ue,Ue=null),this.P)e:{for(var S=0,O=0;O<this.i.length;O++){var K=this.i[O];if(void 0===(K="__data__"in K.map&&"string"==typeof(K=K.map.__data__)?K.length:void 0))break;if(4096<(S+=K)){S=O;break e}if(4096===S||O===this.i.length-1){S=O+1;break e}}S=1e3}else S=1e3;S=vp(this,Se,S),Zr(O=fa(this.I),"RID",f),Zr(O,"CVER",22),this.D&&Zr(O,"X-HTTP-Session-Id",this.D),$h(this,O),Ue&&(this.O?S="headers="+encodeURIComponent(String(nm(Ue)))+"&"+S:this.m&&Zu(O,this.m,Ue)),Qg(this.h,Se),this.Ua&&Zr(O,"TYPE","init"),this.P?(Zr(O,"$req",S),Zr(O,"SID","null"),Se.T=!0,lp(Se,O,null)):lp(Se,O,S),this.G=2}}else 3==this.G&&(f?ny(this,f):0==this.i.length||Kg(this.h)||ny(this))},a.Fa=function(){if(this.u=null,ry(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ch(le(this.ab,this),f)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ks(10),jh(this),ry(this))},a.Za=function(){null!=this.C&&(this.C=null,jh(this),sm(this),Ks(19))},a.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ks(2)):(this.j.info("Failed to ping google.com"),Ks(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=lm.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},Tp.prototype.g=function(f,S){return new Do(f,S)},tt(Do,Ws),Do.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Do.prototype.close=function(){Ao(this.g)},Do.prototype.o=function(f){var S=this.g;if("string"==typeof f){var O={};O.__data__=f,f=O}else this.u&&((O={}).__data__=Gc(f),f=O);S.i.push(new class{constructor(f,S){this.g=f,this.map=S}}(S.Ya++,f)),3==S.G&&yp(S)},Do.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,Do.aa.N.call(this)},tt(wp,Hg),tt(Hh,wh),tt(Ju,lm),Ju.prototype.ua=function(){qs(this.g,"a")},Ju.prototype.ta=function(f){qs(this.g,new wp(f))},Ju.prototype.sa=function(f){qs(this.g,new Hh)},Ju.prototype.ra=function(){qs(this.g,"b")},Tp.prototype.createWebChannel=Tp.prototype.g,Do.prototype.send=Do.prototype.o,Do.prototype.open=Do.prototype.m,Do.prototype.close=Do.prototype.close,Mt=Dt.createWebChannelTransport=function(){return new Tp},At=Dt.getStatEventTarget=function(){return zg()},Qe=Dt.Event=Na,st=Dt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cp.NO_ERROR=0,cp.TIMEOUT=8,cp.HTTP_ERROR=6,ze=Dt.ErrorCode=cp,Wg.COMPLETE="complete",Yn=Dt.EventType=Wg,F_.EventType=Th,Th.OPEN="a",Th.CLOSE="b",Th.ERROR="c",Th.MESSAGE="d",Ws.prototype.listen=Ws.prototype.K,An=Dt.WebChannel=F_,Dt.FetchXmlHttpFactory=Vh,Ti.prototype.listenOnce=Ti.prototype.L,Ti.prototype.getLastError=Ti.prototype.Ka,Ti.prototype.getLastErrorCode=Ti.prototype.Ba,Ti.prototype.getStatus=Ti.prototype.Z,Ti.prototype.getResponseJson=Ti.prototype.Oa,Ti.prototype.getResponseText=Ti.prototype.oa,Ti.prototype.send=Ti.prototype.ea,Ti.prototype.setWithCredentials=Ti.prototype.Ha,Ft=Dt.XhrIo=Ti}).apply(typeof ut<"u"?ut:typeof self<"u"?self:typeof window<"u"?window:{});const _t="@firebase/firestore";class Xe{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let Vt="10.14.0";const Dn=new We.Vy("@firebase/firestore");function kr(){return Dn.logLevel}function ye(a,...e){if(Dn.logLevel<=We.$b.DEBUG){const r=e.map(Yt);Dn.debug(`Firestore (${Vt}): ${a}`,...r)}}function Nt(a,...e){if(Dn.logLevel<=We.$b.ERROR){const r=e.map(Yt);Dn.error(`Firestore (${Vt}): ${a}`,...r)}}function ft(a,...e){if(Dn.logLevel<=We.$b.WARN){const r=e.map(Yt);Dn.warn(`Firestore (${Vt}): ${a}`,...r)}}function Yt(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function yt(a="Unexpected state"){const e=`FIRESTORE (${Vt}) INTERNAL ASSERTION FAILED: `+a;throw Nt(e),new Error(e)}function wt(a,e){a||yt()}function se(a,e){return a}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends oe.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ie{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Pe{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class et{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Xe.UNAUTHENTICATED))}shutdown(){}}class ct{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class gn{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;wt(void 0===this.o);let u=this.i;const h=N=>this.i!==u?(u=this.i,r(N)):Promise.resolve();let g=new Ie;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Ie,e.enqueueRetryable(()=>h(this.currentUser))};const T=()=>{const N=g;e.enqueueRetryable((0,ie.A)(function*(){yield N.promise,yield h(s.currentUser)}))},b=N=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=N,this.o&&(this.auth.addAuthTokenListener(this.o),T())};this.t.onInit(N=>b(N)),setTimeout(()=>{if(!this.auth){const N=this.t.getImmediate({optional:!0});N?b(N):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Ie)}},0),T()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(wt("string"==typeof s.accessToken),new Pe(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(null===e||"string"==typeof e),new Xe(e)}}class Ht{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Mn{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new Ht(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fi{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){wt(void 0===this.o);const s=h=>{null!=h.error&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.R;return this.R=h.token,ye("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const u=h=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(wt("string"==typeof r.token),this.R=r.token,new fn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Dr(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class Zn{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Dr(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[h]%62))}return s}}function Ze(a,e){return a<e?-1:a>e?1:0}function Lr(a,e,r){return a.length===e.length&&a.every((s,u)=>r(s,e[u]))}class Tn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Q(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Q(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Q(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tn.fromMillis(Date.now())}static fromDate(e){return Tn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Tn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pt(e)}static min(){return new pt(new Tn(0,0))}static max(){return new pt(new Tn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gr{constructor(e,r,s){void 0===r?r=0:r>e.length&&yt(),void 0===s?s=e.length-r:s>e.length-r&&yt(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===gr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let u=0;u<s;u++){const h=e.get(u),g=r.get(u);if(h<g)return-1;if(h>g)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Ct extends gr{construct(e,r,s){return new Ct(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Q(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new Ct(r)}static emptyPath(){return new Ct([])}}const un=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends gr{construct(e,r,s){return new En(e,r,s)}static isValidIdentifier(e){return un.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new En(["__name__"])}static fromServerFormat(e){const r=[];let s="",u=0;const h=()=>{if(0===s.length)throw new Q(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let g=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new Q(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[u+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Q(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=b,u+=2}else"`"===T?(g=!g,u++):"."!==T||g?(s+=T,u++):(h(),u++)}if(h(),g)throw new Q(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(r)}static emptyPath(){return new En([])}}class ht{constructor(e){this.path=e}static fromPath(e){return new ht(Ct.fromString(e))}static fromName(e){return new ht(Ct.fromString(e).popFirst(5))}static empty(){return new ht(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ct.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Ct.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new Ct(e.slice()))}}class $n{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new $n(pt.min(),ht.empty(),-1)}static max(){return new $n(pt.max(),ht.empty(),-1)}}function Cr(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=ht.comparator(a.documentKey,e.documentKey),0!==r?r:Ze(a.largestBatchId,e.largestBatchId))}const Kn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Qr(a){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,ie.A)(function*(a){if(a.code!==W.FAILED_PRECONDITION||a.message!==Kn)throw a;ye("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new he((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(r,h).next(s,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof he?r:he.resolve(r)}catch(r){return he.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):he.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):he.reject(r)}static resolve(e){return new he((r,s)=>{r(e)})}static reject(e){return new he((r,s)=>{s(e)})}static waitFor(e){return new he((r,s)=>{let u=0,h=0,g=!1;e.forEach(T=>{++u,T.next(()=>{++h,g&&h===u&&r()},b=>s(b))}),g=!0,h===u&&r()})}static or(e){let r=he.resolve(!1);for(const s of e)r=r.next(u=>u?he.resolve(u):s());return r}static forEach(e,r){const s=[];return e.forEach((u,h)=>{s.push(r.call(this,u,h))}),this.waitFor(s)}static mapArray(e,r){return new he((s,u)=>{const h=e.length,g=new Array(h);let T=0;for(let b=0;b<h;b++){const N=b;r(e[N]).next(G=>{g[N]=G,++T,T===h&&s(g)},G=>u(G))}})}static doWhile(e,r){return new he((s,u)=>{const h=()=>{!0===e()?r().next(()=>{h()},u):s()};h()})}}function j(a){return"IndexedDbTransactionError"===a.name}let bt=(()=>{class a{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function en(a){return null==a}function tn(a){return 0===a&&1/a==-1/0}function gs(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function Ni(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function po(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class Vn{constructor(e,r){this.comparator=e,this.root=r||cr.EMPTY}insert(e,r){return new Vn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,cr.BLACK,null,null))}remove(e){return new Vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nr(this.root,e,this.comparator,!0)}}class Nr{constructor(e,r,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=r?s(e.key,r):1,r&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cr{constructor(e,r,s,u,h){this.key=e,this.value=r,this.color=s??cr.RED,this.left=u??cr.EMPTY,this.right=h??cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,u,h){return new cr(e??this.key,r??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,r,s),null):0===h?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return cr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return cr.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}cr.EMPTY=null,cr.RED=!0,cr.BLACK=!1,cr.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,r,s,u,h){return this}insert(e,r,s){return new cr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pn{constructor(e){this.comparator=e,this.data=new Vn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new qo(this.data.getIterator())}getIteratorFrom(e){return new qo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=s.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new pn(this.comparator);return r.data=e,r}}class qo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ai{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new ai([])}unionWith(e){let r=new pn(En.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new ai(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Lr(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Ko extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Ko("Invalid base64 string: "+h):h}}(e);return new vr(r)}static fromUint8Array(e){const r=function(u){let h="";for(let g=0;g<u.length;++g)h+=String.fromCharCode(u[g]);return h}(e);return new vr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const ma=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(a){if(wt(!!a),"string"==typeof a){let e=0;const r=ma.exec(a);if(wt(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dr(a.seconds),nanos:dr(a.nanos)}}function dr(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Ai(a){return"string"==typeof a?vr.fromBase64String(a):vr.fromUint8Array(a)}function Vs(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function As(a){const e=a.mapValue.fields.__previous_value__;return Vs(e)?As(e):e}function Us(a){const e=es(a.mapValue.fields.__local_write_time__.timestampValue);return new Tn(e.seconds,e.nanos)}class Xs{constructor(e,r,s,u,h,g,T,b,N){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=T,this.longPollingOptions=b,this.useFetchStreams=N}}class Ds{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Ds("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ds&&e.projectId===this.projectId&&e.database===this.database}}const Oi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gi(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Vs(a)?4:ns(a)?9007199254740991:sr(a)?10:11:yt()}function mi(a,e){if(a===e)return!0;const r=gi(a);if(r!==gi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Us(a).isEqual(Us(e));case 3:return function(u,h){if("string"==typeof u.timestampValue&&"string"==typeof h.timestampValue&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const g=es(u.timestampValue),T=es(h.timestampValue);return g.seconds===T.seconds&&g.nanos===T.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return h=e,Ai(a.bytesValue).isEqual(Ai(h.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,h){return dr(u.geoPointValue.latitude)===dr(h.geoPointValue.latitude)&&dr(u.geoPointValue.longitude)===dr(h.geoPointValue.longitude)}(a,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return dr(u.integerValue)===dr(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const g=dr(u.doubleValue),T=dr(h.doubleValue);return g===T?tn(g)===tn(T):isNaN(g)&&isNaN(T)}return!1}(a,e);case 9:return Lr(a.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(u,h){const g=u.mapValue.fields||{},T=h.mapValue.fields||{};if(gs(g)!==gs(T))return!1;for(const b in g)if(g.hasOwnProperty(b)&&(void 0===T[b]||!mi(g[b],T[b])))return!1;return!0}(a,e);default:return yt()}var h}function yn(a,e){return void 0!==(a.values||[]).find(r=>mi(r,e))}function Nn(a,e){if(a===e)return 0;const r=gi(a),s=gi(e);if(r!==s)return Ze(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ze(a.booleanValue,e.booleanValue);case 2:return function(h,g){const T=dr(h.integerValue||h.doubleValue),b=dr(g.integerValue||g.doubleValue);return T<b?-1:T>b?1:T===b?0:isNaN(T)?isNaN(b)?0:-1:1}(a,e);case 3:return Ir(a.timestampValue,e.timestampValue);case 4:return Ir(Us(a),Us(e));case 5:return Ze(a.stringValue,e.stringValue);case 6:return function(h,g){const T=Ai(h),b=Ai(g);return T.compareTo(b)}(a.bytesValue,e.bytesValue);case 7:return function(h,g){const T=h.split("/"),b=g.split("/");for(let N=0;N<T.length&&N<b.length;N++){const G=Ze(T[N],b[N]);if(0!==G)return G}return Ze(T.length,b.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,g){const T=Ze(dr(h.latitude),dr(g.latitude));return 0!==T?T:Ze(dr(h.longitude),dr(g.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return ms(a.arrayValue,e.arrayValue);case 10:return function(h,g){var T,b,N,G;const Ne=null===(T=(h.fields||{}).value)||void 0===T?void 0:T.arrayValue,tt=null===(b=(g.fields||{}).value)||void 0===b?void 0:b.arrayValue,mt=Ze((null===(N=Ne?.values)||void 0===N?void 0:N.length)||0,(null===(G=tt?.values)||void 0===G?void 0:G.length)||0);return 0!==mt?mt:ms(Ne,tt)}(a.mapValue,e.mapValue);case 11:return function(h,g){if(h===Oi.mapValue&&g===Oi.mapValue)return 0;if(h===Oi.mapValue)return 1;if(g===Oi.mapValue)return-1;const T=h.fields||{},b=Object.keys(T),N=g.fields||{},G=Object.keys(N);b.sort(),G.sort();for(let Y=0;Y<b.length&&Y<G.length;++Y){const le=Ze(b[Y],G[Y]);if(0!==le)return le;const Ne=Nn(T[b[Y]],N[G[Y]]);if(0!==Ne)return Ne}return Ze(b.length,G.length)}(a.mapValue,e.mapValue);default:throw yt()}}function Ir(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return Ze(a,e);const r=es(a),s=es(e),u=Ze(r.seconds,s.seconds);return 0!==u?u:Ze(r.nanos,s.nanos)}function ms(a,e){const r=a.values||[],s=e.values||[];for(let u=0;u<r.length&&u<s.length;++u){const h=Nn(r[u],s[u]);if(h)return h}return Ze(r.length,s.length)}function Hr(a){return _a(a)}function _a(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const s=es(r);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?Ai(a.bytesValue).toBase64():"referenceValue"in a?ht.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let s="[",u=!0;for(const h of r.values||[])u?u=!1:s+=",",s+=_a(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const g of s)h?h=!1:u+=",",u+=`${g}:${_a(r.fields[g])}`;return u+"}"}(a.mapValue):yt()}function Bi(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function go(a){return!!a&&"integerValue"in a}function Bs(a){return!!a&&"arrayValue"in a}function lr(a){return!!a&&"nullValue"in a}function Rt(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function nn(a){return!!a&&"mapValue"in a}function sr(a){var e,r;return"__vector__"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ei(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Ni(a.mapValue.fields,(r,s)=>e.mapValue.fields[r]=ei(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ei(a.arrayValue.values[r]);return e}return Object.assign({},a)}function ns(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!nn(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ei(r)}setAll(e){let r=En.emptyPath(),s={},u=[];e.forEach((g,T)=>{if(!r.isImmediateParentOf(T)){const b=this.getFieldsMap(r);this.applyChanges(b,s,u),s={},u=[],r=T.popLast()}g?s[T.lastSegment()]=ei(g):u.push(T.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,s,u)}delete(e){const r=this.field(e.popLast());nn(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=r.mapValue.fields[e.get(s)];nn(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,s){Ni(r,(u,h)=>e[u]=h);for(const u of s)delete e[u]}clone(){return new Ut(ei(this.value))}}function rs(a){const e=[];return Ni(a.fields,(r,s)=>{const u=new En([r]);if(nn(s)){const h=rs(s.mapValue).fields;if(0===h.length)e.push(u);else for(const g of h)e.push(u.child(g))}else e.push(u)}),new ai(e)}class tr{constructor(e,r,s,u,h,g,T){this.key=e,this.documentType=r,this.version=s,this.readTime=u,this.createTime=h,this.data=g,this.documentState=T}static newInvalidDocument(e){return new tr(e,0,pt.min(),pt.min(),pt.min(),Ut.empty(),0)}static newFoundDocument(e,r,s,u){return new tr(e,1,r,pt.min(),s,u,0)}static newNoDocument(e,r){return new tr(e,2,r,pt.min(),pt.min(),Ut.empty(),0)}static newUnknownDocument(e,r){return new tr(e,3,r,pt.min(),pt.min(),Ut.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(pt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _i{constructor(e,r){this.position=e,this.inclusive=r}}function pr(a,e,r){let s=0;for(let u=0;u<a.position.length;u++){const h=e[u],g=a.position[u];if(s=h.field.isKeyField()?ht.comparator(ht.fromName(g.referenceValue),r.key):Nn(g,r.data.field(h.field)),"desc"===h.dir&&(s*=-1),0!==s)break}return s}function Ys(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!mi(a.position[r],e.position[r]))return!1;return!0}class yi{constructor(e,r="asc"){this.field=e,this.dir=r}}function Ci(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class Cs{}class On extends Cs{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new va(e,r,s):"array-contains"===r?new Fa(e,s):"in"===r?new vi(e,s):"not-in"===r?new F(e,s):"array-contains-any"===r?new U(e,s):new On(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new is(e,s):new Js(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Nn(r,this.value)):null!==r&&gi(this.value)===gi(r)&&this.matchesComparison(Nn(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends Cs{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Un(e,r)}matches(e){return li(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function li(a){return"and"===a.op}function js(a){return function ln(a){for(const e of a.filters)if(e instanceof Un)return!1;return!0}(a)&&li(a)}function La(a){if(a instanceof On)return a.field.canonicalString()+a.op.toString()+Hr(a.value);if(js(a))return a.filters.map(e=>La(e)).join(",");{const e=a.filters.map(r=>La(r)).join(",");return`${a.op}(${e})`}}function Zs(a,e){return a instanceof On?(s=a,(u=e)instanceof On&&s.op===u.op&&s.field.isEqual(u.field)&&mi(s.value,u.value)):a instanceof Un?function(s,u){return u instanceof Un&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((h,g,T)=>h&&Zs(g,u.filters[T]),!0)}(a,e):void yt();var s,u}function zr(a){return a instanceof On?`${(r=a).field.canonicalString()} ${r.op} ${Hr(r.value)}`:a instanceof Un?function(r){return r.op.toString()+" {"+r.getFilters().map(zr).join(" ,")+"}"}(a):"Filter";var r}class va extends On{constructor(e,r,s){super(e,r,s),this.key=ht.fromName(s.referenceValue)}matches(e){const r=ht.comparator(e.key,this.key);return this.matchesComparison(r)}}class is extends On{constructor(e,r){super(e,"in",r),this.keys=ti(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Js extends On{constructor(e,r){super(e,"not-in",r),this.keys=ti(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function ti(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>ht.fromName(s.referenceValue))}class Fa extends On{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Bs(r)&&yn(r.arrayValue,this.value)}}class vi extends On{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&yn(this.value.arrayValue,r)}}class F extends On{constructor(e,r){super(e,"not-in",r)}matches(e){if(yn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!yn(this.value.arrayValue,r)}}class U extends On{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Bs(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>yn(this.value.arrayValue,s))}}class ee{constructor(e,r=null,s=[],u=[],h=null,g=null,T=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=g,this.endAt=T,this.ue=null}}function ne(a,e=null,r=[],s=[],u=null,h=null,g=null){return new ee(a,e,r,s,u,h,g)}function ve(a){const e=se(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>La(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(h=s).field.canonicalString()+h.dir;var h}).join(","),en(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Hr(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Hr(s)).join(",")),e.ue=r}return e.ue}function je(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!Ci(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!Zs(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Ys(a.startAt,e.startAt)&&Ys(a.endAt,e.endAt)}function gt(a){return ht.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}class vn{constructor(e,r=null,s=[],u=[],h=null,g="F",T=null,b=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=g,this.startAt=T,this.endAt=b,this.ce=null,this.le=null,this.he=null}}function Er(a){return new vn(a)}function Vr(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function Ur(a){return null!==a.collectionGroup}function ni(a){const e=se(a);if(null===e.ce){e.ce=[];const r=new Set;for(const h of e.explicitOrderBy)e.ce.push(h),r.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let T=new pn(En.comparator);return g.filters.forEach(b=>{b.getFlattenedFilters().forEach(N=>{N.isInequality()&&(T=T.add(N.field))})}),T})(e).forEach(h=>{r.has(h.canonicalString())||h.isKeyField()||e.ce.push(new yi(h,s))}),r.has(En.keyField().canonicalString())||e.ce.push(new yi(En.keyField(),s))}return e.ce}function Rn(a){const e=se(a);return e.le||(e.le=function ui(a,e){if("F"===a.limitType)return ne(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>new yi(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new _i(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new _i(a.startAt.position,a.startAt.inclusive):null;return ne(a.path,a.collectionGroup,e,a.filters,a.limit,r,s)}}(e,ni(a))),e.le}function or(a,e){const r=a.filters.concat([e]);return new vn(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function Br(a,e,r){return new vn(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function bs(a,e){return je(Rn(a),Rn(e))&&a.limitType===e.limitType}function _s(a){return`${ve(Rn(a))}|lt:${a.limitType}`}function ss(a){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>zr(u)).join(", ")}]`),en(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(g=u).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>Hr(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>Hr(u)).join(",")),`Target(${s})`}(Rn(a))}; limitType=${a.limitType})`}function zi(a,e){return e.isFoundDocument()&&function(s,u){const h=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ht.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,u){for(const h of ni(s))if(!h.field.isKeyField()&&null===u.data.field(h.field))return!1;return!0}(a,e)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(a,e)&&(u=e,!((s=a).startAt&&!function(g,T,b){const N=pr(g,T,b);return g.inclusive?N<=0:N<0}(s.startAt,ni(s),u)||s.endAt&&!function(g,T,b){const N=pr(g,T,b);return g.inclusive?N>=0:N>0}(s.endAt,ni(s),u)));var s,u}function Va(a){return(e,r)=>{let s=!1;for(const u of ni(a)){const h=Yc(u,e,r);if(0!==h)return h;s=s||u.field.isKeyField()}return 0}}function Yc(a,e,r){const s=a.field.isKeyField()?ht.comparator(e.key,r.key):function(h,g,T){const b=g.data.field(h),N=T.data.field(h);return null!==b&&null!==N?Nn(b,N):yt()}(a.field,e,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return yt()}}class Ii{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[u,h]of s)if(this.equalsFn(u,e))return h}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,r]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,(r,s)=>{for(const[u,h]of s)e(u,h)})}isEmpty(){return po(this.inner)}size(){return this.innerSize}}const os=new Vn(ht.comparator);function ki(){return os}const Xo=new Vn(ht.comparator);function Rr(...a){let e=Xo;for(const r of a)e=e.insert(r.key,r);return e}function ys(a){let e=Xo;return a.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Or(){return eo()}function ec(){return eo()}function eo(){return new Ii(a=>a.toString(),(a,e)=>a.isEqual(e))}const Zc=new Vn(ht.comparator),So=new pn(ht.comparator);function In(...a){let e=So;for(const r of a)e=e.add(r);return e}const Yo=new pn(Ze);function Ro(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tn(e)?"-0":e}}function tc(a){return{integerValue:""+a}}function Ea(a,e){return function mr(a){return"number"==typeof a&&Number.isInteger(a)&&!tn(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}(e)?tc(e):Ro(a,e)}class Ua{constructor(){this._=void 0}}function to(a,e,r){return a instanceof no?function(u,h){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Vs(h)&&(h=As(h)),h&&(g.fields.__previous_value__=h),{mapValue:g}}(r,e):a instanceof ro?sd(a,e):a instanceof w?B(a,e):function(u,h){const g=Jo(u,h),T=V(g)+V(u.Pe);return go(g)&&go(u.Pe)?tc(T):Ro(u.serializer,T)}(a,e)}function Ta(a,e,r){return a instanceof ro?sd(a,e):a instanceof w?B(a,e):r}function Jo(a,e){return a instanceof P?go(s=e)||(h=s)&&"doubleValue"in h?e:{integerValue:0}:null;var s,h}class no extends Ua{}class ro extends Ua{constructor(e){super(),this.elements=e}}function sd(a,e){const r=re(e);for(const s of a.elements)r.some(u=>mi(u,s))||r.push(s);return{arrayValue:{values:r}}}class w extends Ua{constructor(e){super(),this.elements=e}}function B(a,e){let r=re(e);for(const s of a.elements)r=r.filter(u=>!mi(u,s));return{arrayValue:{values:r}}}class P extends Ua{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function V(a){return dr(a.integerValue||a.doubleValue)}function re(a){return Bs(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Bt{constructor(e,r){this.version=e,this.transformResults=r}}class rn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new rn}static exists(e){return new rn(void 0,e)}static updateTime(e){return new rn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ar(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class Hn{}function Cn(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new vs(a.key,rn.none()):new Ei(a.key,a.data,rn.none());{const r=a.data,s=Ut.empty();let u=new pn(En.comparator);for(let h of e.fields)if(!u.has(h)){let g=r.field(h);null===g&&h.length>1&&(h=h.popLast(),g=r.field(h)),null===g?s.delete(h):s.set(h,g),u=u.add(h)}return new bi(a.key,s,new ai(u.toArray()),rn.none())}}function Tr(a,e,r){a instanceof Ei?function(u,h,g){const T=u.value.clone(),b=Rs(u.fieldTransforms,h,g.transformResults);T.setAll(b),h.convertToFoundDocument(g.version,T).setHasCommittedMutations()}(a,e,r):a instanceof bi?function(u,h,g){if(!ar(u.precondition,h))return void h.convertToUnknownDocument(g.version);const T=Rs(u.fieldTransforms,h,g.transformResults),b=h.data;b.setAll(Gr(u)),b.setAll(T),h.convertToFoundDocument(g.version,b).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Qn(a,e,r,s){return a instanceof Ei?function(h,g,T,b){if(!ar(h.precondition,g))return T;const N=h.value.clone(),G=io(h.fieldTransforms,b,g);return N.setAll(G),g.convertToFoundDocument(g.version,N).setHasLocalMutations(),null}(a,e,r,s):a instanceof bi?function(h,g,T,b){if(!ar(h.precondition,g))return T;const N=io(h.fieldTransforms,b,g),G=g.data;return G.setAll(Gr(h)),G.setAll(N),g.convertToFoundDocument(g.version,G).setHasLocalMutations(),null===T?null:T.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(Y=>Y.field))}(a,e,r,s):(T=r,ar(a.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):T);var g,T}function ri(a,e){let r=null;for(const s of a.fieldTransforms){const u=e.data.field(s.field),h=Jo(s.transform,u||null);null!=h&&(null===r&&(r=Ut.empty()),r.set(s.field,h))}return r||null}function Ss(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=a.fieldTransforms)&&void 0===u||s&&u&&Lr(s,u,(h,g)=>function Ye(a,e){return a.field.isEqual(e.field)&&(u=e.transform,(s=a.transform)instanceof ro&&u instanceof ro||s instanceof w&&u instanceof w?Lr(s.elements,u.elements,mi):s instanceof P&&u instanceof P?mi(s.Pe,u.Pe):s instanceof no&&u instanceof no);var s,u}(h,g))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var s,u}class Ei extends Hn{constructor(e,r,s,u=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class bi extends Hn{constructor(e,r,s,u,h=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Gr(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=a.data.field(r);e.set(r,s)}}),e}function Rs(a,e,r){const s=new Map;wt(a.length===r.length);for(let u=0;u<r.length;u++){const h=a[u],g=h.transform,T=e.data.field(h.field);s.set(h.field,Ta(g,T,r[u]))}return s}function io(a,e,r){const s=new Map;for(const u of a){const h=u.transform,g=r.data.field(u.field);s.set(u.field,to(h,g,e))}return s}class vs extends Hn{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ba extends Hn{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mu{constructor(e,r,s,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&Tr(h,e,s[u])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Qn(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Qn(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=ec();return this.mutations.forEach(u=>{const h=e.get(u.key),g=h.overlayedDocument;let T=this.applyToLocalView(g,h.mutatedFields);T=r.has(u.key)?null:T;const b=Cn(g,T);null!==b&&s.set(u.key,b),g.isValidDocument()||g.convertToNoDocument(pt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),In())}isEqual(e){return this.batchId===e.batchId&&Lr(this.mutations,e.mutations,(r,s)=>Ss(r,s))&&Lr(this.baseMutations,e.baseMutations,(r,s)=>Ss(r,s))}}class Jc{constructor(e,r,s,u){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(e,r,s){wt(e.mutations.length===s.length);let u=Zc;const h=e.mutations;for(let g=0;g<h.length;g++)u=u.insert(h[g].key,s[g].version);return new Jc(e,r,s,u)}}class ja{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class od{constructor(e,r){this.count=e,this.unchangedNames=r}}var Pr,zn;function so(a){if(void 0===a)return Nt("GRPC error has no .code"),W.UNKNOWN;switch(a){case Pr.OK:return W.OK;case Pr.CANCELLED:return W.CANCELLED;case Pr.UNKNOWN:return W.UNKNOWN;case Pr.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Pr.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Pr.INTERNAL:return W.INTERNAL;case Pr.UNAVAILABLE:return W.UNAVAILABLE;case Pr.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Pr.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Pr.NOT_FOUND:return W.NOT_FOUND;case Pr.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Pr.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Pr.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Pr.ABORTED:return W.ABORTED;case Pr.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Pr.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Pr.DATA_LOSS:return W.DATA_LOSS;default:return yt()}}(zn=Pr||(Pr={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";const Bn=new at([4294967295,4294967295],0);function nc(a){const e=function nl(){return new TextEncoder}().encode(a),r=new He;return r.update(e),new Uint8Array(r.digest())}function $a(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new at([r,s],0),new at([u,h],0)]}class ii{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Ps(`Invalid padding: ${r}`);if(s<0)throw new Ps(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Ps(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Ps(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=at.fromNumber(this.Ie)}Ee(e,r,s){let u=e.add(r.multiply(at.fromNumber(s)));return 1===u.compare(Bn)&&(u=new at([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=nc(e),[s,u]=$a(r);for(let h=0;h<this.hashCount;h++){const g=this.Ee(s,u,h);if(!this.de(g))return!1}return!0}static create(e,r,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),g=new ii(h,u,r);return s.forEach(T=>g.insert(T)),g}insert(e){if(0===this.Ie)return;const r=nc(e),[s,u]=$a(r);for(let h=0;h<this.hashCount;h++){const g=this.Ee(s,u,h);this.Ae(g)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Ps extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Po{constructor(e,r,s,u,h){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const u=new Map;return u.set(e,oo.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Po(pt.min(),u,new Vn(Ze),ki(),In())}}class oo{constructor(e,r,s,u,h){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new oo(s,r,In(),In(),In())}}class Gi{constructor(e,r,s,u){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=u}}class ad{constructor(e,r){this.targetId=e,this.me=r}}class ud{constructor(e,r,s=vr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=u}}class yu{constructor(){this.fe=0,this.ge=Ha(),this.pe=vr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=In(),r=In(),s=In();return this.ge.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:yt()}}),new oo(this.pe,this.ye,e,r,s)}Ce(){this.we=!1,this.ge=Ha()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,wt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mo{constructor(e){this.Le=e,this.Be=new Map,this.ke=ki(),this.qe=vu(),this.Qe=new Vn(Ze)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:yt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,s=e.me.count,u=this.Je(r);if(u){const h=u.target;if(gt(h))if(0===s){const g=new ht(h.path);this.Ue(r,g,tr.newNoDocument(g,pt.min()))}else wt(1===s);else{const g=this.Ye(r);if(g!==s){const T=this.Ze(e),b=T?this.Xe(T,e,g):1;0!==b&&(this.je(r),this.Qe=this.Qe.insert(r,2===b?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=r;let g,T;try{g=Ai(s).toUint8Array()}catch(b){if(b instanceof Ko)return ft("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{T=new ii(g,u,h)}catch(b){return ft(b instanceof Ps?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return 0===T.Ie?null:T}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let u=0;return s.forEach(h=>{const g=this.Le.tt(),T=`projects/${g.projectId}/databases/${g.database}/documents/${h.path.canonicalString()}`;e.mightContain(T)||(this.Ue(r,h,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((h,g)=>{const T=this.Je(g);if(T){if(h.current&&gt(T.target)){const b=new ht(T.target.path);null!==this.ke.get(b)||this.it(g,b)||this.Ue(g,b,tr.newNoDocument(b,e))}h.be&&(r.set(g,h.ve()),h.Ce())}});let s=In();this.qe.forEach((h,g)=>{let T=!0;g.forEachWhile(b=>{const N=this.Je(b);return!N||"TargetPurposeLimboResolution"===N.purpose||(T=!1,!1)}),T&&(s=s.add(h))}),this.ke.forEach((h,g)=>g.setReadTime(e));const u=new Po(e,r,this.Qe,this.ke,s);return this.ke=ki(),this.qe=vu(),this.Qe=new Vn(Ze),u}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new yu,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new pn(Ze),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||ye("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yu),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function vu(){return new Vn(ht.comparator)}function Ha(){return new Vn(ht.comparator)}const _o={asc:"ASCENDING",desc:"DESCENDING"},za={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rl={and:"AND",or:"OR"};class qh{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function dn(a,e){return a.useProto3Json||en(e)?e:{value:e}}function ea(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function il(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function sl(a,e){return ea(a,e.toTimestamp())}function Yr(a){return wt(!!a),pt.fromTimestamp(function(r){const s=es(r);return new Tn(s.seconds,s.nanos)}(a))}function rc(a,e){return ic(a,e).canonicalString()}function ic(a,e){const r=(u=a,new Ct(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function ao(a){const e=Ct.fromString(a);return wt(C(e)),e}function Ga(a,e){return rc(a.databaseId,e.path)}function wr(a,e){const r=ao(e);if(r.get(1)!==a.databaseId.projectId)throw new Q(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new Q(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new ht(rt(r))}function cd(a,e){return rc(a.databaseId,e)}function oc(a){return new Ct(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function rt(a){return wt(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function Xn(a,e,r){return{name:Ga(a,e),fields:r.value.mapValue.fields}}function ta(a,e){return{documents:[cd(a,e.path)]}}function wa(a,e){const r={structuredQuery:{}},s=e.path;let u;null!==e.collectionGroup?(u=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=cd(a,u);const h=function(N){if(0!==N.length)return A(Un.create(N,"and"))}(e.filters);h&&(r.structuredQuery.where=h);const g=function(N){if(0!==N.length)return N.map(G=>{return{field:qi((le=G).field),direction:uo(le.dir)};var le})}(e.orderBy);g&&(r.structuredQuery.orderBy=g);const T=dn(a,e.limit);return null!==T&&(r.structuredQuery.limit=T),e.startAt&&(r.structuredQuery.startAt={before:(N=e.startAt).inclusive,values:N.position}),e.endAt&&(r.structuredQuery.endAt=function(N){return{before:!N.inclusive,values:N.position}}(e.endAt)),{_t:r,parent:u};var N}function ol(a){let e=function sc(a){const e=ao(a);return 4===e.length?Ct.emptyPath():rt(e)}(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){wt(1===s);const G=r.from[0];G.allDescendants?u=G.collectionId:e=e.child(G.collectionId)}let h=[];r.where&&(h=function(Y){const le=Wi(Y);return le instanceof Un&&js(le)?le.getFilters():[le]}(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(le=>{return new yi(y((tt=le).field),function(lt){switch(lt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(tt.direction));var tt}));let T=null;r.limit&&(T=function(Y){let le;return le="object"==typeof Y?Y.value:Y,en(le)?null:le}(r.limit));let b=null;var Y;r.startAt&&(b=new _i((Y=r.startAt).values||[],!!Y.before));let N=null;return r.endAt&&(N=function(Y){return new _i(Y.values||[],!Y.before)}(r.endAt)),function Sr(a,e,r,s,u,h,g,T){return new vn(a,e,r,s,u,h,g,T)}(e,u,g,h,T,"F",b,N)}function Wi(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=y(r.unaryFilter.field);return On.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=y(r.unaryFilter.field);return On.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=y(r.unaryFilter.field);return On.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=y(r.unaryFilter.field);return On.create(g,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(a):void 0!==a.fieldFilter?On.create(y((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return Un.create(r.compositeFilter.filters.map(s=>Wi(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return yt()}}(r.compositeFilter.op))}(a):yt();var r}function uo(a){return _o[a]}function al(a){return za[a]}function qa(a){return rl[a]}function qi(a){return{fieldPath:a.canonicalString()}}function y(a){return En.fromServerFormat(a.fieldPath)}function A(a){return a instanceof On?function(r){if("=="===r.op){if(Rt(r.value))return{unaryFilter:{field:qi(r.field),op:"IS_NAN"}};if(lr(r.value))return{unaryFilter:{field:qi(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Rt(r.value))return{unaryFilter:{field:qi(r.field),op:"IS_NOT_NAN"}};if(lr(r.value))return{unaryFilter:{field:qi(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qi(r.field),op:al(r.op),value:r.value}}}(a):a instanceof Un?function(r){const s=r.getFilters().map(u=>A(u));return 1===s.length?s[0]:{compositeFilter:{op:qa(r.op),filters:s}}}(a):yt()}function _(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function C(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class M{constructor(e,r,s,u,h=pt.min(),g=pt.min(),T=vr.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=T,this.expectedCount=b}withSequenceNumber(e){return new M(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new M(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new M(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new M(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H{constructor(e){this.ct=e}}function xo(a){const e=ol({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Br(e,e.limit,"L"):e}class ra{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(dr(e.integerValue));else if("doubleValue"in e){const s=dr(e.doubleValue);isNaN(s)?this.dt(r,13):(this.dt(r,15),tn(s)?r.At(0):r.At(s))}else if("timestampValue"in e){let s=e.timestampValue;this.dt(r,20),"string"==typeof s&&(s=es(s)),r.Rt(`${s.seconds||""}`),r.At(s.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Ai(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.dt(r,45),r.At(s.latitude||0),r.At(s.longitude||0)}else"mapValue"in e?ns(e)?this.dt(r,Number.MAX_SAFE_INTEGER):sr(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):yt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const s=e.fields||{};this.dt(r,55);for(const u of Object.keys(s))this.Vt(u,r),this.Tt(s[u],r)}wt(e,r){var s,u;const h=e.fields||{};this.dt(r,53);const g="value",T=(null===(u=null===(s=h[g].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(r,15),r.At(dr(T)),this.Vt(g,r),this.Tt(h[g],r)}bt(e,r){const s=e.values||[];this.dt(r,50);for(const u of s)this.Tt(u,r)}yt(e,r){this.dt(r,37),ht.fromName(e).path.forEach(s=>{this.dt(r,60),this.Dt(s,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}ra.vt=new ra;class Dm{constructor(){this.un=new ul}addToCollectionParentIndex(e,r){return this.un.add(r),he.resolve()}getCollectionParents(e,r){return he.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return he.resolve()}deleteFieldIndex(e,r){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,r){return he.resolve()}getDocumentsMatchingTarget(e,r){return he.resolve(null)}getIndexType(e,r){return he.resolve(0)}getFieldIndexes(e,r){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,r){return he.resolve($n.min())}getMinOffsetFromCollectionGroup(e,r){return he.resolve($n.min())}updateCollectionGroup(e,r,s){return he.resolve()}updateIndexEntries(e,r){return he.resolve()}}class ul{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r]||new pn(Ct.comparator),h=!u.has(s);return this.index[r]=u.add(s),h}has(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(e){return(this.index[e]||new pn(Ct.comparator)).toArray()}}new Uint8Array(0);class cs{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(41943040,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);class Uo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Uo(0)}static kn(){return new Uo(-1)}}class vd{constructor(){this.changes=new Ii(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,tr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?he.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mc{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class eu{constructor(e,r,s,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==s&&Qn(s.mutation,u,ai.empty(),Tn.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,In()).next(()=>s))}getLocalViewOfDocuments(e,r,s=In()){const u=Or();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,s).next(h=>{let g=Rr();return h.forEach((T,b)=>{g=g.insert(T,b.overlayedDocument)}),g}))}getOverlayedDocuments(e,r){const s=Or();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,In()))}populateOverlays(e,r,s){const u=[];return s.forEach(h=>{r.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((g,T)=>{r.set(g,T)})})}computeViews(e,r,s,u){let h=ki();const g=eo(),T=eo();return r.forEach((b,N)=>{const G=s.get(N.key);u.has(N.key)&&(void 0===G||G.mutation instanceof bi)?h=h.insert(N.key,N):void 0!==G?(g.set(N.key,G.mutation.getFieldMask()),Qn(G.mutation,N,G.mutation.getFieldMask(),Tn.now())):g.set(N.key,ai.empty())}),this.recalculateAndSaveOverlays(e,h).next(b=>(b.forEach((N,G)=>g.set(N,G)),r.forEach((N,G)=>{var Y;return T.set(N,new mc(G,null!==(Y=g.get(N))&&void 0!==Y?Y:null))}),T))}recalculateAndSaveOverlays(e,r){const s=eo();let u=new Vn((g,T)=>g-T),h=In();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(g=>{for(const T of g)T.keys().forEach(b=>{const N=r.get(b);if(null===N)return;let G=s.get(b)||ai.empty();G=T.applyToLocalView(N,G),s.set(b,G);const Y=(u.get(T.batchId)||In()).add(b);u=u.insert(T.batchId,Y)})}).next(()=>{const g=[],T=u.getReverseIterator();for(;T.hasNext();){const b=T.getNext(),N=b.key,G=b.value,Y=ec();G.forEach(le=>{if(!h.has(le)){const Ne=Cn(r.get(le),s.get(le));null!==Ne&&Y.set(le,Ne),h=h.add(le)}}),g.push(this.documentOverlayCache.saveOverlays(e,N,Y))}return he.waitFor(g)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,u){return ht.isDocumentKey((g=r).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Ur(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,u):this.getDocumentsMatchingCollectionQuery(e,r,s,u);var g}getNextDocuments(e,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,u).next(h=>{const g=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,u-h.size):he.resolve(Or());let T=-1,b=h;return g.next(N=>he.forEach(N,(G,Y)=>(T<Y.largestBatchId&&(T=Y.largestBatchId),h.get(G)?he.resolve():this.remoteDocumentCache.getEntry(e,G).next(le=>{b=b.insert(G,le)}))).next(()=>this.populateOverlays(e,N,h)).next(()=>this.computeViews(e,b,N,In())).next(G=>({batchId:T,changes:ys(G)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ht(r)).next(s=>{let u=Rr();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,s,u){const h=r.collectionGroup;let g=Rr();return this.indexManager.getCollectionParents(e,h).next(T=>he.forEach(T,b=>{const N=(Y=r,le=b.child(h),new vn(le,null,Y.explicitOrderBy.slice(),Y.filters.slice(),Y.limit,Y.limitType,Y.startAt,Y.endAt));var Y,le;return this.getDocumentsMatchingCollectionQuery(e,N,s,u).next(G=>{G.forEach((Y,le)=>{g=g.insert(Y,le)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,r,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(g=>(h=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,h,u))).next(g=>{h.forEach((b,N)=>{const G=N.getKey();null===g.get(G)&&(g=g.insert(G,tr.newInvalidDocument(G)))});let T=Rr();return g.forEach((b,N)=>{const G=h.get(b);void 0!==G&&Qn(G.mutation,N,ai.empty(),Tn.now()),zi(r,N)&&(T=T.insert(b,N))}),T})}}class Cu{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return he.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(u=r).id,version:u.version,createTime:Yr(u.createTime)}),he.resolve();var u}getNamedQuery(e,r){return he.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(u=r).name,query:xo(u.bundledQuery),readTime:Yr(u.readTime)}),he.resolve();var u}}class tu{constructor(){this.overlays=new Vn(ht.comparator),this.Ir=new Map}getOverlay(e,r){return he.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Or();return he.forEach(r,u=>this.getOverlay(e,u).next(h=>{null!==h&&s.set(u,h)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((u,h)=>{this.ht(e,r,h)}),he.resolve()}removeOverlaysForBatchId(e,r,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Ir.delete(s)),he.resolve()}getOverlaysForCollection(e,r,s){const u=Or(),h=r.length+1,g=new ht(r.child("")),T=this.overlays.getIteratorFrom(g);for(;T.hasNext();){const b=T.getNext().value,N=b.getKey();if(!r.isPrefixOf(N.path))break;N.path.length===h&&b.largestBatchId>s&&u.set(b.getKey(),b)}return he.resolve(u)}getOverlaysForCollectionGroup(e,r,s,u){let h=new Vn((N,G)=>N-G);const g=this.overlays.getIterator();for(;g.hasNext();){const N=g.getNext().value;if(N.getKey().getCollectionGroup()===r&&N.largestBatchId>s){let G=h.get(N.largestBatchId);null===G&&(G=Or(),h=h.insert(N.largestBatchId,G)),G.set(N.getKey(),N)}}const T=Or(),b=h.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((N,G)=>T.set(N,G)),!(T.size()>=u)););return he.resolve(T)}ht(e,r,s){const u=this.overlays.get(s.key);if(null!==u){const g=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new ja(r,s));let h=this.Ir.get(r);void 0===h&&(h=In(),this.Ir.set(r,h)),this.Ir.set(r,h.add(s.key))}}class Zh{constructor(){this.sessionToken=vr.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,he.resolve()}}class Da{constructor(){this.Tr=new pn(si.Er),this.dr=new pn(si.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const s=new si(e,r);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Vr(new si(e,r))}mr(e,r){e.forEach(s=>this.removeReference(s,r))}gr(e){const r=new ht(new Ct([])),s=new si(r,e),u=new si(r,e+1),h=[];return this.dr.forEachInRange([s,u],g=>{this.Vr(g),h.push(g.key)}),h}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new ht(new Ct([])),s=new si(r,e),u=new si(r,e+1);let h=In();return this.dr.forEachInRange([s,u],g=>{h=h.add(g.key)}),h}containsKey(e){const r=new si(e,0),s=this.Tr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class si{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return ht.comparator(e.key,r.key)||Ze(e.wr,r.wr)}static Ar(e,r){return Ze(e.wr,r.wr)||ht.comparator(e.key,r.key)}}class Cm{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new pn(si.Er)}checkEmpty(e){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,u){const h=this.Sr;this.Sr++;const g=new mu(h,r,s,u);this.mutationQueue.push(g);for(const T of u)this.br=this.br.add(new si(T.key,h)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return he.resolve(g)}lookupMutationBatch(e,r){return he.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.vr(r+1),h=u<0?0:u;return he.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new si(r,0),u=new si(r,Number.POSITIVE_INFINITY),h=[];return this.br.forEachInRange([s,u],g=>{const T=this.Dr(g.wr);h.push(T)}),he.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new pn(Ze);return r.forEach(u=>{const h=new si(u,0),g=new si(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([h,g],T=>{s=s.add(T.wr)})}),he.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1;let h=s;ht.isDocumentKey(h)||(h=h.child(""));const g=new si(new ht(h),0);let T=new pn(Ze);return this.br.forEachWhile(b=>{const N=b.key.path;return!!s.isPrefixOf(N)&&(N.length===u&&(T=T.add(b.wr)),!0)},g),he.resolve(this.Cr(T))}Cr(e){const r=[];return e.forEach(s=>{const u=this.Dr(s);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){wt(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return he.forEach(r.mutations,u=>{const h=new si(u.key,r.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,r){const s=new si(r,0),u=this.br.firstAfterOrEqual(s);return he.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return he.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Fp{constructor(e){this.Mr=e,this.docs=new Vn(ht.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,u=this.docs.get(s),h=u?u.size:0,g=this.Mr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:g}),this.size+=g-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return he.resolve(s?s.document.mutableCopy():tr.newInvalidDocument(r))}getEntries(e,r){let s=ki();return r.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():tr.newInvalidDocument(u))}),he.resolve(s)}getDocumentsMatchingQuery(e,r,s,u){let h=ki();const g=r.path,T=new ht(g.child("")),b=this.docs.getIteratorFrom(T);for(;b.hasNext();){const{key:N,value:{document:G}}=b.getNext();if(!g.isPrefixOf(N.path))break;N.path.length>g.length+1||Cr(new $n((a=G).readTime,a.key,-1),s)<=0||(u.has(G.key)||zi(r,G))&&(h=h.insert(G.key,G.mutableCopy()))}var a;return he.resolve(h)}getAllFromCollectionGroup(e,r,s,u){yt()}Or(e,r){return he.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new bm(this)}getSize(e){return he.resolve(this.size)}}class bm extends vd{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.cr.addEntry(e,u)):this.cr.removeEntry(s)}),he.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class Sm{constructor(e){this.persistence=e,this.Nr=new Ii(r=>ve(r),je),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Da,this.targetCount=0,this.kr=Uo.Bn()}forEachTarget(e,r){return this.Nr.forEach((s,u)=>r(u)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Lr&&(this.Lr=r),he.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Uo(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,he.resolve()}updateTargetData(e,r){return this.Kn(r),he.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,r,s){let u=0;const h=[];return this.Nr.forEach((g,T)=>{T.sequenceNumber<=r&&null===s.get(T.targetId)&&(this.Nr.delete(g),h.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),he.waitFor(h).next(()=>u)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,r){const s=this.Nr.get(r)||null;return he.resolve(s)}addMatchingKeys(e,r,s){return this.Br.Rr(r,s),he.resolve()}removeMatchingKeys(e,r,s){this.Br.mr(r,s);const u=this.persistence.referenceDelegate,h=[];return u&&r.forEach(g=>{h.push(u.markPotentiallyOrphaned(e,g))}),he.waitFor(h)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),he.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Br.yr(r);return he.resolve(s)}containsKey(e,r){return he.resolve(this.Br.containsKey(r))}}class Jh{constructor(e,r){this.qr={},this.overlays={},this.Qr=new bt(0),this.Kr=!1,this.Kr=!0,this.$r=new Zh,this.referenceDelegate=e(this),this.Ur=new Sm(this),this.indexManager=new Dm,this.remoteDocumentCache=new Fp(s=>this.referenceDelegate.Wr(s)),this.serializer=new H(r),this.Gr=new Cu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new tu,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.qr[e.toKey()];return s||(s=new Cm(r,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,s){ye("MemoryPersistence","Starting transaction:",e);const u=new Rm(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(h=>this.referenceDelegate.jr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Hr(e,r){return he.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,r)))}}class Rm extends jt{constructor(e){super(),this.currentSequenceNumber=e}}class Td{constructor(e){this.persistence=e,this.Jr=new Da,this.Yr=null}static Zr(e){return new Td(e)}get Xr(){if(this.Yr)return this.Yr;throw yt()}addReference(e,r,s){return this.Jr.addReference(s,r),this.Xr.delete(s.toString()),he.resolve()}removeReference(e,r,s){return this.Jr.removeReference(s,r),this.Xr.add(s.toString()),he.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),he.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(h=>this.Xr.add(h.toString()))}).next(()=>s.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Xr,s=>{const u=ht.fromPath(s);return this.ei(e,u).next(h=>{h||r.removeEntry(u,pt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(s=>{s?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return he.or([()=>he.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class xs{constructor(e,r,s,u){this.targetId=e,this.fromCache=r,this.$i=s,this.Ui=u}static Wi(e,r){let s=In(),u=In();for(const h of r.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new xs(e,r.fromCache,s,u)}}class Su{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Dd{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,oe.nr)()?8:function ps(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}((0,oe.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,s,u){const h={result:null};return this.Yi(e,r).next(g=>{h.result=g}).next(()=>{if(!h.result)return this.Zi(e,r,u,s).next(g=>{h.result=g})}).next(()=>{if(h.result)return;const g=new Su;return this.Xi(e,r,g).next(T=>{if(h.result=T,this.zi)return this.es(e,r,g,T.size)})}).next(()=>h.result)}es(e,r,s,u){return s.documentReadCount<this.ji?(kr()<=We.$b.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",ss(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),he.resolve()):(kr()<=We.$b.DEBUG&&ye("QueryEngine","Query:",ss(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(kr()<=We.$b.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",ss(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rn(r))):he.resolve())}Yi(e,r){if(Vr(r))return he.resolve(null);let s=Rn(r);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=Br(r,null,"F"),s=Rn(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const g=In(...h);return this.Ji.getDocuments(e,g).next(T=>this.indexManager.getMinOffset(e,s).next(b=>{const N=this.ts(r,T);return this.ns(r,N,g,b.readTime)?this.Yi(e,Br(r,null,"F")):this.rs(e,N,r,b)}))})))}Zi(e,r,s,u){return Vr(r)||u.isEqual(pt.min())?he.resolve(null):this.Ji.getDocuments(e,s).next(h=>{const g=this.ts(r,h);return this.ns(r,g,s,u)?he.resolve(null):(kr()<=We.$b.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ss(r)),this.rs(e,g,r,function Xi(a,e){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=pt.fromTimestamp(1e9===s?new Tn(r+1,0):new Tn(r,s));return new $n(u,ht.empty(),e)}(u,-1)).next(T=>T))})}ts(e,r){let s=new pn(Va(e));return r.forEach((u,h)=>{zi(e,h)&&(s=s.add(h))}),s}ns(e,r,s,u){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const h="F"===e.limitType?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Xi(e,r,s){return kr()<=We.$b.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",ss(r)),this.Ji.getDocumentsMatchingQuery(e,r,$n.min(),s)}rs(e,r,s,u){return this.Ji.getDocumentsMatchingQuery(e,s,u).next(h=>(r.forEach(g=>{h=h.insert(g.key,g)}),h))}}class ll{constructor(e,r,s,u){this.persistence=e,this.ss=r,this.serializer=u,this.os=new Vn(Ze),this._s=new Ii(h=>ve(h),je),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eu(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function dl(a,e){return tf.apply(this,arguments)}function tf(){return(tf=(0,ie.A)(function*(a,e){const r=se(a);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,r.ls(e),r.mutationQueue.getAllMutationBatches(s))).next(h=>{const g=[],T=[];let b=In();for(const N of u){g.push(N.batchId);for(const G of N.mutations)b=b.add(G.key)}for(const N of h){T.push(N.batchId);for(const G of N.mutations)b=b.add(G.key)}return r.localDocuments.getDocuments(s,b).next(N=>({hs:N,removedBatchIds:g,addedBatchIds:T}))})})})).apply(this,arguments)}function Vp(a){const e=se(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function ru(a,e){const r=se(a);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ru(a,e,r){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,ie.A)(function*(a,e,r){const s=se(a),u=s.os.get(e),h=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",h,g=>s.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!j(g))throw g;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}s.os=s.os.remove(e),s._s.delete(u.target)})).apply(this,arguments)}function Ec(a,e,r){const s=se(a);let u=pt.min(),h=In();return s.persistence.runTransaction("Execute query","readwrite",g=>function(b,N,G){const Y=se(b),le=Y._s.get(G);return void 0!==le?he.resolve(Y.os.get(le)):Y.Ur.getTargetData(N,G)}(s,g,Rn(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(g,T.targetId).next(b=>{h=b})}).next(()=>s.ss.getDocumentsMatchingQuery(g,e,r?u:pt.min(),r?h:In())).next(T=>(function Sd(a,e,r){let s=a.us.get(e)||pt.min();r.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.us.set(e,s)}(s,function Ia(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}(e),T),{documents:T,Ts:h})))}class Dc{constructor(){this.activeTargetIds=function Zo(){return Yo}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gl{constructor(){this.so=new Dc,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,s){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Dc,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xu{_o(e){}shutdown(){}}class Nu{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ml=null;function rf(){return null===ml?ml=268435456+Math.round(2147483648*Math.random()):ml++,"0x"+ml.toString(16)}const sf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bp{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Ns="WebChannelConnection";class Pm extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),h=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+r.host,this.vo=`projects/${u}/databases/${h}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${h}`}get Fo(){return!1}Mo(r,s,u,h,g){const T=rf(),b=this.xo(r,s.toUriEncodedString());ye("RestConnection",`Sending RPC '${r}' ${T}:`,b,u);const N={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(N,h,g),this.No(r,b,N,u).then(G=>(ye("RestConnection",`Received RPC '${r}' ${T}: `,G),G),G=>{throw ft("RestConnection",`RPC '${r}' ${T} failed with error: `,G,"url: ",b,"request:",u),G})}Lo(r,s,u,h,g,T){return this.Mo(r,s,u,h,g)}Oo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Vt,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((h,g)=>r[g]=h),u&&u.headers.forEach((h,g)=>r[g]=h)}xo(r,s){return`${this.Do}/v1/${s}:${sf[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,s,u){const h=rf();return new Promise((g,T)=>{const b=new Ft;b.setWithCredentials(!0),b.listenOnce(Yn.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case ze.NO_ERROR:const G=b.getResponseJson();ye(Ns,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(G)),g(G);break;case ze.TIMEOUT:ye(Ns,`RPC '${e}' ${h} timed out`),T(new Q(W.DEADLINE_EXCEEDED,"Request time out"));break;case ze.HTTP_ERROR:const Y=b.getStatus();if(ye(Ns,`RPC '${e}' ${h} failed with status:`,Y,"response text:",b.getResponseText()),Y>0){let le=b.getResponseJson();Array.isArray(le)&&(le=le[0]);const Ne=le?.error;if(Ne&&Ne.status&&Ne.message){const tt=function(lt){const zt=lt.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(zt)>=0?zt:W.UNKNOWN}(Ne.status);T(new Q(tt,Ne.message))}else T(new Q(W.UNKNOWN,"Server responded with status "+b.getStatus()))}else T(new Q(W.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{ye(Ns,`RPC '${e}' ${h} completed.`)}});const N=JSON.stringify(u);ye(Ns,`RPC '${e}' ${h} sending request:`,u),b.send(r,"POST",N,s,15)})}Bo(e,r,s){const u=rf(),h=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=Mt(),T=At(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},N=this.longPollingOptions.timeoutSeconds;void 0!==N&&(b.longPollingTimeout=Math.round(1e3*N)),this.useFetchStreams&&(b.useFetchStreams=!0),this.Oo(b.initMessageHeaders,r,s),b.encodeInitMessageHeaders=!0;const G=h.join("");ye(Ns,`Creating RPC '${e}' stream ${u}: ${G}`,b);const Y=g.createWebChannel(G,b);let le=!1,Ne=!1;const tt=new Bp({Io:lt=>{Ne?ye(Ns,`Not sending because RPC '${e}' stream ${u} is closed:`,lt):(le||(ye(Ns,`Opening RPC '${e}' stream ${u} transport.`),Y.open(),le=!0),ye(Ns,`RPC '${e}' stream ${u} sending:`,lt),Y.send(lt))},To:()=>Y.close()}),mt=(lt,zt,sn)=>{lt.listen(zt,Wt=>{try{sn(Wt)}catch(bn){setTimeout(()=>{throw bn},0)}})};return mt(Y,An.EventType.OPEN,()=>{Ne||(ye(Ns,`RPC '${e}' stream ${u} transport opened.`),tt.yo())}),mt(Y,An.EventType.CLOSE,()=>{Ne||(Ne=!0,ye(Ns,`RPC '${e}' stream ${u} transport closed`),tt.So())}),mt(Y,An.EventType.ERROR,lt=>{Ne||(Ne=!0,ft(Ns,`RPC '${e}' stream ${u} transport errored:`,lt),tt.So(new Q(W.UNAVAILABLE,"The operation could not be completed")))}),mt(Y,An.EventType.MESSAGE,lt=>{var zt;if(!Ne){const sn=lt.data[0];wt(!!sn);const bn=sn.error||(null===(zt=sn[0])||void 0===zt?void 0:zt.error);if(bn){ye(Ns,`RPC '${e}' stream ${u} received error:`,bn);const br=bn.status;let qn=function(ge){const De=Pr[ge];if(void 0!==De)return so(De)}(br),Te=bn.message;void 0===qn&&(qn=W.INTERNAL,Te="Unknown error status: "+br+" with message "+bn.message),Ne=!0,tt.So(new Q(qn,Te)),Y.close()}else ye(Ns,`RPC '${e}' stream ${u} received:`,sn),tt.bo(sn)}}),mt(T,Qe.STAT_EVENT,lt=>{lt.stat===st.PROXY?ye(Ns,`RPC '${e}' stream ${u} detected buffering proxy`):lt.stat===st.NOPROXY&&ye(Ns,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{tt.wo()},0),tt}}function Md(){return typeof document<"u"?document:null}function su(a){return new qh(a,!0)}class xd{constructor(e,r,s=1e3,u=1.5,h=6e4){this.ui=e,this.timerId=r,this.ko=s,this.qo=u,this.Qo=h,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,r-s);u>0&&ye("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class $p{constructor(e,r,s,u,h,g,T,b){this.ui=e,this.Ho=s,this.Jo=u,this.connection=h,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=T,this.listener=b,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xd(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,ie.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,ie.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var s=this;return(0,ie.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==e?s.t_.reset():r&&r.code===W.RESOURCE_EXHAUSTED?(Nt(r.toString()),Nt("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):r&&r.code===W.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===r&&this.P_(s,u)},s=>{e(()=>{const u=new Q(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(e,r){const s=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var e=this;this.state=5,this.t_.Go((0,ie.A)(function*(){e.state=0,e.start()}))}I_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hp extends $p{constructor(e,r,s,u,h,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,g),this.serializer=h}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function Si(a,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(N=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===N?1:"REMOVE"===N?2:"CURRENT"===N?3:"RESET"===N?4:yt(),u=e.targetChange.targetIds||[],h=function(N,G){return N.useProto3Json?(wt(void 0===G||"string"==typeof G),vr.fromBase64String(G||"")):(wt(void 0===G||G instanceof Buffer||G instanceof Uint8Array),vr.fromUint8Array(G||new Uint8Array))}(a,e.targetChange.resumeToken),g=e.targetChange.cause,T=g&&function(N){const G=void 0===N.code?W.UNKNOWN:so(N.code);return new Q(G,N.message||"")}(g);r=new ud(s,u,h,T||null)}else if("documentChange"in e){const s=e.documentChange,u=wr(a,s.document.name),h=Yr(s.document.updateTime),g=s.document.createTime?Yr(s.document.createTime):pt.min(),T=new Ut({mapValue:{fields:s.document.fields}}),b=tr.newFoundDocument(u,h,g,T);r=new Gi(s.targetIds||[],s.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const s=e.documentDelete,u=wr(a,s.document),h=s.readTime?Yr(s.readTime):pt.min(),g=tr.newNoDocument(u,h);r=new Gi([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const s=e.documentRemove,u=wr(a,s.document);r=new Gi([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return yt();{const s=e.filter,{count:u=0,unchangedNames:h}=s,g=new od(u,h);r=new ad(s.targetId,g)}}var N;return r}(this.serializer,e),s=function(h){if(!("targetChange"in h))return pt.min();const g=h.targetChange;return g.targetIds&&g.targetIds.length?pt.min():g.readTime?Yr(g.readTime):pt.min()}(e);return this.listener.d_(r,s)}A_(e){const r={};r.database=oc(this.serializer),r.addTarget=function(h,g){let T;const b=g.target;if(T=gt(b)?{documents:ta(h,b)}:{query:wa(h,b)._t},T.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){T.resumeToken=il(h,g.resumeToken);const N=dn(h,g.expectedCount);null!==N&&(T.expectedCount=N)}else if(g.snapshotVersion.compareTo(pt.min())>0){T.readTime=ea(h,g.snapshotVersion.toTimestamp());const N=dn(h,g.expectedCount);null!==N&&(T.expectedCount=N)}return T}(this.serializer,e);const s=function cc(a,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.a_(r)}R_(e){const r={};r.database=oc(this.serializer),r.removeTarget=e,this.a_(r)}}class vy extends $p{constructor(e,r,s,u,h,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,g),this.serializer=h}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return wt(!!e.streamToken),this.lastStreamToken=e.streamToken,wt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function as(a,e){return a&&a.length>0?(wt(void 0!==e),a.map(r=>function(u,h){let g=Yr(u.updateTime?u.updateTime:h);return g.isEqual(pt.min())&&(g=Yr(h)),new Bt(g,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Yr(e.commitTime);return this.listener.g_(s,r)}p_(){const e={};e.database=oc(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>function yo(a,e){let r;if(e instanceof Ei)r={update:Xn(a,e.key,e.value)};else if(e instanceof vs)r={delete:Ga(a,e.key)};else if(e instanceof bi)r={update:Xn(a,e.key,e.data),updateMask:_(e.fieldMask)};else{if(!(e instanceof Ba))return yt();r={verify:Ga(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(h,g){const T=g.transform;if(T instanceof no)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof ro)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof w)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof P)return{fieldPath:g.field.canonicalString(),increment:T.Pe};throw yt()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:sl(a,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:yt()),r;var h}(this.serializer,s))};this.a_(r)}}class zp extends class{}{constructor(e,r,s,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new Q(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Mo(e,ic(r,s),u,h,g)).catch(h=>{throw"FirebaseError"===h.name?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Q(W.UNKNOWN,h.toString())})}Lo(e,r,s,u,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,T])=>this.connection.Lo(e,ic(r,s),u,g,T,h)).catch(g=>{throw"FirebaseError"===g.name?(g.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Q(W.UNKNOWN,g.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Iy{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Nt(r),this.D_=!1):ye("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Mm{constructor(e,r,s,u,h){var g=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=h,this.k_._o(T=>{s.enqueueAndForget((0,ie.A)(function*(){var b;ou(g)&&(ye("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,ie.A)(function*(G){const Y=se(G);Y.L_.add(4),yield yl(Y),Y.q_.set("Unknown"),Y.L_.delete(4),yield Cc(Y)}),function N(G){return b.apply(this,arguments)})(g))}))}),this.q_=new Iy(s,u)}}function Cc(a){return _l.apply(this,arguments)}function _l(){return(_l=(0,ie.A)(function*(a){if(ou(a))for(const e of a.B_)yield e(!0)})).apply(this,arguments)}function yl(a){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,ie.A)(function*(a){for(const e of a.B_)yield e(!1)})).apply(this,arguments)}function bc(a,e){const r=se(a);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Kp(r)?qp(r):xc(r).r_()&&Wp(r,e))}function vl(a,e){const r=se(a),s=xc(r);r.N_.delete(e),s.r_()&&xm(r,e),0===r.N_.size&&(s.r_()?s.o_():ou(r)&&r.q_.set("Unknown"))}function Wp(a,e){if(a.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}xc(a).A_(e)}function xm(a,e){a.Q_.xe(e),xc(a).R_(e)}function qp(a){a.Q_=new mo({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.N_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),xc(a).start(),a.q_.v_()}function Kp(a){return ou(a)&&!xc(a).n_()&&a.N_.size>0}function ou(a){return 0===se(a).L_.size}function Il(a){a.Q_=void 0}function Nd(a){return Od.apply(this,arguments)}function Od(){return(Od=(0,ie.A)(function*(a){a.q_.set("Online")})).apply(this,arguments)}function Qp(a){return kd.apply(this,arguments)}function kd(){return(kd=(0,ie.A)(function*(a){a.N_.forEach((e,r)=>{Wp(a,e)})})).apply(this,arguments)}function Sc(a,e){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,ie.A)(function*(a,e){Il(a),Kp(a)?(a.q_.M_(e),qp(a)):a.q_.set("Unknown")})).apply(this,arguments)}function Xp(a,e,r){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,ie.A)(function*(a,e,r){if(a.q_.set("Online"),e instanceof ud&&2===e.state&&e.cause)try{yield(s=(0,ie.A)(function*(h,g){const T=g.cause;for(const b of g.targetIds)h.N_.has(b)&&(yield h.remoteSyncer.rejectListen(b,T),h.N_.delete(b),h.Q_.removeTarget(b))}),function u(h,g){return s.apply(this,arguments)})(a,e)}catch(s){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Ou(a,s)}else if(e instanceof Gi?a.Q_.Ke(e):e instanceof ad?a.Q_.He(e):a.Q_.We(e),!r.isEqual(pt.min()))try{const s=yield Vp(a.localStore);r.compareTo(s)>=0&&(yield function(h,g){const T=h.Q_.rt(g);return T.targetChanges.forEach((b,N)=>{if(b.resumeToken.approximateByteSize()>0){const G=h.N_.get(N);G&&h.N_.set(N,G.withResumeToken(b.resumeToken,g))}}),T.targetMismatches.forEach((b,N)=>{const G=h.N_.get(b);if(!G)return;h.N_.set(b,G.withResumeToken(vr.EMPTY_BYTE_STRING,G.snapshotVersion)),xm(h,b);const Y=new M(G.target,b,N,G.sequenceNumber);Wp(h,Y)}),h.remoteSyncer.applyRemoteEvent(T)}(a,r))}catch(s){ye("RemoteStore","Failed to raise snapshot:",s),yield Ou(a,s)}var s}),Rc.apply(this,arguments)}function Ou(a,e,r){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,ie.A)(function*(a,e,r){if(!j(e))throw e;a.L_.add(1),yield yl(a),a.q_.set("Offline"),r||(r=()=>Vp(a.localStore)),a.asyncQueue.enqueueRetryable((0,ie.A)(function*(){ye("RemoteStore","Retrying IndexedDB access"),yield r(),a.L_.delete(1),yield Cc(a)}))})).apply(this,arguments)}function Yp(a,e){return e().catch(r=>Ou(a,r,e))}function Mc(a){return af.apply(this,arguments)}function af(){return(af=(0,ie.A)(function*(a){const e=se(a),r=Ca(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Zp(e);)try{const u=yield ru(e.localStore,s);if(null===u){0===e.O_.length&&r.o_();break}s=u.batchId,uf(e,u)}catch(u){yield Ou(e,u)}Jp(e)&&cf(e)})).apply(this,arguments)}function Zp(a){return ou(a)&&a.O_.length<10}function uf(a,e){a.O_.push(e);const r=Ca(a);r.r_()&&r.V_&&r.m_(e.mutations)}function Jp(a){return ou(a)&&!Ca(a).n_()&&a.O_.length>0}function cf(a){Ca(a).start()}function Nm(a){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,ie.A)(function*(a){Ca(a).p_()})).apply(this,arguments)}function Om(a){return lf.apply(this,arguments)}function lf(){return(lf=(0,ie.A)(function*(a){const e=Ca(a);for(const r of a.O_)e.m_(r.mutations)})).apply(this,arguments)}function Os(a,e,r){return El.apply(this,arguments)}function El(){return(El=(0,ie.A)(function*(a,e,r){const s=a.O_.shift(),u=Jc.from(s,e,r);yield Yp(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield Mc(a)})).apply(this,arguments)}function eg(a,e){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,ie.A)(function*(a,e){var r;e&&Ca(a).V_&&(yield(r=(0,ie.A)(function*(u,h){if(function tl(a){switch(a){default:return yt();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}(T=h.code)&&T!==W.ABORTED){const g=u.O_.shift();Ca(u).s_(),yield Yp(u,()=>u.remoteSyncer.rejectFailedWrite(g.batchId,h)),yield Mc(u)}var T}),function s(u,h){return r.apply(this,arguments)})(a,e)),Jp(a)&&cf(a)}),Tl.apply(this,arguments)}function ls(a,e){return ku.apply(this,arguments)}function ku(){return(ku=(0,ie.A)(function*(a,e){const r=se(a);r.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const s=ou(r);r.L_.add(3),yield yl(r),s&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield Cc(r)})).apply(this,arguments)}function Vd(a,e){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,ie.A)(function*(a,e){const r=se(a);e?(r.L_.delete(2),yield Cc(r)):e||(r.L_.add(2),yield yl(r),r.q_.set("Unknown"))})).apply(this,arguments)}function xc(a){return a.K_||(a.K_=function(r,s,u){const h=se(r);return h.w_(),new Hp(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{Eo:Nd.bind(null,a),Ro:Qp.bind(null,a),mo:Sc.bind(null,a),d_:Xp.bind(null,a)}),a.B_.push(function(){var e=(0,ie.A)(function*(r){r?(a.K_.s_(),Kp(a)?qp(a):a.q_.set("Unknown")):(yield a.K_.stop(),Il(a))});return function(r){return e.apply(this,arguments)}}())),a.K_}function Ca(a){return a.U_||(a.U_=function(r,s,u){const h=se(r);return h.w_(),new vy(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Nm.bind(null,a),mo:eg.bind(null,a),f_:Om.bind(null,a),g_:Os.bind(null,a)}),a.B_.push(function(){var e=(0,ie.A)(function*(r){r?(a.U_.s_(),yield Mc(a)):(yield a.U_.stop(),a.O_.length>0&&(ye("RemoteStore",`Stopping write stream with ${a.O_.length} pending writes`),a.O_=[]))});return function(r){return e.apply(this,arguments)}}())),a.U_}class df{constructor(e,r,s,u,h){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Ie,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,u,h){const g=Date.now()+s,T=new df(e,r,g,u,h);return T.start(s),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Q(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v(a,e){if(Nt("AsyncQueue",`${e}: ${a}`),j(a))return new Q(W.UNAVAILABLE,`${e}: ${a}`);throw a}class d{constructor(e){this.comparator=e?(r,s)=>e(r,s)||ht.comparator(r.key,s.key):(r,s)=>ht.comparator(r.key,s.key),this.keyedMap=Rr(),this.sortedSet=new Vn(this.comparator)}static emptySet(e){return new d(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof d)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new d;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class p{constructor(){this.W_=new Vn(ht.comparator)}track(e){const r=e.doc.key,s=this.W_.get(r);s?0!==e.type&&3===s.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==s.type?this.W_=this.W_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.W_=this.W_.remove(r):1===e.type&&2===s.type?this.W_=this.W_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):yt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,s)=>{e.push(s)}),e}}class E{constructor(e,r,s,u,h,g,T,b,N){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=T,this.excludesMetadataChanges=b,this.hasCachedResults=N}static fromInitialDocuments(e,r,s,u,h){const g=[];return r.forEach(T=>{g.push({type:0,doc:T})}),new E(e,r,d.emptySet(r),g,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class L{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class q{constructor(){this.queries=me(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,s){const u=se(r),h=u.queries;u.queries=me(),h.forEach((g,T)=>{for(const b of T.j_)b.onError(s)})}(this,new Q(W.ABORTED,"Firestore shutting down"))}}function me(){return new Ii(a=>_s(a),bs)}function Je(){return(Je=(0,ie.A)(function*(a,e){const r=se(a);let s=3;const u=e.query;let h=r.queries.get(u);h?!h.H_()&&e.J_()&&(s=2):(h=new L,s=e.J_()?0:1);try{switch(s){case 0:h.z_=yield r.onListen(u,!0);break;case 1:h.z_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(g){const T=v(g,`Initialization of query '${ss(e.query)}' failed`);return void e.onError(T)}r.queries.set(u,h),h.j_.push(e),e.Z_(r.onlineState),h.z_&&e.X_(h.z_)&&zs(r)})).apply(this,arguments)}function hn(){return(hn=(0,ie.A)(function*(a,e){const r=se(a),s=e.query;let u=3;const h=r.queries.get(s);if(h){const g=h.j_.indexOf(e);g>=0&&(h.j_.splice(g,1),0===h.j_.length?u=e.J_()?0:1:!h.H_()&&e.J_()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function _n(a,e){const r=se(a);let s=!1;for(const u of e){const g=r.queries.get(u.query);if(g){for(const T of g.j_)T.X_(u)&&(s=!0);g.z_=u}}s&&zs(r)}function Mr(a,e,r){const s=se(a),u=s.queries.get(e);if(u)for(const h of u.j_)h.onError(r);s.queries.delete(e)}function zs(a){a.Y_.forEach(e=>{e.next()})}var Gs,jo;(jo=Gs||(Gs={})).ea="default",jo.Cache="cache";class Lu{constructor(e,r,s){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new E(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=E.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Gs.Cache}}class $d{constructor(e){this.key=e}}class Al{constructor(e){this.key=e}}class Hd{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=In(),this.mutatedKeys=In(),this.Aa=Va(e),this.Ra=new d(this.Aa)}get Va(){return this.Ta}ma(e,r){const s=r?r.fa:new p,u=r?r.Ra:this.Ra;let h=r?r.mutatedKeys:this.mutatedKeys,g=u,T=!1;const b="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,N="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((G,Y)=>{const le=u.get(G),Ne=zi(this.query,Y)?Y:null,tt=!!le&&this.mutatedKeys.has(le.key),mt=!!Ne&&(Ne.hasLocalMutations||this.mutatedKeys.has(Ne.key)&&Ne.hasCommittedMutations);let lt=!1;le&&Ne?le.data.isEqual(Ne.data)?tt!==mt&&(s.track({type:3,doc:Ne}),lt=!0):this.ga(le,Ne)||(s.track({type:2,doc:Ne}),lt=!0,(b&&this.Aa(Ne,b)>0||N&&this.Aa(Ne,N)<0)&&(T=!0)):!le&&Ne?(s.track({type:0,doc:Ne}),lt=!0):le&&!Ne&&(s.track({type:1,doc:le}),lt=!0,(b||N)&&(T=!0)),lt&&(Ne?(g=g.add(Ne),h=mt?h.add(G):h.delete(G)):(g=g.delete(G),h=h.delete(G)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const G="F"===this.query.limitType?g.last():g.first();g=g.delete(G.key),h=h.delete(G.key),s.track({type:1,doc:G})}return{Ra:g,fa:s,ns:T,mutatedKeys:h}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,u){const h=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const g=e.fa.G_();g.sort((G,Y)=>function(Ne,tt){const mt=lt=>{switch(lt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return mt(Ne)-mt(tt)}(G.type,Y.type)||this.Aa(G.doc,Y.doc)),this.pa(s),u=null!=u&&u;const T=r&&!u?this.ya():[],b=0===this.da.size&&this.current&&!u?1:0,N=b!==this.Ea;return this.Ea=b,0!==g.length||N?{snapshot:new E(this.query,e.Ra,h,g,e.mutatedKeys,0===b,N,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:T}:{wa:T}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new p,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=In(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const r=[];return e.forEach(s=>{this.da.has(s)||r.push(new Al(s))}),this.da.forEach(s=>{e.has(s)||r.push(new $d(s))}),r}ba(e){this.Ta=e.Ts,this.da=In();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return E.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class tg{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class Dl{constructor(e){this.key=e,this.va=!1}}class Cl{constructor(e,r,s,u,h,g){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.Ca={},this.Fa=new Ii(T=>_s(T),bs),this.Ma=new Map,this.xa=new Set,this.Oa=new Vn(ht.comparator),this.Na=new Map,this.La=new Da,this.Ba={},this.ka=new Map,this.qa=Uo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function ng(a,e){return zd.apply(this,arguments)}function zd(){return(zd=(0,ie.A)(function*(a,e,r=!0){const s=Tf(a);let u;const h=s.Fa.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Da()):u=yield hf(s,e,r,!0),u})).apply(this,arguments)}function Ey(a,e){return rg.apply(this,arguments)}function rg(){return(rg=(0,ie.A)(function*(a,e){const r=Tf(a);yield hf(r,e,!0,!1)})).apply(this,arguments)}function hf(a,e,r,s){return ff.apply(this,arguments)}function ff(){return(ff=(0,ie.A)(function*(a,e,r,s){const u=yield function hl(a,e){const r=se(a);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.Ur.getTargetData(s,e).next(h=>h?(u=h,he.resolve(u)):r.Ur.allocateTargetId(s).next(g=>(u=new M(e,g,"TargetPurposeListen",s.currentSequenceNumber),r.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.os=r.os.insert(s.targetId,s),r._s.set(e,s.targetId)),s})}(a.localStore,Rn(e)),h=u.targetId,g=a.sharedClientState.addLocalQueryTarget(h,r);let T;return s&&(T=yield function au(a,e,r,s,u){return pf.apply(this,arguments)}(a,e,h,"current"===g,u.resumeToken)),a.isPrimaryClient&&r&&bc(a.remoteStore,u),T})).apply(this,arguments)}function pf(){return pf=(0,ie.A)(function*(a,e,r,s,u){a.Ka=(Y,le,Ne)=>{return(tt=(0,ie.A)(function*(lt,zt,sn,Wt){let bn=zt.view.ma(sn);bn.ns&&(bn=yield Ec(lt.localStore,zt.query,!1).then(({documents:ae})=>zt.view.ma(ae,bn)));const br=Wt&&Wt.targetChanges.get(zt.targetId),qn=Wt&&null!=Wt.targetMismatches.get(zt.targetId),Te=zt.view.applyChanges(bn,lt.isPrimaryClient,br,qn);return ug(lt,zt.targetId,Te.wa),Te.snapshot}),function mt(lt,zt,sn,Wt){return tt.apply(this,arguments)})(a,Y,le,Ne);var tt};const h=yield Ec(a.localStore,e,!0),g=new Hd(e,h.Ts),T=g.ma(h.documents),b=oo.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==a.onlineState,u),N=g.applyChanges(T,a.isPrimaryClient,b);ug(a,r,N.wa);const G=new tg(e,r,g);return a.Fa.set(e,G),a.Ma.has(r)?a.Ma.get(r).push(e):a.Ma.set(r,[e]),N.snapshot}),pf.apply(this,arguments)}function km(a,e,r){return ig.apply(this,arguments)}function ig(){return(ig=(0,ie.A)(function*(a,e,r){const s=se(a),u=s.Fa.get(e),h=s.Ma.get(u.targetId);if(h.length>1)return s.Ma.set(u.targetId,h.filter(g=>!bs(g,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Ru(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),r&&vl(s.remoteStore,u.targetId),Oc(s,u.targetId)}).catch(Qr))):(Oc(s,u.targetId),yield Ru(s.localStore,u.targetId,!0))})).apply(this,arguments)}function UI(a,e){return bl.apply(this,arguments)}function bl(){return(bl=(0,ie.A)(function*(a,e){const r=se(a),s=r.Fa.get(e),u=r.Ma.get(s.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),vl(r.remoteStore,s.targetId))})).apply(this,arguments)}function gf(){return(gf=(0,ie.A)(function*(a,e,r){const s=function Sa(a){const e=se(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gd.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=og.bind(null,e),e}(a);try{const u=yield function(g,T){const b=se(g),N=Tn.now(),G=T.reduce((Ne,tt)=>Ne.add(tt.key),In());let Y,le;return b.persistence.runTransaction("Locally write mutations","readwrite",Ne=>{let tt=ki(),mt=In();return b.cs.getEntries(Ne,G).next(lt=>{tt=lt,tt.forEach((zt,sn)=>{sn.isValidDocument()||(mt=mt.add(zt))})}).next(()=>b.localDocuments.getOverlayedDocuments(Ne,tt)).next(lt=>{Y=lt;const zt=[];for(const sn of T){const Wt=ri(sn,Y.get(sn.key).overlayedDocument);null!=Wt&&zt.push(new bi(sn.key,Wt,rs(Wt.value.mapValue),rn.exists(!0)))}return b.mutationQueue.addMutationBatch(Ne,N,zt,T)}).next(lt=>{le=lt;const zt=lt.applyToLocalDocumentSet(Y,mt);return b.documentOverlayCache.saveOverlays(Ne,lt.batchId,zt)})}).then(()=>({batchId:le.batchId,changes:ys(Y)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(g,T,b){let N=g.Ba[g.currentUser.toKey()];N||(N=new Vn(Ze)),N=N.insert(T,b),g.Ba[g.currentUser.toKey()]=N}(s,u.batchId,r),yield ba(s,u.changes),yield Mc(s.remoteStore)}catch(u){const h=v(u,"Failed to persist write");r.reject(h)}})).apply(this,arguments)}function sg(a,e){return mf.apply(this,arguments)}function mf(){return(mf=(0,ie.A)(function*(a,e){const r=se(a);try{const s=yield function Hs(a,e){const r=se(a),s=e.snapshotVersion;let u=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const g=r.cs.newChangeBuffer({trackRemovals:!0});u=r.os;const T=[];e.targetChanges.forEach((G,Y)=>{const le=u.get(Y);if(!le)return;T.push(r.Ur.removeMatchingKeys(h,G.removedDocuments,Y).next(()=>r.Ur.addMatchingKeys(h,G.addedDocuments,Y)));let Ne=le.withSequenceNumber(h.currentSequenceNumber);var mt,lt,zt;null!==e.targetMismatches.get(Y)?Ne=Ne.withResumeToken(vr.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):G.resumeToken.approximateByteSize()>0&&(Ne=Ne.withResumeToken(G.resumeToken,s)),u=u.insert(Y,Ne),lt=Ne,zt=G,(0===(mt=le).resumeToken.approximateByteSize()||lt.snapshotVersion.toMicroseconds()-mt.snapshotVersion.toMicroseconds()>=3e8||zt.addedDocuments.size+zt.modifiedDocuments.size+zt.removedDocuments.size>0)&&T.push(r.Ur.updateTargetData(h,Ne))});let b=ki(),N=In();if(e.documentUpdates.forEach(G=>{e.resolvedLimboDocuments.has(G)&&T.push(r.persistence.referenceDelegate.updateLimboDocument(h,G))}),T.push(function vc(a,e,r){let s=In(),u=In();return r.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let g=ki();return r.forEach((T,b)=>{const N=h.get(T);b.isFoundDocument()!==N.isFoundDocument()&&(u=u.add(T)),b.isNoDocument()&&b.version.isEqual(pt.min())?(e.removeEntry(T,b.readTime),g=g.insert(T,b)):!N.isValidDocument()||b.version.compareTo(N.version)>0||0===b.version.compareTo(N.version)&&N.hasPendingWrites?(e.addEntry(b),g=g.insert(T,b)):ye("LocalStore","Ignoring outdated watch update for ",T,". Current version:",N.version," Watch version:",b.version)}),{Ps:g,Is:u}})}(h,g,e.documentUpdates).next(G=>{b=G.Ps,N=G.Is})),!s.isEqual(pt.min())){const G=r.Ur.getLastRemoteSnapshotVersion(h).next(Y=>r.Ur.setTargetsMetadata(h,h.currentSequenceNumber,s));T.push(G)}return he.waitFor(T).next(()=>g.apply(h)).next(()=>r.localDocuments.getLocalViewOfDocuments(h,b,N)).next(()=>b)}).then(h=>(r.os=u,h))}(r.localStore,e);e.targetChanges.forEach((u,h)=>{const g=r.Na.get(h);g&&(wt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.va=!0:u.modifiedDocuments.size>0?wt(g.va):u.removedDocuments.size>0&&(wt(g.va),g.va=!1))}),yield ba(r,s,e)}catch(s){yield Qr(s)}})).apply(this,arguments)}function _f(a,e,r){const s=se(a);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.Fa.forEach((h,g)=>{const T=g.view.Z_(e);T.snapshot&&u.push(T.snapshot)}),function(g,T){const b=se(g);b.onlineState=T;let N=!1;b.queries.forEach((G,Y)=>{for(const le of Y.j_)le.Z_(T)&&(N=!0)}),N&&zs(b)}(s.eventManager,e),u.length&&s.Ca.d_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Lm(a,e,r){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,ie.A)(function*(a,e,r){const s=se(a);s.sharedClientState.updateQueryState(e,"rejected",r);const u=s.Na.get(e),h=u&&u.key;if(h){let g=new Vn(ht.comparator);g=g.insert(h,tr.newNoDocument(h,pt.min()));const T=In().add(h),b=new Po(pt.min(),new Map,new Vn(Ze),g,T);yield sg(s,b),s.Oa=s.Oa.remove(h),s.Na.delete(e),vf(s)}else yield Ru(s.localStore,e,!1).then(()=>Oc(s,e,r)).catch(Qr)})).apply(this,arguments)}function Gd(a,e){return yf.apply(this,arguments)}function yf(){return(yf=(0,ie.A)(function*(a,e){const r=se(a),s=e.batch.batchId;try{const u=yield function Cd(a,e){const r=se(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),h=r.cs.newChangeBuffer({trackRemovals:!0});return function(T,b,N,G){const Y=N.batch,le=Y.keys();let Ne=he.resolve();return le.forEach(tt=>{Ne=Ne.next(()=>G.getEntry(b,tt)).next(mt=>{const lt=N.docVersions.get(tt);wt(null!==lt),mt.version.compareTo(lt)<0&&(Y.applyToRemoteDocument(mt,N),mt.isValidDocument()&&(mt.setReadTime(N.commitVersion),G.addEntry(mt)))})}),Ne.next(()=>T.mutationQueue.removeMutationBatch(b,Y))}(r,s,e,h).next(()=>h.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(T){let b=In();for(let N=0;N<T.mutationResults.length;++N)T.mutationResults[N].transformResults.length>0&&(b=b.add(T.batch.mutations[N].key));return b}(e))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,e);ag(r,s,null),Nc(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield ba(r,u)}catch(u){yield Qr(u)}})).apply(this,arguments)}function og(a,e,r){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,ie.A)(function*(a,e,r){const s=se(a);try{const u=yield function(g,T){const b=se(g);return b.persistence.runTransaction("Reject batch","readwrite-primary",N=>{let G;return b.mutationQueue.lookupMutationBatch(N,T).next(Y=>(wt(null!==Y),G=Y.keys(),b.mutationQueue.removeMutationBatch(N,Y))).next(()=>b.mutationQueue.performConsistencyCheck(N)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(N,G,T)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(N,G)).next(()=>b.localDocuments.getDocuments(N,G))})}(s.localStore,e);ag(s,e,r),Nc(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield ba(s,u)}catch(u){yield Qr(u)}})).apply(this,arguments)}function Nc(a,e){(a.ka.get(e)||[]).forEach(r=>{r.resolve()}),a.ka.delete(e)}function ag(a,e,r){const s=se(a);let u=s.Ba[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(r?h.reject(r):h.resolve(),u=u.remove(e)),s.Ba[s.currentUser.toKey()]=u}}function Oc(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Ma.get(e))a.Fa.delete(s),r&&a.Ca.$a(s,r);a.Ma.delete(e),a.isPrimaryClient&&a.La.gr(e).forEach(s=>{a.La.containsKey(s)||Vm(a,s)})}function Vm(a,e){a.xa.delete(e.path.canonicalString());const r=a.Oa.get(e);null!==r&&(vl(a.remoteStore,r),a.Oa=a.Oa.remove(e),a.Na.delete(r),vf(a))}function ug(a,e,r){for(const s of r)s instanceof $d?(a.La.addReference(s.key,e),wy(a,s)):s instanceof Al?(ye("SyncEngine","Document no longer in limbo: "+s.key),a.La.removeReference(s.key,e),a.La.containsKey(s.key)||Vm(a,s.key)):yt()}function wy(a,e){const r=e.key,s=r.path.canonicalString();a.Oa.get(r)||a.xa.has(s)||(ye("SyncEngine","New document in limbo: "+r),a.xa.add(s),vf(a))}function vf(a){for(;a.xa.size>0&&a.Oa.size<a.maxConcurrentLimboResolutions;){const e=a.xa.values().next().value;a.xa.delete(e);const r=new ht(Ct.fromString(e)),s=a.qa.next();a.Na.set(s,new Dl(r)),a.Oa=a.Oa.insert(r,s),bc(a.remoteStore,new M(Rn(Er(r.path)),s,"TargetPurposeLimboResolution",bt.oe))}}function ba(a,e,r){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,ie.A)(function*(a,e,r){const s=se(a),u=[],h=[],g=[];var T;s.Fa.isEmpty()||(s.Fa.forEach((T,b)=>{g.push(s.Ka(b,e,r).then(N=>{var G;if((N||r)&&s.isPrimaryClient){const Y=N?!N.fromCache:null===(G=r?.targetChanges.get(b.targetId))||void 0===G?void 0:G.current;s.sharedClientState.updateQueryState(b.targetId,Y?"current":"not-current")}if(N){u.push(N);const Y=xs.Wi(b.targetId,N);h.push(Y)}}))}),yield Promise.all(g),s.Ca.d_(u),yield(T=(0,ie.A)(function*(N,G){const Y=se(N);try{yield Y.persistence.runTransaction("notifyLocalViewChanges","readwrite",le=>he.forEach(G,Ne=>he.forEach(Ne.$i,tt=>Y.persistence.referenceDelegate.addReference(le,Ne.targetId,tt)).next(()=>he.forEach(Ne.Ui,tt=>Y.persistence.referenceDelegate.removeReference(le,Ne.targetId,tt)))))}catch(le){if(!j(le))throw le;ye("LocalStore","Failed to update sequence numbers: "+le)}for(const le of G){const Ne=le.targetId;if(!le.fromCache){const tt=Y.os.get(Ne),lt=tt.withLastLimboFreeSnapshotVersion(tt.snapshotVersion);Y.os=Y.os.insert(Ne,lt)}}}),function b(N,G){return T.apply(this,arguments)})(s.localStore,h))}),Pl.apply(this,arguments)}function cg(a,e){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,ie.A)(function*(a,e){const r=se(a);if(!r.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const s=yield dl(r.localStore,e);r.currentUser=e,(h=r).ka.forEach(T=>{T.forEach(b=>{b.reject(new Q(W.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.ka.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield ba(r,s.hs)}var h})).apply(this,arguments)}function Ay(a,e){const r=se(a),s=r.Na.get(e);if(s&&s.va)return In().add(s.key);{let u=In();const h=r.Ma.get(e);if(!h)return u;for(const g of h){const T=r.Fa.get(g);u=u.unionWith(T.view.Va)}return u}}function Tf(a){const e=se(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=sg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ay.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lm.bind(null,e),e.Ca.d_=_n.bind(null,e.eventManager),e.Ca.$a=Mr.bind(null,e.eventManager),e}let Ml=(()=>{class a{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var s=this;return(0,ie.A)(function*(){s.serializer=su(r.databaseInfo.databaseId),s.sharedClientState=s.Wa(r),s.persistence=s.Ga(r),yield s.persistence.start(),s.localStore=s.za(r),s.gcScheduler=s.ja(r,s.localStore),s.indexBackfillerScheduler=s.Ha(r,s.localStore)})()}ja(r,s){return null}Ha(r,s){return null}za(r){return function nu(a,e,r,s){return new ll(a,e,r,s)}(this.persistence,new Dd,r.initialUser,this.serializer)}Ga(r){return new Jh(Td.Zr,this.serializer)}Wa(r){return new gl}terminate(){var r=this;return(0,ie.A)(function*(){var s,u;null===(s=r.gcScheduler)||void 0===s||s.stop(),null===(u=r.indexBackfillerScheduler)||void 0===u||u.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return a.provider={build:()=>new a},a})(),Xd=(()=>{class a{initialize(r,s){var u=this;return(0,ie.A)(function*(){u.localStore||(u.localStore=r.localStore,u.sharedClientState=r.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!r.synchronizeTabs),u.sharedClientState.onlineStateHandler=h=>_f(u.syncEngine,h,1),u.remoteStore.remoteSyncer.handleCredentialChange=cg.bind(null,u.syncEngine),yield Vd(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(r){return new q}createDatastore(r){const s=su(r.databaseInfo.databaseId),u=new Pm(r.databaseInfo);return new zp(r.authCredentials,r.appCheckCredentials,u,s)}createRemoteStore(r){return u=this.localStore,h=this.datastore,g=r.asyncQueue,T=s=>_f(this.syncEngine,s,0),b=Nu.D()?new Nu:new xu,new Mm(u,h,g,T,b);var u,h,g,T,b}createSyncEngine(r,s){return function(h,g,T,b,N,G,Y){const le=new Cl(h,g,T,b,N,G);return Y&&(le.Qa=!0),le}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,s)}terminate(){var r=this;return(0,ie.A)(function*(){var s,u,h;yield(h=(0,ie.A)(function*(T){const b=se(T);ye("RemoteStore","RemoteStore shutting down."),b.L_.add(5),yield yl(b),b.k_.shutdown(),b.q_.set("Unknown")}),function g(T){return h.apply(this,arguments)})(r.remoteStore),null===(s=r.datastore)||void 0===s||s.terminate(),null===(u=r.eventManager)||void 0===u||u.terminate()})()}}return a.provider={build:()=>new a},a})();class Yd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Nt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class ky{constructor(e,r,s,u,h){var g=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=Xe.UNAUTHENTICATED,this.clientId=Zn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,function(){var T=(0,ie.A)(function*(b){ye("FirestoreClient","Received user=",b.uid),yield g.authCredentialListener(b),g.user=b});return function(b){return T.apply(this,arguments)}}()),this.appCheckCredentials.start(s,T=>(ye("FirestoreClient","Received new app check token=",T),this.appCheckCredentialListener(T,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ie;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ie.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=v(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function Zd(a,e){return ca.apply(this,arguments)}function ca(){return ca=(0,ie.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let s=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,ie.A)(function*(h){s.isEqual(h)||(yield dl(e.localStore,h),s=h)});return function(h){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),ca.apply(this,arguments)}function xl(a,e){return wf.apply(this,arguments)}function wf(){return(wf=(0,ie.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield function Af(a){return Df.apply(this,arguments)}(a);ye("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(s=>ls(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>ls(e.remoteStore,u)),a._onlineComponents=e})).apply(this,arguments)}function Df(){return(Df=(0,ie.A)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Zd(a,a._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(u=e).name?u.code===W.FAILED_PRECONDITION||u.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw e;ft("Error using user provided cache. Falling back to memory cache: "+e),yield Zd(a,new Ml)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),yield Zd(a,new Ml);var u;return a._offlineComponents})).apply(this,arguments)}function pg(a){return $m.apply(this,arguments)}function $m(){return($m=(0,ie.A)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),yield xl(a,a._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),yield xl(a,new Xd))),a._onlineComponents})).apply(this,arguments)}function gg(){return(gg=(0,ie.A)(function*(a){const e=yield pg(a),r=e.eventManager;return r.onListen=ng.bind(null,e.syncEngine),r.onUnlisten=km.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Ey.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=UI.bind(null,e.syncEngine),r})).apply(this,arguments)}function zm(a,e,r={}){const s=new Ie;return a.asyncQueue.enqueueAndForget((0,ie.A)(function*(){return function(h,g,T,b,N){const G=new Yd({next:le=>{G.Za(),g.enqueueAndForget(()=>function Lt(a,e){return hn.apply(this,arguments)}(h,Y)),le.fromCache&&"server"===b.source?N.reject(new Q(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):N.resolve(le)},error:le=>N.reject(le)}),Y=new Lu(T,G,{includeMetadataChanges:!0,_a:!0});return function xe(a,e){return Je.apply(this,arguments)}(h,Y)}(yield function kc(a){return gg.apply(this,arguments)}(a),a.asyncQueue,e,r,s)})),s.promise}function qm(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const Km=new Map;function yg(a,e,r){if(!r)throw new Q(W.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function vg(a){if(!ht.isDocumentKey(a))throw new Q(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Gy(a){if(ht.isDocumentKey(a))throw new Q(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Ig(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(s=a).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof a?"a function":yt()}function Wn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new Q(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ig(a);throw new Q(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}class Eg{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Q(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Q(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function zy(a,e,r,s){if(!0===e&&!0===s)throw new Q(W.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=qm(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new Q(W.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new Q(W.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new Q(W.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kl{constructor(e,r,s,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Q(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eg(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new et;switch(s.type){case"firstParty":return new Mn(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Q(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,ie.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Km.get(r);s&&(ye("ComponentProvider","Removing Datastore"),Km.delete(r),s.terminate())}(this),Promise.resolve()}}class ds{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ds(this.firestore,e,this._query)}}class Ri{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ri(this.firestore,e,this._key)}}class la extends ds{constructor(e,r,s){super(e,r,Er(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ri(this.firestore,null,new ht(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function Qm(a,e,...r){if(a=(0,oe.Ku)(a),yg("collection","path",e),a instanceof kl){const s=Ct.fromString(e,...r);return Gy(s),new la(a,null,s)}{if(!(a instanceof Ri||a instanceof la))throw new Q(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Ct.fromString(e,...r));return Gy(s),new la(a.firestore,null,s)}}function Wy(a,e,...r){if(a=(0,oe.Ku)(a),1===arguments.length&&(e=Zn.newId()),yg("doc","path",e),a instanceof kl){const s=Ct.fromString(e,...r);return vg(s),new Ri(a,null,new ht(s))}{if(!(a instanceof Ri||a instanceof la))throw new Q(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Ct.fromString(e,...r));return vg(s),new Ri(a.firestore,a instanceof la?a.converter:null,new ht(s))}}class Sf{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xd(this,"async_queue_retry"),this.Vu=()=>{const s=Md();s&&ye("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const r=Md();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Md();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Ie;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,ie.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!j(r))throw r;ye("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(s=>{throw this.Eu=s,this.du=!1,Nt("INTERNAL UNHANDLED ERROR: ",function(g){let T=g.message||"";return g.stack&&(T=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),T}(s)),s}).then(s=>(this.du=!1,s))));return this.mu=r,r}enqueueAfterDelay(e,r,s){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const u=df.createAndSchedule(this,e,r,s,h=>this.yu(h));return this.Tu.push(u),u}fu(){this.Eu&&yt()}verifyOperationInProgress(){}wu(){var e=this;return(0,ie.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class Wr extends kl{constructor(e,r,s,u){super(e,r,s,u),this.type="firestore",this._queue=new Sf,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,ie.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new Sf(r),e._firestoreClient=void 0,yield r}})()}}function Pf(a,e){const r="object"==typeof a?a:(0,Ae.Sx)(),s="string"==typeof a?a:e||"(default)",u=(0,Ae.j6)(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=(0,oe.yU)("firestore");h&&function Tg(a,e,r,s={}){var u;const h=(a=Wn(a,kl))._getSettings(),g=`${e}:${r}`;if("firestore.googleapis.com"!==h.host&&h.host!==g&&ft("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},h),{host:g,ssl:!1})),s.mockUserToken){let T,b;if("string"==typeof s.mockUserToken)T=s.mockUserToken,b=Xe.MOCK_USER;else{T=(0,oe.Fy)(s.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new Q(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Xe(N)}a._authCredentials=new ct(new Pe(T,b))}}(u,...h)}return u}function hi(a){if(a._terminated)throw new Q(W.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||function Mf(a){var e,r,s;const u=a._freezeSettings(),h=(b=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new Xs(a._databaseId,b,a._persistenceKey,(G=u).host,G.ssl,G.experimentalForceLongPolling,G.experimentalAutoDetectLongPolling,qm(G.experimentalLongPollingOptions),G.useFetchStreams));var b,G;a._componentsProvider||!(null===(r=u.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new ky(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(T){const b=T?._online.build();return{_offline:T?._offline.build(b),_online:b}}(a._componentsProvider))}(a),a._firestoreClient}class Fc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fc(vr.fromBase64String(e))}catch(r){throw new Q(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Fc(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $u{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Q(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class eh{constructor(e){this._methodName=e}}class n_{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Q(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Q(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}class Nf{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0}(this._values,e._values)}}const Ky=/^__.*__$/;class WI{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new bi(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ei(e,this.data,r,this.fieldTransforms)}}class Qy{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new bi(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function th(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class Of{constructor(e,r,s,u,h,g){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===h&&this.vu(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Of(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Fu({path:s,xu:!1});return u.Ou(e),u}Nu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Fu({path:s,xu:!1});return u.vu(),u}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return sh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(th(this.Cu)&&Ky.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Dg{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||su(e)}Qu(e,r,s,u=!1){return new Of({Cu:e,methodName:r,qu:s,path:En.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cu(a){const e=a._freezeSettings(),r=su(a._databaseId);return new Dg(a._databaseId,!!e.ignoreUndefinedProperties,r)}function lu(a,e,r,s,u,h={}){const g=a.Qu(h.merge||h.mergeFields?2:0,e,r,u);Lf("Data must be an object, but it was:",g,s);const T=Ul(s,g);let b,N;if(h.merge)b=new ai(g.fieldMask),N=g.fieldTransforms;else if(h.mergeFields){const G=[];for(const Y of h.mergeFields){const le=ih(e,Y,r);if(!g.contains(le))throw new Q(W.INVALID_ARGUMENT,`Field '${le}' is specified in your field mask but missing from your input data.`);i_(G,le)||G.push(le)}b=new ai(G),N=g.fieldTransforms.filter(Y=>b.covers(Y.field))}else b=null,N=g.fieldTransforms;return new WI(new Ut(T),b,N)}class Vc extends eh{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vc}}function du(a,e){if(r_(a=(0,oe.Ku)(a)))return Lf("Unsupported field value:",e,a),Ul(a,e);if(a instanceof eh)return function(s,u){if(!th(u.Cu))throw u.Bu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(s,u){const h=[];let g=0;for(const T of s){let b=du(T,u.Lu(g));null==b&&(b={nullValue:"NULL_VALUE"}),h.push(b),g++}return{arrayValue:{values:h}}}(a,e)}return function(s,u){if(null===(s=(0,oe.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Ea(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const h=Tn.fromDate(s);return{timestampValue:ea(u.serializer,h)}}if(s instanceof Tn){const h=new Tn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ea(u.serializer,h)}}if(s instanceof n_)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fc)return{bytesValue:il(u.serializer,s._byteString)};if(s instanceof Ri){const h=u.databaseId,g=s.firestore._databaseId;if(!g.isEqual(h))throw u.Bu(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:rc(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Nf)return T=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(b=>{if("number"!=typeof b)throw T.Bu("VectorValues must only contain numeric values.");return Ro(T.serializer,b)})}}}}};var T;throw u.Bu(`Unsupported field value: ${Ig(s)}`)}(a,e)}function Ul(a,e){const r={};return po(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(a,(s,u)=>{const h=du(u,e.Mu(s));null!=h&&(r[s]=h)}),{mapValue:{fields:r}}}function r_(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Tn||a instanceof n_||a instanceof Fc||a instanceof Ri||a instanceof eh||a instanceof Nf)}function Lf(a,e,r){if(!r_(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Ig(r);throw e.Bu("an object"===s?a+" a custom object":a+" "+s)}var u}function ih(a,e,r){if((e=(0,oe.Ku)(e))instanceof $u)return e._internalPath;if("string"==typeof e)return Bl(a,e);throw sh("Field path arguments must be of type string or ",a,!1,void 0,r)}const Yy=new RegExp("[~\\*/\\[\\]]");function Bl(a,e,r){if(e.search(Yy)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new $u(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function sh(a,e,r,s,u){const h=s&&!s.isEmpty(),g=void 0!==u;let T=`Function ${e}() called with invalid data`;r&&(T+=" (via `toFirestore()`)"),T+=". ";let b="";return(h||g)&&(b+=" (found",h&&(b+=` in field ${s}`),g&&(b+=` in document ${u}`),b+=")"),new Q(W.INVALID_ARGUMENT,T+a+b)}function i_(a,e){return a.some(r=>r.isEqual(e))}class oh{constructor(e,r,s,u,h){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ri(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Ff("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class qI extends oh{data(){return super.data()}}function Ff(a,e){return"string"==typeof e?Bl(a,e):e instanceof $u?e._internalPath:e._delegate._internalPath}class uh{}class ch extends uh{}function s_(a,e,...r){let s=[];e instanceof uh&&s.push(e),s=s.concat(r),function(h){const g=h.filter(b=>b instanceof jl).length,T=h.filter(b=>b instanceof Bc).length;if(g>1||g>0&&T>0)throw new Q(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)a=u._apply(a);return a}class Bc extends ch{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Bc(e,r,s)}_apply(e){const r=this._parse(e);return $f(e._query,r),new ds(e.firestore,e.converter,or(e._query,r))}_parse(e){const r=cu(e.firestore);return function(h,g,T,b,N,G,Y){let le;if(N.isKeyField()){if("array-contains"===G||"array-contains-any"===G)throw new Q(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${G}' queries on documentId().`);if("in"===G||"not-in"===G){Sg(Y,G);const Ne=[];for(const tt of Y)Ne.push(bg(b,h,tt));le={arrayValue:{values:Ne}}}else le=bg(b,h,Y)}else"in"!==G&&"not-in"!==G&&"array-contains-any"!==G||Sg(Y,G),le=function Xy(a,e,r,s=!1){return du(r,a.Qu(s?4:3,e))}(T,"where",Y,"in"===G||"not-in"===G);return On.create(N,G,le)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Vf(a,e,r){const s=e,u=Ff("where",a);return Bc._create(u,s,r)}class jl extends uh{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new jl(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:Un.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,h){let g=u;const T=h.getFlattenedFilters();for(const b of T)$f(g,b),g=or(g,b)}(e._query,r),new ds(e.firestore,e.converter,or(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function bg(a,e,r){if("string"==typeof(r=(0,oe.Ku)(r))){if(""===r)throw new Q(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ur(e)&&-1!==r.indexOf("/"))throw new Q(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(Ct.fromString(r));if(!ht.isDocumentKey(s))throw new Q(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Bi(a,new ht(s))}if(r instanceof Ri)return Bi(a,r._key);throw new Q(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ig(r)}.`)}function Sg(a,e){if(!Array.isArray(a)||0===a.length)throw new Q(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $f(a,e){const r=function(u,h){for(const g of u)for(const T of g.getFlattenedFilters())if(h.indexOf(T.op)>=0)return T.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Q(W.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Hf{convertValue(e,r="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw yt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Ni(e,(u,h)=>{s[u]=this.convertValue(h,r)}),s}convertVectorValue(e){var r,s,u;const h=null===(u=null===(s=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(g=>dr(g.doubleValue));return new Nf(h)}convertGeoPoint(e){return new n_(dr(e.latitude),dr(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=As(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Us(e));default:return null}}convertTimestamp(e){const r=es(e);return new Tn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Ct.fromString(e);wt(C(s));const u=new Ds(s.get(1),s.get(3)),h=new ht(s.popFirst(5));return u.isEqual(r)||Nt(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}class jc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hh extends oh{constructor(e,r,s,u,h,g){super(e,r,s,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Ff("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class fh extends hh{data(e={}){return super.data(e)}}class $c{constructor(e,r,s,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new jc(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new fh(this._firestore,this._userDataWriter,s.key,s,new jc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Q(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let g=0;return u._snapshot.docChanges.map(T=>({type:"added",doc:new fh(u._firestore,u._userDataWriter,T.doc.key,T.doc,new jc(u._snapshot.mutatedKeys.has(T.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:g++}))}{let g=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(T=>h||3!==T.type).map(T=>{const b=new fh(u._firestore,u._userDataWriter,T.doc.key,T.doc,new jc(u._snapshot.mutatedKeys.has(T.doc.key),u._snapshot.fromCache),u.query.converter);let N=-1,G=-1;return 0!==T.type&&(N=g.indexOf(T.doc.key),g=g.delete(T.doc.key)),1!==T.type&&(g=g.add(T.doc),G=g.indexOf(T.doc.key)),{type:da(T.type),doc:b,oldIndex:N,newIndex:G}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function da(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}class Ra extends Hf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ri(this.firestore,null,r)}}function sv(a){a=Wn(a,ds);const e=Wn(a.firestore,Wr),r=hi(e),s=new Ra(e);return function ah(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new Q(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(a._query),zm(r,a._query).then(u=>new $c(e,s,a,u))}function Pa(a,e,r,...s){a=Wn(a,Ri);const u=Wn(a.firestore,Wr),h=cu(u);let g;return g="string"==typeof(e=(0,oe.Ku)(e))||e instanceof $u?function Vl(a,e,r,s,u,h){const g=a.Qu(1,e,r),T=[ih(e,s,r)],b=[u];if(h.length%2!=0)throw new Q(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let le=0;le<h.length;le+=2)T.push(ih(e,h[le])),b.push(h[le+1]);const N=[],G=Ut.empty();for(let le=T.length-1;le>=0;--le)if(!i_(N,T[le])){const Ne=T[le];let tt=b[le];tt=(0,oe.Ku)(tt);const mt=g.Nu(Ne);if(tt instanceof Vc)N.push(Ne);else{const lt=du(tt,mt);null!=lt&&(N.push(Ne),G.set(Ne,lt))}}const Y=new ai(N);return new Qy(G,Y,g.fieldTransforms)}(h,"updateDoc",a._key,e,r,s):function rh(a,e,r,s){const u=a.Qu(1,e,r);Lf("Data must be an object, but it was:",u,s);const h=[],g=Ut.empty();Ni(s,(b,N)=>{const G=Bl(e,b,r);N=(0,oe.Ku)(N);const Y=u.Nu(G);if(N instanceof Vc)h.push(G);else{const le=du(N,Y);null!=le&&(h.push(G),g.set(G,le))}});const T=new ai(h);return new Qy(g,T,u.fieldTransforms)}(h,"updateDoc",a._key,e),ph(u,[g.toMutation(a._key,rn.exists(!0))])}function u_(a){return ph(Wn(a.firestore,Wr),[new vs(a._key,rn.none())])}function ov(a,e){const r=Wn(a.firestore,Wr),s=Wy(a),u=function dh(a,e,r){let s;return s=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,s}(a.converter,e);return ph(r,[lu(cu(a.firestore),"addDoc",s._key,u,null!==a.converter,{}).toMutation(s._key,rn.exists(!1))]).then(()=>s)}function ph(a,e){return function(s,u){const h=new Ie;return s.asyncQueue.enqueueAndForget((0,ie.A)(function*(){return function Ty(a,e,r){return gf.apply(this,arguments)}(yield function Hm(a){return pg(a).then(e=>e.syncEngine)}(s),u,h)})),h.promise}(hi(a),e)}!function(e,r=!0){Vt=Ae.MF,(0,Ae.om)(new vt.uA("firestore",(s,{instanceIdentifier:u,options:h})=>{const g=s.getProvider("app").getImmediate(),T=new Wr(new gn(s.getProvider("auth-internal")),new fi(s.getProvider("app-check-internal")),function(N,G){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new Q(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ds(N.options.projectId,G)}(g,u),g);return h=Object.assign({useFetchStreams:r},h),T._setSettings(h),T},"PUBLIC").setMultipleInstances(!0)),(0,Ae.KO)(_t,"4.7.3",e),(0,Ae.KO)(_t,"4.7.3","esm2017")}();class mh{constructor(e){return e}}const kg="firestore",qf=new fe.nKC("angularfire2.firestore-instances");function __(a){return(e,r)=>{const s=e.runOutsideAngular(()=>a(r));return new mh(s)}}const yv={provide:class Pn{constructor(){return(0,R.CA)(kg)}},deps:[[new fe.Xx1,qf]]},Kf={provide:mh,useFactory:function zl(a,e){const r=(0,R.lR)(kg,a,e);return r&&new mh(r)},deps:[[new fe.Xx1,qf],$e.XU]};let Gl=(()=>{class a{constructor(){(0,Z.KO)("angularfire",R.xv.full,"fst")}static \u0275fac=function(s){return new(s||a)};static \u0275mod=fe.$C({type:a});static \u0275inj=fe.G2t({providers:[Kf,yv]})}return a})();function Lg(a,...e){return{ngModule:Gl,providers:[{provide:qf,useFactory:__(a),multi:!0,deps:[fe.SKi,fe.zZn,R.u0,$e.gL,[new fe.Xx1,Ve.DF],[new fe.Xx1,R.Jv],...e]}]}}const Tv=(0,R.S3)(ov,!0),To=(0,R.S3)(Qm,!0),w_=(0,R.S3)(u_,!0),A_=(0,R.S3)(Wy,!0),Cv=(0,R.S3)(sv,!0),Xf=(0,R.S3)(Pf,!0),Zf=(0,R.S3)(s_,!0),jv=(0,R.S3)(Pa,!0),_h=(0,R.S3)(Vf,!0)},2107:(Xt,nt,X)=>{X.d(nt,{wc:()=>fr,qk:()=>ln,c7:()=>Zs,Xm:()=>Ci,KR:()=>is,D:()=>ti});var R=X(3586),fe=X(540),$e=X(7440),Ve=X(4665),Z=X(2214),ie=X(467),Ae=X(7852),vt=X(1076),We=X(1362);const oe="firebasestorage.googleapis.com",de="storageBucket";class ut extends vt.g{constructor(U,ee,ne=0){super(Ft(U),`Firebase Storage: ${ee} (${Ft(U)})`),this.status_=ne,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(U){this.status_=U}_codeEquals(U){return Ft(U)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(U){this.customData.serverResponse=U,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Dt=function(F){return F.UNKNOWN="unknown",F.OBJECT_NOT_FOUND="object-not-found",F.BUCKET_NOT_FOUND="bucket-not-found",F.PROJECT_NOT_FOUND="project-not-found",F.QUOTA_EXCEEDED="quota-exceeded",F.UNAUTHENTICATED="unauthenticated",F.UNAUTHORIZED="unauthorized",F.UNAUTHORIZED_APP="unauthorized-app",F.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",F.INVALID_CHECKSUM="invalid-checksum",F.CANCELED="canceled",F.INVALID_EVENT_NAME="invalid-event-name",F.INVALID_URL="invalid-url",F.INVALID_DEFAULT_BUCKET="invalid-default-bucket",F.NO_DEFAULT_BUCKET="no-default-bucket",F.CANNOT_SLICE_BLOB="cannot-slice-blob",F.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",F.NO_DOWNLOAD_URL="no-download-url",F.INVALID_ARGUMENT="invalid-argument",F.INVALID_ARGUMENT_COUNT="invalid-argument-count",F.APP_DELETED="app-deleted",F.INVALID_ROOT_OPERATION="invalid-root-operation",F.INVALID_FORMAT="invalid-format",F.INTERNAL_ERROR="internal-error",F.UNSUPPORTED_ENVIRONMENT="unsupported-environment",F}(Dt||{});function Ft(F){return"storage/"+F}function Kt(){return new ut(Dt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Nt(F){return new ut(Dt.INVALID_ARGUMENT,F)}function ft(){return new ut(Dt.APP_DELETED,"The Firebase app was deleted.")}function yt(F,U){return new ut(Dt.INVALID_FORMAT,"String does not match format '"+F+"': "+U)}function wt(F){throw new ut(Dt.INTERNAL_ERROR,"Internal error: "+F)}class we{constructor(U,ee){this.bucket=U,this.path_=ee}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const U=encodeURIComponent;return"/b/"+U(this.bucket)+"/o/"+U(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(U,ee){let ne;try{ne=we.makeFromUrl(U,ee)}catch{return new we(U,"")}if(""===ne.path)return ne;throw function Xe(F){return new ut(Dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+F+"'.")}(U)}static makeFromUrl(U,ee){let ne=null;const ve="([A-Za-z0-9.\\-_]+)",Ot=new RegExp("^gs://"+ve+"(/(.*))?$","i");function wn(Br){Br.path_=decodeURIComponent(Br.path)}const Sr=ee.replace(/[.]/g,"\\."),or=[{regex:Ot,indices:{bucket:1,path:3},postModify:function je(Br){"/"===Br.path.charAt(Br.path.length-1)&&(Br.path_=Br.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Sr}/v[A-Za-z0-9_]+/b/${ve}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:wn},{regex:new RegExp(`^https?://${ee===oe?"(?:storage.googleapis.com|storage.cloud.google.com)":ee}/${ve}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:wn}];for(let Br=0;Br<or.length;Br++){const bs=or[Br],_s=bs.regex.exec(U);if(_s){let zi=_s[bs.indices.path];zi||(zi=""),ne=new we(_s[bs.indices.bucket],zi),bs.postModify(ne);break}}if(null==ne)throw function _t(F){return new ut(Dt.INVALID_URL,"Invalid URL '"+F+"'.")}(U);return ne}}class se{constructor(U){this.promise_=Promise.reject(U)}getPromise(){return this.promise_}cancel(U=!1){}}function ct(F){return"string"==typeof F||F instanceof String}function gn(F){return Ht()&&F instanceof Blob}function Ht(){return typeof Blob<"u"}function Mn(F,U,ee,ne){if(ne<U)throw Nt(`Invalid value for '${F}'. Expected ${U} or greater.`);if(ne>ee)throw Nt(`Invalid value for '${F}'. Expected ${ee} or less.`)}function fn(F,U,ee){let ne=U;return null==ee&&(ne=`https://${U}`),`${ee}://${ne}/v0${F}`}function fi(F){const U=encodeURIComponent;let ee="?";for(const ne in F)F.hasOwnProperty(ne)&&(ee=ee+(U(ne)+"=")+U(F[ne])+"&");return ee=ee.slice(0,-1),ee}var an=function(F){return F[F.NO_ERROR=0]="NO_ERROR",F[F.NETWORK_ERROR=1]="NETWORK_ERROR",F[F.ABORT=2]="ABORT",F}(an||{});class Zn{constructor(U,ee,ne,ve,je,gt,Ot,kt,wn,vn,Sr,Er=!0){this.url_=U,this.method_=ee,this.headers_=ne,this.body_=ve,this.successCodes_=je,this.additionalRetryCodes_=gt,this.callback_=Ot,this.errorCallback_=kt,this.timeout_=wn,this.progressCallback_=vn,this.connectionFactory_=Sr,this.retry=Er,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Vr,Ur)=>{this.resolve_=Vr,this.reject_=Ur,this.start_()})}start_(){const ee=(ne,ve)=>{const je=this.resolve_,gt=this.reject_,Ot=ve.connection;if(ve.wasSuccessCode)try{const kt=this.callback_(Ot,Ot.getResponse());!function Ie(F){return void 0!==F}(kt)?je():je(kt)}catch(kt){gt(kt)}else if(null!==Ot){const kt=Kt();kt.serverResponse=Ot.getErrorText(),gt(this.errorCallback_?this.errorCallback_(Ot,kt):kt)}else gt(ve.canceled?this.appDelete_?ft():function Mt(){return new ut(Dt.CANCELED,"User canceled the upload/download.")}():function At(){return new ut(Dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?ee(0,new Ze(!1,null,!0)):this.backoffId_=function W(F,U,ee){let ne=1,ve=null,je=null,gt=!1,Ot=0;function kt(){return 2===Ot}let wn=!1;function vn(...Rn){wn||(wn=!0,U.apply(null,Rn))}function Sr(Rn){ve=setTimeout(()=>{ve=null,F(Vr,kt())},Rn)}function Er(){je&&clearTimeout(je)}function Vr(Rn,...Hi){if(wn)return void Er();if(Rn)return Er(),void vn.call(null,Rn,...Hi);if(kt()||gt)return Er(),void vn.call(null,Rn,...Hi);let or;ne<64&&(ne*=2),1===Ot?(Ot=2,or=0):or=1e3*(ne+Math.random()),Sr(or)}let Ur=!1;function ni(Rn){Ur||(Ur=!0,Er(),!wn&&(null!==ve?(Rn||(Ot=2),clearTimeout(ve),Sr(0)):Rn||(Ot=1)))}return Sr(0),je=setTimeout(()=>{gt=!0,ni(!0)},ee),ni}((ne,ve)=>{if(ve)return void ne(!1,new Ze(!1,null,!0));const je=this.connectionFactory_();this.pendingConnection_=je;const gt=Ot=>{null!==this.progressCallback_&&this.progressCallback_(Ot.loaded,Ot.lengthComputable?Ot.total:-1)};null!==this.progressCallback_&&je.addUploadProgressListener(gt),je.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&je.removeUploadProgressListener(gt),this.pendingConnection_=null;const Ot=je.getErrorCode()===an.NO_ERROR,kt=je.getStatus();if(!Ot||function Dr(F,U){const ee=F>=500&&F<600,ve=-1!==[408,429].indexOf(F),je=-1!==U.indexOf(F);return ee||ve||je}(kt,this.additionalRetryCodes_)&&this.retry){const vn=je.getErrorCode()===an.ABORT;return void ne(!1,new Ze(!1,null,vn))}const wn=-1!==this.successCodes_.indexOf(kt);ne(!0,new Ze(wn,je))})},ee,this.timeout_)}getPromise(){return this.promise_}cancel(U){this.canceled_=!0,this.appDelete_=U||!1,null!==this.backoffId_&&function Q(F){F(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ze{constructor(U,ee,ne){this.wasSuccessCode=U,this.connection=ee,this.canceled=!!ne}}function un(...F){const U=function Ct(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==U){const ee=new U;for(let ne=0;ne<F.length;ne++)ee.append(F[ne]);return ee.getBlob()}if(Ht())return new Blob(F);throw new ut(Dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const kn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class er{constructor(U,ee){this.data=U,this.contentType=ee||null}}function Li(F){const U=[];for(let ee=0;ee<F.length;ee++){let ne=F.charCodeAt(ee);ne<=127?U.push(ne):ne<=2047?U.push(192|ne>>6,128|63&ne):55296==(64512&ne)?ee<F.length-1&&56320==(64512&F.charCodeAt(ee+1))?(ne=65536|(1023&ne)<<10|1023&F.charCodeAt(++ee),U.push(240|ne>>18,128|ne>>12&63,128|ne>>6&63,128|63&ne)):U.push(239,191,189):56320==(64512&ne)?U.push(239,191,189):U.push(224|ne>>12,128|ne>>6&63,128|63&ne)}return new Uint8Array(U)}function Qs(F,U){switch(F){case kn.BASE64:{const ve=-1!==U.indexOf("-"),je=-1!==U.indexOf("_");if(ve||je)throw yt(F,"Invalid character '"+(ve?"-":"_")+"' found: is it base64url encoded?");break}case kn.BASE64URL:{const ve=-1!==U.indexOf("+"),je=-1!==U.indexOf("/");if(ve||je)throw yt(F,"Invalid character '"+(ve?"+":"/")+"' found: is it base64 encoded?");U=U.replace(/-/g,"+").replace(/_/g,"/");break}}let ee;try{ee=function ht(F){if(typeof atob>"u")throw function ye(F){return new ut(Dt.UNSUPPORTED_ENVIRONMENT,`${F} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(F)}(U)}catch(ve){throw ve.message.includes("polyfill")?ve:yt(F,"Invalid character found")}const ne=new Uint8Array(ee.length);for(let ve=0;ve<ee.length;ve++)ne[ve]=ee.charCodeAt(ve);return ne}class St{constructor(U){this.base64=!1,this.contentType=null;const ee=U.match(/^data:([^,]+)?,/);if(null===ee)throw yt(kn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ne=ee[1]||null;null!=ne&&(this.base64=function $n(F,U){return F.length>=U.length&&F.substring(F.length-U.length)===U}(ne,";base64"),this.contentType=this.base64?ne.substring(0,ne.length-7):ne),this.rest=U.substring(U.indexOf(",")+1)}}class Cr{constructor(U,ee){let ne=0,ve="";gn(U)?(this.data_=U,ne=U.size,ve=U.type):U instanceof ArrayBuffer?(ee?this.data_=new Uint8Array(U):(this.data_=new Uint8Array(U.byteLength),this.data_.set(new Uint8Array(U))),ne=this.data_.length):U instanceof Uint8Array&&(ee?this.data_=U:(this.data_=new Uint8Array(U.length),this.data_.set(U)),ne=U.length),this.size_=ne,this.type_=ve}size(){return this.size_}type(){return this.type_}slice(U,ee){if(gn(this.data_)){const ve=function En(F,U,ee){return F.webkitSlice?F.webkitSlice(U,ee):F.mozSlice?F.mozSlice(U,ee):F.slice?F.slice(U,ee):null}(this.data_,U,ee);return null===ve?null:new Cr(ve)}{const ne=new Uint8Array(this.data_.buffer,U,ee-U);return new Cr(ne,!0)}}static getBlob(...U){if(Ht()){const ee=U.map(ne=>ne instanceof Cr?ne.data_:ne);return new Cr(un.apply(null,ee))}{const ee=U.map(gt=>ct(gt)?function nr(F,U){switch(F){case kn.RAW:return new er(Li(U));case kn.BASE64:case kn.BASE64URL:return new er(Qs(F,U));case kn.DATA_URL:return new er(function Xi(F){const U=new St(F);return U.base64?Qs(kn.BASE64,U.rest):function mn(F){let U;try{U=decodeURIComponent(F)}catch{throw yt(kn.DATA_URL,"Malformed data URL.")}return Li(U)}(U.rest)}(U),function wi(F){return new St(F).contentType}(U))}throw Kt()}(kn.RAW,gt).data:gt.data_);let ne=0;ee.forEach(gt=>{ne+=gt.byteLength});const ve=new Uint8Array(ne);let je=0;return ee.forEach(gt=>{for(let Ot=0;Ot<gt.length;Ot++)ve[je++]=gt[Ot]}),new Cr(ve,!0)}}uploadData(){return this.data_}}function Kn(F){let U;try{U=JSON.parse(F)}catch{return null}return function et(F){return"object"==typeof F&&!Array.isArray(F)}(U)?U:null}function Fi(F){const U=F.lastIndexOf("/",F.length-2);return-1===U?F:F.slice(U+1)}function he(F,U){return U}class rr{constructor(U,ee,ne,ve){this.server=U,this.local=ee||U,this.writable=!!ne,this.xform=ve||he}}let ur=null;function pi(){if(ur)return ur;const F=[];F.push(new rr("bucket")),F.push(new rr("generation")),F.push(new rr("metageneration")),F.push(new rr("name","fullPath",!0));const ee=new rr("name");ee.xform=function U(je,gt){return function ps(F){return!ct(F)||F.length<2?F:Fi(F)}(gt)},F.push(ee);const ve=new rr("size");return ve.xform=function ne(je,gt){return void 0!==gt?Number(gt):gt},F.push(ve),F.push(new rr("timeCreated")),F.push(new rr("updated")),F.push(new rr("md5Hash",null,!0)),F.push(new rr("cacheControl",null,!0)),F.push(new rr("contentDisposition",null,!0)),F.push(new rr("contentEncoding",null,!0)),F.push(new rr("contentLanguage",null,!0)),F.push(new rr("contentType",null,!0)),F.push(new rr("metadata","customMetadata",!0)),ur=F,ur}function k(F,U,ee){const ne=Kn(U);return null===ne?null:function j(F,U,ee){const ne={type:"file"},ve=ee.length;for(let je=0;je<ve;je++){const gt=ee[je];ne[gt.local]=gt.xform(ne,U[gt.server])}return function Be(F,U){Object.defineProperty(F,"ref",{get:function ee(){const je=new we(F.bucket,F.fullPath);return U._makeStorageReference(je)}})}(ne,F),ne}(F,ne,ee)}class en{constructor(U,ee,ne,ve){this.url=U,this.method=ee,this.handler=ne,this.timeout=ve,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tn(F){if(!F)throw Kt()}function _r(F){return function U(ee,ne){let ve;return ve=401===ee.getStatus()?ee.getErrorText().includes("Firebase App Check token is invalid")?function st(){return new ut(Dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ze(){return new ut(Dt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ee.getStatus()?function Yn(F){return new ut(Dt.QUOTA_EXCEEDED,"Quota for bucket '"+F+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(F.bucket):403===ee.getStatus()?function Qe(F){return new ut(Dt.UNAUTHORIZED,"User does not have permission to access '"+F+"'.")}(F.path):ne,ve.status=ee.getStatus(),ve.serverResponse=ne.serverResponse,ve}}function Ke(F,U,ee,ne,ve){const je=U.bucketOnlyServerUrl(),gt={"X-Goog-Upload-Protocol":"multipart"},kt=function Ot(){let or="";for(let Br=0;Br<2;Br++)or+=Math.random().toString().slice(2);return or}();gt["Content-Type"]="multipart/related; boundary="+kt;const wn=function Ee(F,U,ee){const ne=Object.assign({},ee);return ne.fullPath=F.path,ne.size=U.size(),ne.contentType||(ne.contentType=function Fe(F,U){return F&&F.contentType||U&&U.type()||"application/octet-stream"}(null,U)),ne}(U,ne,ve),vn=function ue(F,U){const ee={},ne=U.length;for(let ve=0;ve<ne;ve++){const je=U[ve];je.writable&&(ee[je.server]=F[je.local])}return JSON.stringify(ee)}(wn,ee),Vr=Cr.getBlob("--"+kt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+vn+"\r\n--"+kt+"\r\nContent-Type: "+wn.contentType+"\r\n\r\n",ne,"\r\n--"+kt+"--");if(null===Vr)throw function Dn(){return new ut(Dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const Ur={name:wn.fullPath},ni=fn(je,F.host,F._protocol),Hi=F.maxUploadRetryTime,ui=new en(ni,"POST",function mr(F,U){return function ee(ne,ve){const je=k(F,ve,U);return tn(null!==je),je}}(F,ee),Hi);return ui.urlParams=Ur,ui.headers=gt,ui.body=Vr.uploadData(),ui.errorHandler=_r(U),ui}let Mi=null;class xi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=an.NO_ERROR,this.sendPromise_=new Promise(U=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=an.ABORT,U()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=an.NETWORK_ERROR,U()}),this.xhr_.addEventListener("load",()=>{U()})})}send(U,ee,ne,ve){if(this.sent_)throw wt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ee,U,!0),void 0!==ve)for(const je in ve)ve.hasOwnProperty(je)&&this.xhr_.setRequestHeader(je,ve[je].toString());return void 0!==ne?this.xhr_.send(ne):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(U){return this.xhr_.getResponseHeader(U)}addUploadProgressListener(U){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",U)}removeUploadProgressListener(U){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",U)}}class Zi extends xi{initXhr(){this.xhr_.responseType="text"}}function oi(){return Mi?Mi():new Zi}class Jr{constructor(U,ee){this._service=U,this._location=ee instanceof we?ee:we.makeFromUrl(ee,U.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(U,ee){return new Jr(U,ee)}get root(){const U=new we(this._location.bucket,"");return this._newRef(this._service,U)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fi(this._location.path)}get storage(){return this._service}get parent(){const U=function jt(F){if(0===F.length)return null;const U=F.lastIndexOf("/");return-1===U?"":F.slice(0,U)}(this._location.path);if(null===U)return null;const ee=new we(this._location.bucket,U);return new Jr(this._service,ee)}_throwIfRoot(U){if(""===this._location.path)throw function Yt(F){return new ut(Dt.INVALID_ROOT_OPERATION,"The operation '"+F+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(U)}}function ma(F){F._throwIfRoot("getDownloadURL");const U=function ho(F,U,ee){const ve=fn(U.fullServerUrl(),F.host,F._protocol),gt=F.maxOperationRetryTime,Ot=new en(ve,"GET",function Xr(F,U){return function ee(ne,ve){const je=k(F,ve,U);return tn(null!==je),function z(F,U,ee,ne){const ve=Kn(U);if(null===ve||!ct(ve.downloadTokens))return null;const je=ve.downloadTokens;if(0===je.length)return null;const gt=encodeURIComponent;return je.split(",").map(wn=>{const Sr=F.fullPath;return fn("/b/"+gt(F.bucket)+"/o/"+gt(Sr),ee,ne)+fi({alt:"media",token:wn})})[0]}(je,ve,F.host,F._protocol)}}(F,ee),gt);return Ot.errorHandler=function $r(F){const U=_r(F);return function ee(ne,ve){let je=U(ne,ve);return 404===ne.getStatus()&&(je=function An(F){return new ut(Dt.OBJECT_NOT_FOUND,"Object '"+F+"' does not exist.")}(F.path)),je.serverResponse=ve.serverResponse,je}}(U),Ot}(F.storage,F._location,pi());return F.storage.makeRequestWithTokens(U,oi).then(ee=>{if(null===ee)throw function ot(){return new ut(Dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ee})}function As(F,U){if(F instanceof Oi){const ee=F;if(null==ee._bucket)throw function Vt(){return new ut(Dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+de+"' property when initializing the app?")}();const ne=new Jr(ee,ee._bucket);return null!=U?As(ne,U):ne}return void 0!==U?function dr(F,U){const ee=function Qr(F,U){const ee=U.split("/").filter(ne=>ne.length>0).join("/");return 0===F.length?ee:F+"/"+ee}(F._location.path,U),ne=new we(F._location.bucket,ee);return new Jr(F.storage,ne)}(F,U):F}function Xs(F,U){const ee=U?.[de];return null==ee?null:we.makeFromBucketSpec(ee,F)}class Oi{constructor(U,ee,ne,ve,je){this.app=U,this._authProvider=ee,this._appCheckProvider=ne,this._url=ve,this._firebaseVersion=je,this._bucket=null,this._host=oe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ve?we.makeFromBucketSpec(ve,this._host):Xs(this._host,this.app.options)}get host(){return this._host}set host(U){this._host=U,this._bucket=null!=this._url?we.makeFromBucketSpec(this._url,U):Xs(U,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(U){Mn("time",0,Number.POSITIVE_INFINITY,U),this._maxUploadRetryTime=U}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(U){Mn("time",0,Number.POSITIVE_INFINITY,U),this._maxOperationRetryTime=U}_getAuthToken(){var U=this;return(0,ie.A)(function*(){if(U._overrideAuthToken)return U._overrideAuthToken;const ee=U._authProvider.getImmediate({optional:!0});if(ee){const ne=yield ee.getToken();if(null!==ne)return ne.accessToken}return null})()}_getAppCheckToken(){var U=this;return(0,ie.A)(function*(){const ee=U._appCheckProvider.getImmediate({optional:!0});return ee?(yield ee.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(U=>U.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(U){return new Jr(this,U)}_makeRequest(U,ee,ne,ve,je=!0){if(this._deleted)return new se(ft());{const gt=function gr(F,U,ee,ne,ve,je,gt=!0){const Ot=fi(F.urlParams),kt=F.url+Ot,wn=Object.assign({},F.headers);return function Tn(F,U){U&&(F["X-Firebase-GMPID"]=U)}(wn,U),function Lr(F,U){null!==U&&U.length>0&&(F.Authorization="Firebase "+U)}(wn,ee),function Jt(F,U){F["X-Firebase-Storage-Version"]="webjs/"+(U??"AppManager")}(wn,je),function pt(F,U){null!==U&&(F["X-Firebase-AppCheck"]=U)}(wn,ne),new Zn(kt,F.method,wn,F.body,F.successCodes,F.additionalRetryCodes,F.handler,F.errorHandler,F.timeout,F.progressCallback,ve,gt)}(U,this._appId,ne,ve,ee,this._firebaseVersion,je);return this._requests.add(gt),gt.getPromise().then(()=>this._requests.delete(gt),()=>this._requests.delete(gt)),gt}}makeRequestWithTokens(U,ee){var ne=this;return(0,ie.A)(function*(){const[ve,je]=yield Promise.all([ne._getAuthToken(),ne._getAppCheckToken()]);return ne._makeRequest(U,ee,ve,je).getPromise()})()}}const ts="@firebase/storage",mi="storage";function Nn(F,U,ee){return function Nr(F,U,ee){F._throwIfRoot("uploadBytes");const ne=Ke(F.storage,F._location,pi(),new Cr(U,!0),ee);return F.storage.makeRequestWithTokens(ne,oi).then(ve=>({metadata:ve,ref:F}))}(F=(0,vt.Ku)(F),U,ee)}function go(F){return ma(F=(0,vt.Ku)(F))}function lr(F,U){return function Us(F,U){if(U&&function Ai(F){return/^[A-Za-z]+:\/\//.test(F)}(U)){if(F instanceof Oi)return function Vs(F,U){return new Jr(F,U)}(F,U);throw Nt("To use ref(service, url), the first argument must be a Storage instance.")}return As(F,U)}(F=(0,vt.Ku)(F),U)}function nn(F=(0,Ae.Sx)(),U){F=(0,vt.Ku)(F);const ne=(0,Ae.j6)(F,mi).getImmediate({identifier:U}),ve=(0,vt.yU)("storage");return ve&&function sr(F,U,ee,ne={}){!function Ds(F,U,ee,ne={}){F.host=`${U}:${ee}`,F._protocol="http";const{mockUserToken:ve}=ne;ve&&(F._overrideAuthToken="string"==typeof ve?ve:(0,vt.Fy)(ve,F.app.options.projectId))}(F,U,ee,ne)}(ne,...ve),ne}function hr(F,{instanceIdentifier:U}){const ee=F.getProvider("app").getImmediate(),ne=F.getProvider("auth-internal"),ve=F.getProvider("app-check-internal");return new Oi(ee,ne,ve,U,Ae.MF)}!function ji(){(0,Ae.om)(new We.uA(mi,hr,"PUBLIC").setMultipleInstances(!0)),(0,Ae.KO)(ts,"0.13.2",""),(0,Ae.KO)(ts,"0.13.2","esm2017")}();class fr{constructor(U){return U}}const Di="storage",rs=new fe.nKC("angularfire2.storage-instances");function _i(F){return(U,ee)=>{const ne=U.runOutsideAngular(()=>F(ee));return new fr(ne)}}const pr={provide:class $i{constructor(){return(0,R.CA)(Di)}},deps:[[new fe.Xx1,rs]]},Ys={provide:fr,useFactory:function tr(F,U){const ee=(0,R.lR)(Di,F,U);return ee&&new fr(ee)},deps:[[new fe.Xx1,rs],$e.XU]};let yi=(()=>{class F{constructor(){(0,Z.KO)("angularfire",R.xv.full,"gcs")}static \u0275fac=function(ne){return new(ne||F)};static \u0275mod=fe.$C({type:F});static \u0275inj=fe.G2t({providers:[Ys,pr]})}return F})();function Ci(F,...U){return{ngModule:yi,providers:[{provide:rs,useFactory:_i(F),multi:!0,deps:[fe.SKi,fe.zZn,R.u0,$e.gL,[new fe.Xx1,Ve.DF],[new fe.Xx1,R.Jv],...U]}]}}const ln=(0,R.S3)(go,!0),Zs=(0,R.S3)(nn,!0),is=(0,R.S3)(lr,!0),ti=(0,R.S3)(Nn,!0)},3586:(Xt,nt,X)=>{X.d(nt,{xv:()=>ze,u0:()=>kr,Jv:()=>Mt,CA:()=>At,lR:()=>Qe,S3:()=>se});var R=X(540),fe=X(2214),$e=X(8359);class Ve extends $e.yU{constructor(Q,Ie){super()}schedule(Q,Ie=0){return this}}const Z={setInterval(W,Q,...Ie){const{delegate:Pe}=Z;return Pe?.setInterval?Pe.setInterval(W,Q,...Ie):setInterval(W,Q,...Ie)},clearInterval(W){const{delegate:Q}=Z;return(Q?.clearInterval||clearInterval)(W)},delegate:void 0};var ie=X(7908);class Ae extends Ve{constructor(Q,Ie){super(Q,Ie),this.scheduler=Q,this.work=Ie,this.pending=!1}schedule(Q,Ie=0){var Pe;if(this.closed)return this;this.state=Q;const et=this.id,ct=this.scheduler;return null!=et&&(this.id=this.recycleAsyncId(ct,et,Ie)),this.pending=!0,this.delay=Ie,this.id=null!==(Pe=this.id)&&void 0!==Pe?Pe:this.requestAsyncId(ct,this.id,Ie),this}requestAsyncId(Q,Ie,Pe=0){return Z.setInterval(Q.flush.bind(Q,this),Pe)}recycleAsyncId(Q,Ie,Pe=0){if(null!=Pe&&this.delay===Pe&&!1===this.pending)return Ie;null!=Ie&&Z.clearInterval(Ie)}execute(Q,Ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Pe=this._execute(Q,Ie);if(Pe)return Pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,Ie){let et,Pe=!1;try{this.work(Q)}catch(ct){Pe=!0,et=ct||new Error("Scheduled action threw falsy error")}if(Pe)return this.unsubscribe(),et}unsubscribe(){if(!this.closed){const{id:Q,scheduler:Ie}=this,{actions:Pe}=Ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.o)(Pe,this),null!=Q&&(this.id=this.recycleAsyncId(Ie,Q,null)),this.delay=null,super.unsubscribe()}}}const We={now:()=>(We.delegate||Date).now(),delegate:void 0};class oe{constructor(Q,Ie=oe.now){this.schedulerActionCtor=Q,this.now=Ie}schedule(Q,Ie=0,Pe){return new this.schedulerActionCtor(this,Q).schedule(Pe,Ie)}}oe.now=We.now;class de extends oe{constructor(Q,Ie=oe.now){super(Q,Ie),this.actions=[],this._active=!1}flush(Q){const{actions:Ie}=this;if(this._active)return void Ie.push(Q);let Pe;this._active=!0;do{if(Pe=Q.execute(Q.state,Q.delay))break}while(Q=Ie.shift());if(this._active=!1,Pe){for(;Q=Ie.shift();)Q.unsubscribe();throw Pe}}}const at=new class Le extends de{}(class vt extends Ae{constructor(Q,Ie){super(Q,Ie),this.scheduler=Q,this.work=Ie}schedule(Q,Ie=0){return Ie>0?super.schedule(Q,Ie):(this.delay=Ie,this.state=Q,this.scheduler.flush(this),this)}execute(Q,Ie){return Ie>0||this.closed?super.execute(Q,Ie):this._execute(Q,Ie)}requestAsyncId(Q,Ie,Pe=0){return null!=Pe&&Pe>0||null==Pe&&this.delay>0?super.requestAsyncId(Q,Ie,Pe):(Q.flush(this),0)}}),ut=new de(Ae);var Ft=X(1985),Kt=X(8141),An=X(6745),Yn=X(941);const ze=new R.RxE("ANGULARFIRE2_VERSION");function Qe(W,Q,Ie){if(Q){if(1===Q.length)return Q[0];const ct=Q.filter(gn=>gn.app===Ie);if(1===ct.length)return ct[0]}return Ie.container.getProvider(W).getImmediate({optional:!0})}const At=(W,Q)=>{const Ie=Q?[Q]:(0,fe.Dk)(),Pe=[];return Ie.forEach(et=>{et.container.getProvider(W).instances.forEach(gn=>{Pe.includes(gn)||Pe.push(gn)})}),Pe};class Mt{constructor(){return At(_t)}}const _t="app-check";function Xe(){}class Vt{zone;delegate;constructor(Q,Ie=at){this.zone=Q,this.delegate=Ie}now(){return this.delegate.now()}schedule(Q,Ie,Pe){const et=this.zone;return this.delegate.schedule(function(gn){et.runGuarded(()=>{Q.apply(this,[gn])})},Ie,Pe)}}class Dn{zone;task=null;constructor(Q){this.zone=Q}call(Q,Ie){const Pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xe,{},Xe,Xe)),Ie.pipe((0,Kt.M)({next:Pe,complete:Pe,error:Pe})).subscribe(Q).add(Pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let kr=(()=>{class W{ngZone;outsideAngular;insideAngular;constructor(Ie){this.ngZone=Ie,this.outsideAngular=Ie.runOutsideAngular(()=>new Vt(Zone.current)),this.insideAngular=Ie.run(()=>new Vt(Zone.current,ut)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Pe){return new(Pe||W)(R.KVO(R.SKi))};static \u0275prov=R.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})();function ot(){const W=globalThis.\u0275AngularFireScheduler;if(!W)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return W}function Nt(W){return ot().ngZone.run(()=>W())}function yt(W){return function wt(W){return function(Ie){return(Ie=Ie.lift(new Dn(W.ngZone))).pipe((0,An._)(W.outsideAngular),(0,Yn.Q)(W.insideAngular))}}(ot())(W)}const we=(W,Q)=>function(){const Pe=arguments;return Q&&setTimeout(()=>{"scheduled"===Q.state&&Q.invoke()},10),Nt(()=>W.apply(void 0,Pe))},se=(W,Q)=>function(){let Ie;const Pe=arguments;for(let ct=0;ct<arguments.length;ct++)"function"==typeof Pe[ct]&&(Q&&(Ie||=Nt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xe,{},Xe,Xe))),Pe[ct]=we(Pe[ct],Ie));const et=function ye(W){return ot().ngZone.runOutsideAngular(()=>W())}(()=>W.apply(this,Pe));if(!Q){if(et instanceof Ft.c){const ct=ot();return et.pipe((0,An._)(ct.outsideAngular),(0,Yn.Q)(ct.insideAngular))}return Nt(()=>et)}return et instanceof Ft.c?et.pipe(yt):et instanceof Promise?Nt(()=>new Promise((ct,gn)=>et.then(Ht=>Nt(()=>ct(Ht)),Ht=>Nt(()=>gn(Ht))))):"function"==typeof et&&Ie?function(){return setTimeout(()=>{Ie&&"scheduled"===Ie.state&&Ie.invoke()},10),et.apply(this,arguments)}:Nt(()=>et)}},345:(Xt,nt,X)=>{X.d(nt,{Bb:()=>an,hE:()=>Jt,sG:()=>Ht});var R=X(540),fe=X(177);class $e extends fe.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ve extends $e{static makeCurrent(){(0,fe.ZD)(new Ve)}onAndCancel(j,k,z){return j.addEventListener(k,z),()=>{j.removeEventListener(k,z)}}dispatchEvent(j,k){j.dispatchEvent(k)}remove(j){j.parentNode&&j.parentNode.removeChild(j)}createElement(j,k){return(k=k||this.getDefaultDocument()).createElement(j)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(j){return j.nodeType===Node.ELEMENT_NODE}isShadowRoot(j){return j instanceof DocumentFragment}getGlobalEventTarget(j,k){return"window"===k?window:"document"===k?j:"body"===k?j.body:null}getBaseHref(j){const k=function ie(){return Z=Z||document.querySelector("base"),Z?Z.getAttribute("href"):null}();return null==k?null:function vt(Be){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",Be);const j=Ae.pathname;return"/"===j.charAt(0)?j:`/${j}`}(k)}resetBaseElement(){Z=null}getUserAgent(){return window.navigator.userAgent}getCookie(j){return(0,fe._b)(document.cookie,j)}}let Ae,Z=null,oe=(()=>{class Be{build(){return new XMLHttpRequest}static{this.\u0275fac=function(z){return new(z||Be)}}static{this.\u0275prov=R.jDH({token:Be,factory:Be.\u0275fac})}}return Be})();const de=new R.nKC("EventManagerPlugins");let Le=(()=>{class Be{constructor(k,z){this._zone=z,this._eventNameToPlugin=new Map,k.forEach(ue=>{ue.manager=this}),this._plugins=k.slice().reverse()}addEventListener(k,z,ue){return this._findPluginFor(z).addEventListener(k,z,ue)}getZone(){return this._zone}_findPluginFor(k){let z=this._eventNameToPlugin.get(k);if(z)return z;if(z=this._plugins.find(ce=>ce.supports(k)),!z)throw new R.wOt(5101,!1);return this._eventNameToPlugin.set(k,z),z}static{this.\u0275fac=function(z){return new(z||Be)(R.KVO(de),R.KVO(R.SKi))}}static{this.\u0275prov=R.jDH({token:Be,factory:Be.\u0275fac})}}return Be})();class at{constructor(j){this._doc=j}}const He="ng-app-id";let ut=(()=>{class Be{constructor(k,z,ue,ce={}){this.doc=k,this.appId=z,this.nonce=ue,this.platformId=ce,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,fe.Vy)(ce),this.resetHostNodes()}addStyles(k){for(const z of k)1===this.changeUsageCount(z,1)&&this.onStyleAdded(z)}removeStyles(k){for(const z of k)this.changeUsageCount(z,-1)<=0&&this.onStyleRemoved(z)}ngOnDestroy(){const k=this.styleNodesInDOM;k&&(k.forEach(z=>z.remove()),k.clear());for(const z of this.getAllStyles())this.onStyleRemoved(z);this.resetHostNodes()}addHost(k){this.hostNodes.add(k);for(const z of this.getAllStyles())this.addStyleToHost(k,z)}removeHost(k){this.hostNodes.delete(k)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(k){for(const z of this.hostNodes)this.addStyleToHost(z,k)}onStyleRemoved(k){const z=this.styleRef;z.get(k)?.elements?.forEach(ue=>ue.remove()),z.delete(k)}collectServerRenderedStyles(){const k=this.doc.head?.querySelectorAll(`style[${He}="${this.appId}"]`);if(k?.length){const z=new Map;return k.forEach(ue=>{null!=ue.textContent&&z.set(ue.textContent,ue)}),z}return null}changeUsageCount(k,z){const ue=this.styleRef;if(ue.has(k)){const ce=ue.get(k);return ce.usage+=z,ce.usage}return ue.set(k,{usage:z,elements:[]}),z}getStyleElement(k,z){const ue=this.styleNodesInDOM,ce=ue?.get(z);if(ce?.parentNode===k)return ue.delete(z),ce.removeAttribute(He),ce;{const Ge=this.doc.createElement("style");return this.nonce&&Ge.setAttribute("nonce",this.nonce),Ge.textContent=z,this.platformIsServer&&Ge.setAttribute(He,this.appId),Ge}}addStyleToHost(k,z){const ue=this.getStyleElement(k,z);k.appendChild(ue);const ce=this.styleRef,Ge=ce.get(z)?.elements;Ge?Ge.push(ue):ce.set(z,{elements:[ue],usage:1})}resetHostNodes(){const k=this.hostNodes;k.clear(),k.add(this.doc.head)}static{this.\u0275fac=function(z){return new(z||Be)(R.KVO(fe.qQ),R.KVO(R.sZ2),R.KVO(R.BIS,8),R.KVO(R.Agw))}}static{this.\u0275prov=R.jDH({token:Be,factory:Be.\u0275fac})}}return Be})();const Dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ft=/%COMP%/g,st=new R.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Mt(Be,j){return j.map(k=>k.replace(Ft,Be))}let _t=(()=>{class Be{constructor(k,z,ue,ce,Ge,It,bt,en=null){this.eventManager=k,this.sharedStylesHost=z,this.appId=ue,this.removeStylesOnCompDestroy=ce,this.doc=Ge,this.platformId=It,this.ngZone=bt,this.nonce=en,this.rendererByCompId=new Map,this.platformIsServer=(0,fe.Vy)(It),this.defaultRenderer=new Xe(k,Ge,bt,this.platformIsServer)}createRenderer(k,z){if(!k||!z)return this.defaultRenderer;this.platformIsServer&&z.encapsulation===R.gXe.ShadowDom&&(z={...z,encapsulation:R.gXe.Emulated});const ue=this.getOrCreateRenderer(k,z);return ue instanceof Nt?ue.applyToHost(k):ue instanceof ye&&ue.applyStyles(),ue}getOrCreateRenderer(k,z){const ue=this.rendererByCompId;let ce=ue.get(z.id);if(!ce){const Ge=this.doc,It=this.ngZone,bt=this.eventManager,en=this.sharedStylesHost,tn=this.removeStylesOnCompDestroy,mr=this.platformIsServer;switch(z.encapsulation){case R.gXe.Emulated:ce=new Nt(bt,en,z,this.appId,tn,Ge,It,mr);break;case R.gXe.ShadowDom:return new ot(bt,en,k,z,Ge,It,this.nonce,mr);default:ce=new ye(bt,en,z,tn,Ge,It,mr)}ue.set(z.id,ce)}return ce}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(z){return new(z||Be)(R.KVO(Le),R.KVO(ut),R.KVO(R.sZ2),R.KVO(st),R.KVO(fe.qQ),R.KVO(R.Agw),R.KVO(R.SKi),R.KVO(R.BIS))}}static{this.\u0275prov=R.jDH({token:Be,factory:Be.\u0275fac})}}return Be})();class Xe{constructor(j,k,z,ue){this.eventManager=j,this.doc=k,this.ngZone=z,this.platformIsServer=ue,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(j,k){return k?this.doc.createElementNS(Dt[k]||k,j):this.doc.createElement(j)}createComment(j){return this.doc.createComment(j)}createText(j){return this.doc.createTextNode(j)}appendChild(j,k){(kr(j)?j.content:j).appendChild(k)}insertBefore(j,k,z){j&&(kr(j)?j.content:j).insertBefore(k,z)}removeChild(j,k){j&&j.removeChild(k)}selectRootElement(j,k){let z="string"==typeof j?this.doc.querySelector(j):j;if(!z)throw new R.wOt(-5104,!1);return k||(z.textContent=""),z}parentNode(j){return j.parentNode}nextSibling(j){return j.nextSibling}setAttribute(j,k,z,ue){if(ue){k=ue+":"+k;const ce=Dt[ue];ce?j.setAttributeNS(ce,k,z):j.setAttribute(k,z)}else j.setAttribute(k,z)}removeAttribute(j,k,z){if(z){const ue=Dt[z];ue?j.removeAttributeNS(ue,k):j.removeAttribute(`${z}:${k}`)}else j.removeAttribute(k)}addClass(j,k){j.classList.add(k)}removeClass(j,k){j.classList.remove(k)}setStyle(j,k,z,ue){ue&(R.czy.DashCase|R.czy.Important)?j.style.setProperty(k,z,ue&R.czy.Important?"important":""):j.style[k]=z}removeStyle(j,k,z){z&R.czy.DashCase?j.style.removeProperty(k):j.style[k]=""}setProperty(j,k,z){j[k]=z}setValue(j,k){j.nodeValue=k}listen(j,k,z){if("string"==typeof j&&!(j=(0,fe.QT)().getGlobalEventTarget(this.doc,j)))throw new Error(`Unsupported event target ${j} for event ${k}`);return this.eventManager.addEventListener(j,k,this.decoratePreventDefault(z))}decoratePreventDefault(j){return k=>{if("__ngUnwrap__"===k)return j;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>j(k)):j(k))&&k.preventDefault()}}}function kr(Be){return"TEMPLATE"===Be.tagName&&void 0!==Be.content}class ot extends Xe{constructor(j,k,z,ue,ce,Ge,It,bt){super(j,ce,Ge,bt),this.sharedStylesHost=k,this.hostEl=z,this.shadowRoot=z.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const en=Mt(ue.id,ue.styles);for(const tn of en){const mr=document.createElement("style");It&&mr.setAttribute("nonce",It),mr.textContent=tn,this.shadowRoot.appendChild(mr)}}nodeOrShadowRoot(j){return j===this.hostEl?this.shadowRoot:j}appendChild(j,k){return super.appendChild(this.nodeOrShadowRoot(j),k)}insertBefore(j,k,z){return super.insertBefore(this.nodeOrShadowRoot(j),k,z)}removeChild(j,k){return super.removeChild(this.nodeOrShadowRoot(j),k)}parentNode(j){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(j)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ye extends Xe{constructor(j,k,z,ue,ce,Ge,It,bt){super(j,ce,Ge,It),this.sharedStylesHost=k,this.removeStylesOnCompDestroy=ue,this.styles=bt?Mt(bt,z.styles):z.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Nt extends ye{constructor(j,k,z,ue,ce,Ge,It,bt){const en=ue+"-"+z.id;super(j,k,z,ce,Ge,It,bt,en),this.contentAttr=function Qe(Be){return"_ngcontent-%COMP%".replace(Ft,Be)}(en),this.hostAttr=function At(Be){return"_nghost-%COMP%".replace(Ft,Be)}(en)}applyToHost(j){this.applyStyles(),this.setAttribute(j,this.hostAttr,"")}createElement(j,k){const z=super.createElement(j,k);return super.setAttribute(z,this.contentAttr,""),z}}let ft=(()=>{class Be extends at{constructor(k){super(k)}supports(k){return!0}addEventListener(k,z,ue){return k.addEventListener(z,ue,!1),()=>this.removeEventListener(k,z,ue)}removeEventListener(k,z,ue){return k.removeEventListener(z,ue)}static{this.\u0275fac=function(z){return new(z||Be)(R.KVO(fe.qQ))}}static{this.\u0275prov=R.jDH({token:Be,factory:Be.\u0275fac})}}return Be})();const Yt=["alt","control","meta","shift"],yt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wt={alt:Be=>Be.altKey,control:Be=>Be.ctrlKey,meta:Be=>Be.metaKey,shift:Be=>Be.shiftKey};let we=(()=>{class Be extends at{constructor(k){super(k)}supports(k){return null!=Be.parseEventName(k)}addEventListener(k,z,ue){const ce=Be.parseEventName(z),Ge=Be.eventCallback(ce.fullKey,ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,fe.QT)().onAndCancel(k,ce.domEventName,Ge))}static parseEventName(k){const z=k.toLowerCase().split("."),ue=z.shift();if(0===z.length||"keydown"!==ue&&"keyup"!==ue)return null;const ce=Be._normalizeKey(z.pop());let Ge="",It=z.indexOf("code");if(It>-1&&(z.splice(It,1),Ge="code."),Yt.forEach(en=>{const tn=z.indexOf(en);tn>-1&&(z.splice(tn,1),Ge+=en+".")}),Ge+=ce,0!=z.length||0===ce.length)return null;const bt={};return bt.domEventName=ue,bt.fullKey=Ge,bt}static matchEventFullKeyCode(k,z){let ue=yt[k.key]||k.key,ce="";return z.indexOf("code.")>-1&&(ue=k.code,ce="code."),!(null==ue||!ue)&&(ue=ue.toLowerCase()," "===ue?ue="space":"."===ue&&(ue="dot"),Yt.forEach(Ge=>{Ge!==ue&&(0,wt[Ge])(k)&&(ce+=Ge+".")}),ce+=ue,ce===z)}static eventCallback(k,z,ue){return ce=>{Be.matchEventFullKeyCode(ce,k)&&ue.runGuarded(()=>z(ce))}}static _normalizeKey(k){return"esc"===k?"escape":k}static{this.\u0275fac=function(z){return new(z||Be)(R.KVO(fe.qQ))}}static{this.\u0275prov=R.jDH({token:Be,factory:Be.\u0275fac})}}return Be})();const Ht=(0,R.oH4)(R.fpN,"browser",[{provide:R.Agw,useValue:fe.AJ},{provide:R.PLl,useValue:function Pe(){Ve.makeCurrent()},multi:!0},{provide:fe.qQ,useFactory:function ct(){return(0,R.TL$)(document),document},deps:[]}]),Mn=new R.nKC(""),fn=[{provide:R.e01,useClass:class We{addToWindow(j){R.JZv.getAngularTestability=(z,ue=!0)=>{const ce=j.findTestabilityInTree(z,ue);if(null==ce)throw new R.wOt(5103,!1);return ce},R.JZv.getAllAngularTestabilities=()=>j.getAllTestabilities(),R.JZv.getAllAngularRootElements=()=>j.getAllRootElements(),R.JZv.frameworkStabilizers||(R.JZv.frameworkStabilizers=[]),R.JZv.frameworkStabilizers.push(z=>{const ue=R.JZv.getAllAngularTestabilities();let ce=ue.length,Ge=!1;const It=function(bt){Ge=Ge||bt,ce--,0==ce&&z(Ge)};ue.forEach(bt=>{bt.whenStable(It)})})}findTestabilityInTree(j,k,z){return null==k?null:j.getTestability(k)??(z?(0,fe.QT)().isShadowRoot(k)?this.findTestabilityInTree(j,k.host,!0):this.findTestabilityInTree(j,k.parentElement,!0):null)}},deps:[]},{provide:R.WHO,useClass:R.NYb,deps:[R.SKi,R.giA,R.e01]},{provide:R.NYb,useClass:R.NYb,deps:[R.SKi,R.giA,R.e01]}],fi=[{provide:R.H8p,useValue:"root"},{provide:R.zcH,useFactory:function et(){return new R.zcH},deps:[]},{provide:de,useClass:ft,multi:!0,deps:[fe.qQ,R.SKi,R.Agw]},{provide:de,useClass:we,multi:!0,deps:[fe.qQ]},_t,ut,Le,{provide:R._9s,useExisting:_t},{provide:fe.N0,useClass:oe,deps:[]},[]];let an=(()=>{class Be{constructor(k){}static withServerTransition(k){return{ngModule:Be,providers:[{provide:R.sZ2,useValue:k.appId}]}}static{this.\u0275fac=function(z){return new(z||Be)(R.KVO(Mn,12))}}static{this.\u0275mod=R.$C({type:Be})}static{this.\u0275inj=R.G2t({providers:[...fi,...fn],imports:[fe.MD,R.Hbi]})}}return Be})(),Jt=(()=>{class Be{constructor(k){this._doc=k}getTitle(){return this._doc.title}setTitle(k){this._doc.title=k||""}static{this.\u0275fac=function(z){return new(z||Be)(R.KVO(fe.qQ))}}static{this.\u0275prov=R.jDH({token:Be,factory:function(z){let ue=null;return ue=z?new z:function Lr(){return new Jt((0,R.KVO)(fe.qQ))}(),ue},providedIn:"root"})}}return Be})();typeof window<"u"&&window},6143:(Xt,nt,X)=>{X.d(nt,{Ix:()=>Bn,Wk:()=>ii,wQ:()=>Ps,iI:()=>Si,n3:()=>ns});var R=X(540),fe=X(1985),$e=X(8071),Z=X(8455),ie=X(7673),Ae=X(4412),vt=X(3073),We=X(3669),oe=X(6450),de=X(3794),Le=X(8496),at=X(4360),He=X(5225);function ut(...y){const A=(0,de.lI)(y),_=(0,de.ms)(y),{args:C,keys:M}=(0,vt.D)(y);if(0===C.length)return(0,Z.H)([],A);const H=new fe.c(function Dt(y,A,_=We.D){return C=>{Ft(A,()=>{const{length:M}=y,H=new Array(M);let te=M,Me=M;for(let Re=0;Re<M;Re++)Ft(A,()=>{const Tt=(0,Z.H)(y[Re],A);let Zt=!1;Tt.subscribe((0,at._)(C,Gn=>{H[Re]=Gn,Zt||(Zt=!0,Me--),Me||C.next(_(H.slice()))},()=>{--te||C.complete()}))},C)},C)}}(C,A,M?te=>(0,Le.e)(M,te):We.D));return _?H.pipe((0,oe.I)(_)):H}function Ft(y,A,_){y?(0,He.N)(_,y,A):A()}const An=(0,X(1853).L)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var Yn=X(6365);function st(...y){return function ze(){return(0,Yn.U)(1)}()((0,Z.H)(y,(0,de.lI)(y)))}var Qe=X(8750);function At(y){return new fe.c(A=>{(0,Qe.Tg)(y()).subscribe(A)})}var Mt=X(1203);function _t(y,A){const _=(0,$e.T)(y)?y:()=>y,C=M=>M.error(_());return new fe.c(A?M=>A.schedule(C,0,M):C)}var Xe=X(983),Vt=X(8359),Dn=X(9974);function kr(){return(0,Dn.N)((y,A)=>{let _=null;y._refCount++;const C=(0,at._)(A,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(_=null);const M=y._connection,H=_;_=null,M&&(!H||M===H)&&M.unsubscribe(),A.unsubscribe()});y.subscribe(C),C.closed||(_=y.connect())})}class ot extends fe.c{constructor(A,_){super(),this.source=A,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,Dn.S)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,A?.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new Vt.yU;const _=this.getSubject();A.add(this.source.subscribe((0,at._)(_,void 0,()=>{this._teardown(),_.complete()},C=>{this._teardown(),_.error(C)},()=>this._teardown()))),A.closed&&(this._connection=null,A=Vt.yU.EMPTY)}return A}refCount(){return kr()(this)}}var ye=X(1413),Nt=X(177),ft=X(6354),Yt=X(5558);function yt(y){return y<=0?()=>Xe.w:(0,Dn.N)((A,_)=>{let C=0;A.subscribe((0,at._)(_,M=>{++C<=y&&(_.next(M),y<=C&&_.complete())}))})}function we(y,A){return(0,Dn.N)((_,C)=>{let M=0;_.subscribe((0,at._)(C,H=>y.call(A,H,M++)&&C.next(H)))})}var se=X(1397);function W(y){return(0,Dn.N)((A,_)=>{let C=!1;A.subscribe((0,at._)(_,M=>{C=!0,_.next(M)},()=>{C||_.next(y),_.complete()}))})}function Q(y=Ie){return(0,Dn.N)((A,_)=>{let C=!1;A.subscribe((0,at._)(_,M=>{C=!0,_.next(M)},()=>C?_.complete():_.error(y())))})}function Ie(){return new An}function Pe(y,A){const _=arguments.length>=2;return C=>C.pipe(y?we((M,H)=>y(M,H,C)):We.D,yt(1),_?W(A):Q(()=>new An))}function et(y,A){return(0,$e.T)(A)?(0,se.Z)(y,A,1):(0,se.Z)(y,1)}var ct=X(8141);function gn(y){return(0,Dn.N)((A,_)=>{let H,C=null,M=!1;C=A.subscribe((0,at._)(_,void 0,void 0,te=>{H=(0,Qe.Tg)(y(te,gn(y)(A))),C?(C.unsubscribe(),C=null,H.subscribe(_)):M=!0})),M&&(C.unsubscribe(),C=null,H.subscribe(_))})}function fn(y){return y<=0?()=>Xe.w:(0,Dn.N)((A,_)=>{let C=[];A.subscribe((0,at._)(_,M=>{C.push(M),y<C.length&&C.shift()},()=>{for(const M of C)_.next(M);_.complete()},void 0,()=>{C=null}))})}function Dr(y){return(0,Dn.N)((A,_)=>{try{A.subscribe(_)}finally{_.add(y)}})}var Zn=X(5343),Lr=X(345);const Jt="primary",Tn=Symbol("RouteTitle");class pt{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const _=this.params[A];return Array.isArray(_)?_[0]:_}return null}getAll(A){if(this.has(A)){const _=this.params[A];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function gr(y){return new pt(y)}function Ct(y,A,_){const C=_.path.split("/");if(C.length>y.length||"full"===_.pathMatch&&(A.hasChildren()||C.length<y.length))return null;const M={};for(let H=0;H<C.length;H++){const te=C[H],Me=y[H];if(te.startsWith(":"))M[te.substring(1)]=Me;else if(te!==Me.path)return null}return{consumed:y.slice(0,C.length),posParams:M}}function En(y,A){const _=y?Object.keys(y):void 0,C=A?Object.keys(A):void 0;if(!_||!C||_.length!=C.length)return!1;let M;for(let H=0;H<_.length;H++)if(M=_[H],!ht(y[M],A[M]))return!1;return!0}function ht(y,A){if(Array.isArray(y)&&Array.isArray(A)){if(y.length!==A.length)return!1;const _=[...y].sort(),C=[...A].sort();return _.every((M,H)=>C[H]===M)}return y===A}function kn(y){return y.length>0?y[y.length-1]:null}function er(y){return function Ve(y){return!!y&&(y instanceof fe.c||(0,$e.T)(y.lift)&&(0,$e.T)(y.subscribe))}(y)?y:(0,R.jNT)(y)?(0,Z.H)(Promise.resolve(y)):(0,ie.of)(y)}const nr={exact:function St(y,A,_){if(!he(y.segments,A.segments)||!Cr(y.segments,A.segments,_)||y.numberOfChildren!==A.numberOfChildren)return!1;for(const C in A.children)if(!y.children[C]||!St(y.children[C],A.children[C],_))return!1;return!0},subset:wi},Li={exact:function Qs(y,A){return En(y,A)},subset:function Xi(y,A){return Object.keys(A).length<=Object.keys(y).length&&Object.keys(A).every(_=>ht(y[_],A[_]))},ignored:()=>!0};function mn(y,A,_){return nr[_.paths](y.root,A.root,_.matrixParams)&&Li[_.queryParams](y.queryParams,A.queryParams)&&!("exact"===_.fragment&&y.fragment!==A.fragment)}function wi(y,A,_){return $n(y,A,A.segments,_)}function $n(y,A,_,C){if(y.segments.length>_.length){const M=y.segments.slice(0,_.length);return!(!he(M,_)||A.hasChildren()||!Cr(M,_,C))}if(y.segments.length===_.length){if(!he(y.segments,_)||!Cr(y.segments,_,C))return!1;for(const M in A.children)if(!y.children[M]||!wi(y.children[M],A.children[M],C))return!1;return!0}{const M=_.slice(0,y.segments.length),H=_.slice(y.segments.length);return!!(he(y.segments,M)&&Cr(y.segments,M,C)&&y.children[Jt])&&$n(y.children[Jt],A,H,C)}}function Cr(y,A,_){return A.every((C,M)=>Li[_](y[M].parameters,C.parameters))}class Kn{constructor(A=new jt([],{}),_={},C=null){this.root=A,this.queryParams=_,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gr(this.queryParams)),this._queryParamMap}toString(){return pi.serialize(this)}}class jt{constructor(A,_){this.segments=A,this.children=_,this.parent=null,Object.values(_).forEach(C=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Be(this)}}class Qr{constructor(A,_){this.path=A,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=gr(this.parameters)),this._parameterMap}toString(){return bt(this)}}function he(y,A){return y.length===A.length&&y.every((_,C)=>_.path===A[C].path)}let ur=(()=>{class y{static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=R.jDH({token:y,factory:function(){return new ps},providedIn:"root"})}}return y})();class ps{parse(A){const _=new ho(A);return new Kn(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(A){const _=`/${j(A.root,!0)}`,C=function tn(y){const A=Object.keys(y).map(_=>{const C=y[_];return Array.isArray(C)?C.map(M=>`${z(_)}=${z(M)}`).join("&"):`${z(_)}=${z(C)}`}).filter(_=>!!_);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${_}${C}${"string"==typeof A.fragment?`#${function ue(y){return encodeURI(y)}(A.fragment)}`:""}`}}const pi=new ps;function Be(y){return y.segments.map(A=>bt(A)).join("/")}function j(y,A){if(!y.hasChildren())return Be(y);if(A){const _=y.children[Jt]?j(y.children[Jt],!1):"",C=[];return Object.entries(y.children).forEach(([M,H])=>{M!==Jt&&C.push(`${M}:${j(H,!1)}`)}),C.length>0?`${_}(${C.join("//")})`:_}{const _=function rr(y,A){let _=[];return Object.entries(y.children).forEach(([C,M])=>{C===Jt&&(_=_.concat(A(M,C)))}),Object.entries(y.children).forEach(([C,M])=>{C!==Jt&&(_=_.concat(A(M,C)))}),_}(y,(C,M)=>M===Jt?[j(y.children[Jt],!1)]:[`${M}:${j(C,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Jt]?`${Be(y)}/${_[0]}`:`${Be(y)}/(${_.join("//")})`}}function k(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function z(y){return k(y).replace(/%3B/gi,";")}function ce(y){return k(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ge(y){return decodeURIComponent(y)}function It(y){return Ge(y.replace(/\+/g,"%20"))}function bt(y){return`${ce(y.path)}${function en(y){return Object.keys(y).map(A=>`;${ce(A)}=${ce(y[A])}`).join("")}(y.parameters)}`}const mr=/^[^\/()?;#]+/;function Gt(y){const A=y.match(mr);return A?A[0]:""}const Xr=/^[^\/()?;=#]+/,$r=/^[^=?&#]+/,ws=/^[^&#]+/;class ho{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(A.length>0||Object.keys(_).length>0)&&(C[Jt]=new jt(A,_)),C}parseSegment(){const A=Gt(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new R.wOt(4009,!1);return this.capture(A),new Qr(Ge(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const _=function _r(y){const A=y.match(Xr);return A?A[0]:""}(this.remaining);if(!_)return;this.capture(_);let C="";if(this.consumeOptional("=")){const M=Gt(this.remaining);M&&(C=M,this.capture(C))}A[Ge(_)]=Ge(C)}parseQueryParam(A){const _=function ci(y){const A=y.match($r);return A?A[0]:""}(this.remaining);if(!_)return;this.capture(_);let C="";if(this.consumeOptional("=")){const te=function xr(y){const A=y.match(ws);return A?A[0]:""}(this.remaining);te&&(C=te,this.capture(C))}const M=It(_),H=It(C);if(A.hasOwnProperty(M)){let te=A[M];Array.isArray(te)||(te=[te],A[M]=te),te.push(H)}else A[M]=H}parseParens(A){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=Gt(this.remaining),M=this.remaining[C.length];if("/"!==M&&")"!==M&&";"!==M)throw new R.wOt(4010,!1);let H;C.indexOf(":")>-1?(H=C.slice(0,C.indexOf(":")),this.capture(H),this.capture(":")):A&&(H=Jt);const te=this.parseChildren();_[H]=1===Object.keys(te).length?te[Jt]:new jt([],te),this.consumeOptional("//")}return _}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new R.wOt(4011,!1)}}function Ln(y){return y.segments.length>0?new jt([],{[Jt]:y}):y}function Yi(y){const A={};for(const C of Object.keys(y.children)){const H=Yi(y.children[C]);if(C===Jt&&0===H.segments.length&&H.hasChildren())for(const[te,Me]of Object.entries(H.children))A[te]=Me;else(H.segments.length>0||H.hasChildren())&&(A[C]=H)}return function Fe(y){if(1===y.numberOfChildren&&y.children[Jt]){const A=y.children[Jt];return new jt(y.segments.concat(A.segments),A.children)}return y}(new jt(y.segments,A))}function Ee(y){return y instanceof Kn}function Et(y){let A;const M=Ln(function _(H){const te={};for(const Re of H.children){const Tt=_(Re);te[Re.outlet]=Tt}const Me=new jt(H.url,te);return H===y&&(A=Me),Me}(y.root));return A??M}function Qt(y,A,_,C){let M=y;for(;M.parent;)M=M.parent;if(0===A.length)return Fn(M,M,M,_,C);const H=function yr(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new cn(!0,0,y);let A=0,_=!1;const C=y.reduce((M,H,te)=>{if("object"==typeof H&&null!=H){if(H.outlets){const Me={};return Object.entries(H.outlets).forEach(([Re,Tt])=>{Me[Re]="string"==typeof Tt?Tt.split("/"):Tt}),[...M,{outlets:Me}]}if(H.segmentPath)return[...M,H.segmentPath]}return"string"!=typeof H?[...M,H]:0===te?(H.split("/").forEach((Me,Re)=>{0==Re&&"."===Me||(0==Re&&""===Me?_=!0:".."===Me?A++:""!=Me&&M.push(Me))}),M):[...M,H]},[]);return new cn(_,A,C)}(A);if(H.toRoot())return Fn(M,M,new jt([],{}),_,C);const te=function Wo(y,A,_){if(y.isAbsolute)return new Vi(A,!0,0);if(!_)return new Vi(A,!1,NaN);if(null===_.parent)return new Vi(_,!0,0);const C=$t(y.commands[0])?0:1;return function ir(y,A,_){let C=y,M=A,H=_;for(;H>M;){if(H-=M,C=C.parent,!C)throw new R.wOt(4005,!1);M=C.segments.length}return new Vi(C,!1,M-H)}(_,_.segments.length-1+C,y.numberOfDoubleDots)}(H,M,y),Me=te.processChildren?Zi(te.segmentGroup,te.index,H.commands):xi(te.segmentGroup,te.index,H.commands);return Fn(M,te.segmentGroup,Me,_,C)}function $t(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function on(y){return"object"==typeof y&&null!=y&&y.outlets}function Fn(y,A,_,C,M){let te,H={};C&&Object.entries(C).forEach(([Re,Tt])=>{H[Re]=Array.isArray(Tt)?Tt.map(Zt=>`${Zt}`):`${Tt}`}),te=y===A?_:xn(y,A,_);const Me=Ln(Yi(te));return new Kn(Me,H,M)}function xn(y,A,_){const C={};return Object.entries(y.children).forEach(([M,H])=>{C[M]=H===A?_:xn(H,A,_)}),new jt(y.segments,C)}class cn{constructor(A,_,C){if(this.isAbsolute=A,this.numberOfDoubleDots=_,this.commands=C,A&&C.length>0&&$t(C[0]))throw new R.wOt(4003,!1);const M=C.find(on);if(M&&M!==kn(C))throw new R.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vi{constructor(A,_,C){this.segmentGroup=A,this.processChildren=_,this.index=C}}function xi(y,A,_){if(y||(y=new jt([],{})),0===y.segments.length&&y.hasChildren())return Zi(y,A,_);const C=function oi(y,A,_){let C=0,M=A;const H={match:!1,pathIndex:0,commandIndex:0};for(;M<y.segments.length;){if(C>=_.length)return H;const te=y.segments[M],Me=_[C];if(on(Me))break;const Re=`${Me}`,Tt=C<_.length-1?_[C+1]:null;if(M>0&&void 0===Re)break;if(Re&&Tt&&"object"==typeof Tt&&void 0===Tt.outlets){if(!gs(Re,Tt,te))return H;C+=2}else{if(!gs(Re,{},te))return H;C++}M++}return{match:!0,pathIndex:M,commandIndex:C}}(y,A,_),M=_.slice(C.commandIndex);if(C.match&&C.pathIndex<y.segments.length){const H=new jt(y.segments.slice(0,C.pathIndex),{});return H.children[Jt]=new jt(y.segments.slice(C.pathIndex),y.children),Zi(H,0,M)}return C.match&&0===M.length?new jt(y.segments,{}):C.match&&!y.hasChildren()?fo(y,A,_):C.match?Zi(y,0,M):fo(y,A,_)}function Zi(y,A,_){if(0===_.length)return new jt(y.segments,{});{const C=function Mi(y){return on(y[0])?y[0].outlets:{[Jt]:y}}(_),M={};if(Object.keys(C).some(H=>H!==Jt)&&y.children[Jt]&&1===y.numberOfChildren&&0===y.children[Jt].segments.length){const H=Zi(y.children[Jt],A,_);return new jt(y.segments,H.children)}return Object.entries(C).forEach(([H,te])=>{"string"==typeof te&&(te=[te]),null!==te&&(M[H]=xi(y.children[H],A,te))}),Object.entries(y.children).forEach(([H,te])=>{void 0===C[H]&&(M[H]=te)}),new jt(y.segments,M)}}function fo(y,A,_){const C=y.segments.slice(0,A);let M=0;for(;M<_.length;){const H=_[M];if(on(H)){const Re=bo(H.outlets);return new jt(C,Re)}if(0===M&&$t(_[0])){C.push(new Qr(y.segments[A].path,Fr(_[0]))),M++;continue}const te=on(H)?H.outlets[Jt]:`${H}`,Me=M<_.length-1?_[M+1]:null;te&&Me&&$t(Me)?(C.push(new Qr(te,Fr(Me))),M+=2):(C.push(new Qr(te,{})),M++)}return new jt(C,{})}function bo(y){const A={};return Object.entries(y).forEach(([_,C])=>{"string"==typeof C&&(C=[C]),null!==C&&(A[_]=fo(new jt([],{}),0,C))}),A}function Fr(y){const A={};return Object.entries(y).forEach(([_,C])=>A[_]=`${C}`),A}function gs(y,A,_){return y==_.path&&En(A,_.parameters)}const Ni="imperative";class Jr{constructor(A,_){this.id=A,this.url=_}}class po extends Jr{constructor(A,_,C="imperative",M=null){super(A,_),this.type=0,this.navigationTrigger=C,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vn extends Jr{constructor(A,_,C){super(A,_),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nr extends Jr{constructor(A,_,C,M){super(A,_),this.reason=C,this.code=M,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cr extends Jr{constructor(A,_,C,M){super(A,_),this.reason=C,this.code=M,this.type=16}}class pn extends Jr{constructor(A,_,C,M){super(A,_),this.error=C,this.target=M,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qo extends Jr{constructor(A,_,C,M){super(A,_),this.urlAfterRedirects=C,this.state=M,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ji extends Jr{constructor(A,_,C,M){super(A,_),this.urlAfterRedirects=C,this.state=M,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ai extends Jr{constructor(A,_,C,M,H){super(A,_),this.urlAfterRedirects=C,this.state=M,this.shouldActivate=H,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ko extends Jr{constructor(A,_,C,M){super(A,_),this.urlAfterRedirects=C,this.state=M,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gu extends Jr{constructor(A,_,C,M){super(A,_),this.urlAfterRedirects=C,this.state=M,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vr{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ma{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class es{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dr{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ai{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vs{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class As{constructor(A,_,C){this.routerEvent=A,this.position=_,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Us{}class Xs{constructor(A){this.url=A}}class Oi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ts,this.attachRef=null}}let ts=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(_,C){const M=this.getOrCreateContext(_);M.outlet=C,this.contexts.set(_,M)}onChildOutletDestroyed(_){const C=this.getContext(_);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let C=this.getContext(_);return C||(C=new Oi,this.contexts.set(_,C)),C}getContext(_){return this.contexts.get(_)||null}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=R.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();class gi{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const _=this.pathFromRoot(A);return _.length>1?_[_.length-2]:null}children(A){const _=mi(A,this._root);return _?_.children.map(C=>C.value):[]}firstChild(A){const _=mi(A,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(A){const _=yn(A,this._root);return _.length<2?[]:_[_.length-2].children.map(M=>M.value).filter(M=>M!==A)}pathFromRoot(A){return yn(A,this._root).map(_=>_.value)}}function mi(y,A){if(y===A.value)return A;for(const _ of A.children){const C=mi(y,_);if(C)return C}return null}function yn(y,A){if(y===A.value)return[A];for(const _ of A.children){const C=yn(y,_);if(C.length)return C.unshift(A),C}return[]}class Nn{constructor(A,_){this.value=A,this.children=_}toString(){return`TreeNode(${this.value})`}}function Ir(y){const A={};return y&&y.children.forEach(_=>A[_.value.outlet]=_),A}class ms extends gi{constructor(A,_){super(A),this.snapshot=_,Rt(this,A)}toString(){return this.snapshot.toString()}}function Hr(y,A){const _=function _a(y,A){const te=new Bs([],{},{},"",{},Jt,A,null,{});return new lr("",new Nn(te,[]))}(0,A),C=new Ae.t([new Qr("",{})]),M=new Ae.t({}),H=new Ae.t({}),te=new Ae.t({}),Me=new Ae.t(""),Re=new Ui(C,M,te,Me,H,Jt,A,_.root);return Re.snapshot=_.root,new ms(new Nn(Re,[]),_)}class Ui{constructor(A,_,C,M,H,te,Me,Re){this.urlSubject=A,this.paramsSubject=_,this.queryParamsSubject=C,this.fragmentSubject=M,this.dataSubject=H,this.outlet=te,this.component=Me,this._futureSnapshot=Re,this.title=this.dataSubject?.pipe((0,ft.T)(Tt=>Tt[Tn]))??(0,ie.of)(void 0),this.url=A,this.params=_,this.queryParams=C,this.fragment=M,this.data=H}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.T)(A=>gr(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.T)(A=>gr(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bi(y,A="emptyOnly"){const _=y.pathFromRoot;let C=0;if("always"!==A)for(C=_.length-1;C>=1;){const M=_[C],H=_[C-1];if(M.routeConfig&&""===M.routeConfig.path)C--;else{if(H.component)break;C--}}return function go(y){return y.reduce((A,_)=>({params:{...A.params,..._.params},data:{...A.data,..._.data},resolve:{..._.data,...A.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(C))}class Bs{get title(){return this.data?.[Tn]}constructor(A,_,C,M,H,te,Me,Re,Tt){this.url=A,this.params=_,this.queryParams=C,this.fragment=M,this.data=H,this.outlet=te,this.component=Me,this.routeConfig=Re,this._resolve=Tt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lr extends gi{constructor(A,_){super(_),this.url=A,Rt(this,_)}toString(){return nn(this._root)}}function Rt(y,A){A.value._routerState=y,A.children.forEach(_=>Rt(y,_))}function nn(y){const A=y.children.length>0?` { ${y.children.map(nn).join(", ")} } `:"";return`${y.value}${A}`}function sr(y){if(y.snapshot){const A=y.snapshot,_=y._futureSnapshot;y.snapshot=_,En(A.queryParams,_.queryParams)||y.queryParamsSubject.next(_.queryParams),A.fragment!==_.fragment&&y.fragmentSubject.next(_.fragment),En(A.params,_.params)||y.paramsSubject.next(_.params),function un(y,A){if(y.length!==A.length)return!1;for(let _=0;_<y.length;++_)if(!En(y[_],A[_]))return!1;return!0}(A.url,_.url)||y.urlSubject.next(_.url),En(A.data,_.data)||y.dataSubject.next(_.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function ei(y,A){const _=En(y.params,A.params)&&function Fi(y,A){return he(y,A)&&y.every((_,C)=>En(_.parameters,A[C].parameters))}(y.url,A.url);return _&&!(!y.parent!=!A.parent)&&(!y.parent||ei(y.parent,A.parent))}let ns=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new R.bkB,this.deactivateEvents=new R.bkB,this.attachEvents=new R.bkB,this.detachEvents=new R.bkB,this.parentContexts=(0,R.WQX)(ts),this.location=(0,R.WQX)(R.c1b),this.changeDetector=(0,R.WQX)(R.gRc),this.environmentInjector=(0,R.WQX)(R.uvJ),this.inputBinder=(0,R.WQX)(ji,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:C,previousValue:M}=_.name;if(C)return;this.isTrackedInParentContexts(M)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(M)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R.wOt(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,C){this.activated=_,this._activatedRoute=C,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,C){if(this.isActivated)throw new R.wOt(4013,!1);this._activatedRoute=_;const M=this.location,te=_.snapshot.component,Me=this.parentContexts.getOrCreateContext(this.name).children,Re=new hr(_,Me,M.injector);this.activated=M.createComponent(te,{index:M.length,injector:Re,environmentInjector:C??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275dir=R.FsC({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[R.OA$]})}}return y})();class hr{constructor(A,_,C){this.route=A,this.childContexts=_,this.parent=C}get(A,_){return A===Ui?this.route:A===ts?this.childContexts:this.parent.get(A,_)}}const ji=new R.nKC("");let fr=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:C}=_,M=ut([C.queryParams,C.params,C.data]).pipe((0,Yt.n)(([H,te,Me],Re)=>(Me={...H,...te,...Me},0===Re?(0,ie.of)(Me):Promise.resolve(Me)))).subscribe(H=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==C||null===C.component)return void this.unsubscribeFromRouteData(_);const te=(0,R.HJs)(C.component);if(te)for(const{templateName:Me}of te.inputs)_.activatedComponentRef.setInput(Me,H[Me]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,M)}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=R.jDH({token:y,factory:y.\u0275fac})}}return y})();function $i(y,A,_){if(_&&y.shouldReuseRoute(A.value,_.value.snapshot)){const C=_.value;C._futureSnapshot=A.value;const M=function Ut(y,A,_){return A.children.map(C=>{for(const M of _.children)if(y.shouldReuseRoute(C.value,M.value.snapshot))return $i(y,C,M);return $i(y,C)})}(y,A,_);return new Nn(C,M)}{if(y.shouldAttach(A.value)){const H=y.retrieve(A.value);if(null!==H){const te=H.route;return te.value._futureSnapshot=A.value,te.children=A.children.map(Me=>$i(y,Me)),te}}const C=function rs(y){return new Ui(new Ae.t(y.url),new Ae.t(y.params),new Ae.t(y.queryParams),new Ae.t(y.fragment),new Ae.t(y.data),y.outlet,y.component,y)}(A.value),M=A.children.map(H=>$i(y,H));return new Nn(C,M)}}const tr="ngNavigationCancelingError";function _i(y,A){const{redirectTo:_,navigationBehaviorOptions:C}=Ee(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,M=pr(!1,0,A);return M.url=_,M.navigationBehaviorOptions=C,M}function pr(y,A,_){const C=new Error("NavigationCancelingError: "+(y||""));return C[tr]=!0,C.cancellationCode=A,_&&(C.url=_),C}function yi(y){return y&&y[tr]}let Ci=(()=>{class y{static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275cmp=R.VBU({type:y,selectors:[["ng-component"]],standalone:!0,features:[R.aNF],decls:1,vars:0,template:function(C,M){1&C&&R.nrm(0,"router-outlet")},dependencies:[ns],encapsulation:2})}}return y})();function ya(y){const A=y.children&&y.children.map(ya),_=A?{...y,children:A}:{...y};return!_.component&&!_.loadComponent&&(A||_.loadChildren)&&_.outlet&&_.outlet!==Jt&&(_.component=Ci),_}function zr(y){return y.outlet||Jt}function is(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let A=y.parent;A;A=A.parent){const _=A.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class Fa{constructor(A,_,C,M,H){this.routeReuseStrategy=A,this.futureState=_,this.currState=C,this.forwardEvent=M,this.inputBindingEnabled=H}activate(A){const _=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,C,A),sr(this.futureState.root),this.activateChildRoutes(_,C,A)}deactivateChildRoutes(A,_,C){const M=Ir(_);A.children.forEach(H=>{const te=H.value.outlet;this.deactivateRoutes(H,M[te],C),delete M[te]}),Object.values(M).forEach(H=>{this.deactivateRouteAndItsChildren(H,C)})}deactivateRoutes(A,_,C){const M=A.value,H=_?_.value:null;if(M===H)if(M.component){const te=C.getContext(M.outlet);te&&this.deactivateChildRoutes(A,_,te.children)}else this.deactivateChildRoutes(A,_,C);else H&&this.deactivateRouteAndItsChildren(_,C)}deactivateRouteAndItsChildren(A,_){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,_):this.deactivateRouteAndOutlet(A,_)}detachAndStoreRouteSubtree(A,_){const C=_.getContext(A.value.outlet),M=C&&A.value.component?C.children:_,H=Ir(A);for(const te of Object.keys(H))this.deactivateRouteAndItsChildren(H[te],M);if(C&&C.outlet){const te=C.outlet.detach(),Me=C.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:te,route:A,contexts:Me})}}deactivateRouteAndOutlet(A,_){const C=_.getContext(A.value.outlet),M=C&&A.value.component?C.children:_,H=Ir(A);for(const te of Object.keys(H))this.deactivateRouteAndItsChildren(H[te],M);C&&(C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated()),C.attachRef=null,C.route=null)}activateChildRoutes(A,_,C){const M=Ir(_);A.children.forEach(H=>{this.activateRoutes(H,M[H.value.outlet],C),this.forwardEvent(new Vs(H.value.snapshot))}),A.children.length&&this.forwardEvent(new dr(A.value.snapshot))}activateRoutes(A,_,C){const M=A.value,H=_?_.value:null;if(sr(M),M===H)if(M.component){const te=C.getOrCreateContext(M.outlet);this.activateChildRoutes(A,_,te.children)}else this.activateChildRoutes(A,_,C);else if(M.component){const te=C.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const Me=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),te.children.onOutletReAttached(Me.contexts),te.attachRef=Me.componentRef,te.route=Me.route.value,te.outlet&&te.outlet.attach(Me.componentRef,Me.route.value),sr(Me.route.value),this.activateChildRoutes(A,null,te.children)}else{const Me=is(M.snapshot);te.attachRef=null,te.route=M,te.injector=Me,te.outlet&&te.outlet.activateWith(M,te.injector),this.activateChildRoutes(A,null,te.children)}}else this.activateChildRoutes(A,null,C)}}class vi{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class F{constructor(A,_){this.component=A,this.route=_}}function U(y,A,_){const C=y._root;return ve(C,A?A._root:null,_,[C.value])}function ne(y,A){const _=Symbol(),C=A.get(y,_);return C===_?"function"!=typeof y||(0,R.LfX)(y)?A.get(y):y:C}function ve(y,A,_,C,M={canDeactivateChecks:[],canActivateChecks:[]}){const H=Ir(A);return y.children.forEach(te=>{(function je(y,A,_,C,M={canDeactivateChecks:[],canActivateChecks:[]}){const H=y.value,te=A?A.value:null,Me=_?_.getContext(y.value.outlet):null;if(te&&H.routeConfig===te.routeConfig){const Re=function gt(y,A,_){if("function"==typeof _)return _(y,A);switch(_){case"pathParamsChange":return!he(y.url,A.url);case"pathParamsOrQueryParamsChange":return!he(y.url,A.url)||!En(y.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ei(y,A)||!En(y.queryParams,A.queryParams);default:return!ei(y,A)}}(te,H,H.routeConfig.runGuardsAndResolvers);Re?M.canActivateChecks.push(new vi(C)):(H.data=te.data,H._resolvedData=te._resolvedData),ve(y,A,H.component?Me?Me.children:null:_,C,M),Re&&Me&&Me.outlet&&Me.outlet.isActivated&&M.canDeactivateChecks.push(new F(Me.outlet.component,te))}else te&&Ot(A,Me,M),M.canActivateChecks.push(new vi(C)),ve(y,null,H.component?Me?Me.children:null:_,C,M)})(te,H[te.value.outlet],_,C.concat([te.value]),M),delete H[te.value.outlet]}),Object.entries(H).forEach(([te,Me])=>Ot(Me,_.getContext(te),M)),M}function Ot(y,A,_){const C=Ir(y),M=y.value;Object.entries(C).forEach(([H,te])=>{Ot(te,M.component?A?A.children.getContext(H):null:A,_)}),_.canDeactivateChecks.push(new F(M.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,M))}function kt(y){return"function"==typeof y}function Hi(y){return y instanceof An||"EmptyError"===y?.name}const ui=Symbol("INITIAL_VALUE");function or(){return(0,Yt.n)(y=>ut(y.map(A=>A.pipe(yt(1),function wt(...y){const A=(0,de.lI)(y);return(0,Dn.N)((_,C)=>{(A?st(y,_,A):st(y,_)).subscribe(C)})}(ui)))).pipe((0,ft.T)(A=>{for(const _ of A)if(!0!==_){if(_===ui)return ui;if(!1===_||_ instanceof Kn)return _}return!0}),we(A=>A!==ui),yt(1)))}function os(y){return(0,Mt.F)((0,ct.M)(A=>{if(Ee(A))throw _i(0,A)}),(0,ft.T)(A=>!0===A))}class Xo{constructor(A){this.segmentGroup=A||null}}class Rr{constructor(A){this.urlTree=A}}function ys(y){return _t(new Xo(y))}function Or(y){return _t(new Rr(y))}class Zc{constructor(A,_){this.urlSerializer=A,this.urlTree=_}noMatchError(A){return new R.wOt(4002,!1)}lineralizeSegments(A,_){let C=[],M=_.root;for(;;){if(C=C.concat(M.segments),0===M.numberOfChildren)return(0,ie.of)(C);if(M.numberOfChildren>1||!M.children[Jt])return _t(new R.wOt(4e3,!1));M=M.children[Jt]}}applyRedirectCommands(A,_,C){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),A,C)}applyRedirectCreateUrlTree(A,_,C,M){const H=this.createSegmentGroup(A,_.root,C,M);return new Kn(H,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(A,_){const C={};return Object.entries(A).forEach(([M,H])=>{if("string"==typeof H&&H.startsWith(":")){const Me=H.substring(1);C[M]=_[Me]}else C[M]=H}),C}createSegmentGroup(A,_,C,M){const H=this.createSegments(A,_.segments,C,M);let te={};return Object.entries(_.children).forEach(([Me,Re])=>{te[Me]=this.createSegmentGroup(A,Re,C,M)}),new jt(H,te)}createSegments(A,_,C,M){return _.map(H=>H.path.startsWith(":")?this.findPosParam(A,H,M):this.findOrReturn(H,C))}findPosParam(A,_,C){const M=C[_.path.substring(1)];if(!M)throw new R.wOt(4001,!1);return M}findOrReturn(A,_){let C=0;for(const M of _){if(M.path===A.path)return _.splice(C),M;C++}return A}}const So={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function In(y,A,_,C,M){const H=Yo(y,A,_);return H.matched?(C=function Cs(y,A){return y.providers&&!y._injector&&(y._injector=(0,R.Ol2)(y.providers,A,`Route: ${y.path}`)),y._injector??A}(A,C),function ki(y,A,_,C){const M=A.canMatch;if(!M||0===M.length)return(0,ie.of)(!0);const H=M.map(te=>{const Me=ne(te,y);return er(function Ur(y){return y&&kt(y.canMatch)}(Me)?Me.canMatch(A,_):y.runInContext(()=>Me(A,_)))});return(0,ie.of)(H).pipe(or(),os())}(C,A,_).pipe((0,ft.T)(te=>!0===te?H:{...So}))):(0,ie.of)(H)}function Yo(y,A,_){if(""===A.path)return"full"===A.pathMatch&&(y.hasChildren()||_.length>0)?{...So}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const M=(A.matcher||Ct)(_,y,A);if(!M)return{...So};const H={};Object.entries(M.posParams??{}).forEach(([Me,Re])=>{H[Me]=Re.path});const te=M.consumed.length>0?{...H,...M.consumed[M.consumed.length-1].parameters}:H;return{matched:!0,consumedSegments:M.consumed,remainingSegments:_.slice(M.consumed.length),parameters:te,positionalParamSegments:M.posParams??{}}}function Zo(y,A,_,C){return _.length>0&&function Ea(y,A,_){return _.some(C=>to(y,A,C)&&zr(C)!==Jt)}(y,_,C)?{segmentGroup:new jt(A,tc(C,new jt(_,y.children))),slicedSegments:[]}:0===_.length&&function Ua(y,A,_){return _.some(C=>to(y,A,C))}(y,_,C)?{segmentGroup:new jt(y.segments,Ro(y,0,_,C,y.children)),slicedSegments:_}:{segmentGroup:new jt(y.segments,y.children),slicedSegments:_}}function Ro(y,A,_,C,M){const H={};for(const te of C)if(to(y,_,te)&&!M[zr(te)]){const Me=new jt([],{});H[zr(te)]=Me}return{...M,...H}}function tc(y,A){const _={};_[Jt]=A;for(const C of y)if(""===C.path&&zr(C)!==Jt){const M=new jt([],{});_[zr(C)]=M}return _}function to(y,A,_){return(!(y.hasChildren()||A.length>0)||"full"!==_.pathMatch)&&""===_.path}class ro{constructor(A,_,C,M,H,te,Me){this.injector=A,this.configLoader=_,this.rootComponentType=C,this.config=M,this.urlTree=H,this.paramsInheritanceStrategy=te,this.urlSerializer=Me,this.allowRedirects=!0,this.applyRedirects=new Zc(this.urlSerializer,this.urlTree)}noMatchError(A){return new R.wOt(4002,!1)}recognize(){const A=Zo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,Jt).pipe(gn(_=>{if(_ instanceof Rr)return this.allowRedirects=!1,this.urlTree=_.urlTree,this.match(_.urlTree);throw _ instanceof Xo?this.noMatchError(_):_}),(0,ft.T)(_=>{const C=new Bs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,{}),M=new Nn(C,_),H=new lr("",M),te=function Ke(y,A,_=null,C=null){return Qt(Et(y),A,_,C)}(C,[],this.urlTree.queryParams,this.urlTree.fragment);return te.queryParams=this.urlTree.queryParams,H.url=this.urlSerializer.serialize(te),this.inheritParamsAndData(H._root),{state:H,tree:te}}))}match(A){return this.processSegmentGroup(this.injector,this.config,A.root,Jt).pipe(gn(C=>{throw C instanceof Xo?this.noMatchError(C):C}))}inheritParamsAndData(A){const _=A.value,C=Bi(_,this.paramsInheritanceStrategy);_.params=Object.freeze(C.params),_.data=Object.freeze(C.data),A.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(A,_,C,M){return 0===C.segments.length&&C.hasChildren()?this.processChildren(A,_,C):this.processSegment(A,_,C,C.segments,M,!0)}processChildren(A,_,C){const M=[];for(const H of Object.keys(C.children))"primary"===H?M.unshift(H):M.push(H);return(0,Z.H)(M).pipe(et(H=>{const te=C.children[H],Me=function va(y,A){const _=y.filter(C=>zr(C)===A);return _.push(...y.filter(C=>zr(C)!==A)),_}(_,H);return this.processSegmentGroup(A,Me,te,H)}),function Mn(y,A){return(0,Dn.N)(function Ht(y,A,_,C,M){return(H,te)=>{let Me=_,Re=A,Tt=0;H.subscribe((0,at._)(te,Zt=>{const Gn=Tt++;Re=Me?y(Re,Zt,Gn):(Me=!0,Zt),C&&te.next(Re)},M&&(()=>{Me&&te.next(Re),te.complete()})))}}(y,A,arguments.length>=2,!0))}((H,te)=>(H.push(...te),H)),W(null),function fi(y,A){const _=arguments.length>=2;return C=>C.pipe(y?we((M,H)=>y(M,H,C)):We.D,fn(1),_?W(A):Q(()=>new An))}(),(0,se.Z)(H=>{if(null===H)return ys(C);const te=B(H);return function sd(y){y.sort((A,_)=>A.value.outlet===Jt?-1:_.value.outlet===Jt?1:A.value.outlet.localeCompare(_.value.outlet))}(te),(0,ie.of)(te)}))}processSegment(A,_,C,M,H,te){return(0,Z.H)(_).pipe(et(Me=>this.processSegmentAgainstRoute(Me._injector??A,_,Me,C,M,H,te).pipe(gn(Re=>{if(Re instanceof Xo)return(0,ie.of)(null);throw Re}))),Pe(Me=>!!Me),gn(Me=>{if(Hi(Me))return function Jo(y,A,_){return 0===A.length&&!y.children[_]}(C,M,H)?(0,ie.of)([]):ys(C);throw Me}))}processSegmentAgainstRoute(A,_,C,M,H,te,Me){return function Ta(y,A,_,C){return!!(zr(y)===C||C!==Jt&&to(A,_,y))&&("**"===y.path||Yo(A,y,_).matched)}(C,M,H,te)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(A,M,C,H,te,Me):Me&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,M,_,C,H,te):ys(M):ys(M)}expandSegmentAgainstRouteUsingRedirect(A,_,C,M,H,te){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,C,M,te):this.expandRegularSegmentAgainstRouteUsingRedirect(A,_,C,M,H,te)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,_,C,M){const H=this.applyRedirects.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?Or(H):this.applyRedirects.lineralizeSegments(C,H).pipe((0,se.Z)(te=>{const Me=new jt(te,{});return this.processSegment(A,_,Me,te,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,_,C,M,H,te){const{matched:Me,consumedSegments:Re,remainingSegments:Tt,positionalParamSegments:Zt}=Yo(_,M,H);if(!Me)return ys(_);const Gn=this.applyRedirects.applyRedirectCommands(Re,M.redirectTo,Zt);return M.redirectTo.startsWith("/")?Or(Gn):this.applyRedirects.lineralizeSegments(M,Gn).pipe((0,se.Z)(jn=>this.processSegment(A,C,_,jn.concat(Tt),te,!1)))}matchSegmentAgainstRoute(A,_,C,M,H,te){let Me;if("**"===C.path){const Re=M.length>0?kn(M).parameters:{},Tt=new Bs(M,Re,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,V(C),zr(C),C.component??C._loadedComponent??null,C,re(C));Me=(0,ie.of)({snapshot:Tt,consumedSegments:[],remainingSegments:[]}),_.children={}}else Me=In(_,C,M,A).pipe((0,ft.T)(({matched:Re,consumedSegments:Tt,remainingSegments:Zt,parameters:Gn})=>Re?{snapshot:new Bs(Tt,Gn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,V(C),zr(C),C.component??C._loadedComponent??null,C,re(C)),consumedSegments:Tt,remainingSegments:Zt}:null));return Me.pipe((0,Yt.n)(Re=>null===Re?ys(_):this.getChildConfig(A=C._injector??A,C,M).pipe((0,Yt.n)(({routes:Tt})=>{const Zt=C._loadedInjector??A,{snapshot:Gn,consumedSegments:jn,remainingSegments:$s}=Re,{segmentGroup:xo,slicedSegments:vo}=Zo(_,jn,$s,Tt);if(0===vo.length&&xo.hasChildren())return this.processChildren(Zt,Tt,xo).pipe((0,ft.T)(na=>null===na?null:[new Nn(Gn,na)]));if(0===Tt.length&&0===vo.length)return(0,ie.of)([new Nn(Gn,[])]);const Ka=zr(C)===H;return this.processSegment(Zt,Tt,xo,vo,Ka?Jt:H,!0).pipe((0,ft.T)(na=>[new Nn(Gn,na)]))}))))}getChildConfig(A,_,C){return _.children?(0,ie.of)({routes:_.children,injector:A}):_.loadChildren?void 0!==_._loadedRoutes?(0,ie.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function Ii(y,A,_,C){const M=A.canLoad;if(void 0===M||0===M.length)return(0,ie.of)(!0);const H=M.map(te=>{const Me=ne(te,y);return er(function vn(y){return y&&kt(y.canLoad)}(Me)?Me.canLoad(A,_):y.runInContext(()=>Me(A,_)))});return(0,ie.of)(H).pipe(or(),os())}(A,_,C).pipe((0,se.Z)(M=>M?this.configLoader.loadChildren(A,_).pipe((0,ct.M)(H=>{_._loadedRoutes=H.routes,_._loadedInjector=H.injector})):function eo(y){return _t(pr(!1,3))}())):(0,ie.of)({routes:[],injector:A})}}function w(y){const A=y.value.routeConfig;return A&&""===A.path}function B(y){const A=[],_=new Set;for(const C of y){if(!w(C)){A.push(C);continue}const M=A.find(H=>C.value.routeConfig===H.value.routeConfig);void 0!==M?(M.children.push(...C.children),_.add(M)):A.push(C)}for(const C of _){const M=B(C.children);A.push(new Nn(C.value,M))}return A.filter(C=>!_.has(C))}function V(y){return y.data||{}}function re(y){return y.resolve||{}}function Cn(y){return"string"==typeof y.title||null===y.title}function Tr(y){return(0,Yt.n)(A=>{const _=y(A);return _?(0,Z.H)(_).pipe((0,ft.T)(()=>A)):(0,ie.of)(A)})}const Qn=new R.nKC("ROUTES");let ri=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,R.WQX)(R.Ql9)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,ie.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const C=er(_.loadComponent()).pipe((0,ft.T)(bi),(0,ct.M)(H=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=H}),Dr(()=>{this.componentLoaders.delete(_)})),M=new ot(C,()=>new ye.B).pipe(kr());return this.componentLoaders.set(_,M),M}loadChildren(_,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,ie.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const H=function Ss(y,A,_,C){return er(y.loadChildren()).pipe((0,ft.T)(bi),(0,se.Z)(M=>M instanceof R.Co$||Array.isArray(M)?(0,ie.of)(M):(0,Z.H)(A.compileModuleAsync(M))),(0,ft.T)(M=>{C&&C(y);let H,te,Me=!1;return Array.isArray(M)?(te=M,!0):(H=M.create(_).injector,te=H.get(Qn,[],{optional:!0,self:!0}).flat()),{routes:te.map(ya),injector:H}}))}(C,this.compiler,_,this.onLoadEndListener).pipe(Dr(()=>{this.childrenLoaders.delete(C)})),te=new ot(H,()=>new ye.B).pipe(kr());return this.childrenLoaders.set(C,te),te}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=R.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function bi(y){return function Ei(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Gr=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ye.B,this.transitionAbortSubject=new ye.B,this.configLoader=(0,R.WQX)(ri),this.environmentInjector=(0,R.WQX)(R.uvJ),this.urlSerializer=(0,R.WQX)(ur),this.rootContexts=(0,R.WQX)(ts),this.inputBindingEnabled=null!==(0,R.WQX)(ji,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ie.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=M=>this.events.next(new ma(M)),this.configLoader.onLoadStartListener=M=>this.events.next(new vr(M))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const C=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:C})}setupNavigations(_,C,M){return this.transitions=new Ae.t({id:0,currentUrlTree:C,currentRawUrl:C,currentBrowserUrl:C,extractedUrl:_.urlHandlingStrategy.extract(C),urlAfterRedirects:_.urlHandlingStrategy.extract(C),rawUrl:C,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ni,restoredState:null,currentSnapshot:M.snapshot,targetSnapshot:null,currentRouterState:M,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(we(H=>0!==H.id),(0,ft.T)(H=>({...H,extractedUrl:_.urlHandlingStrategy.extract(H.rawUrl)})),(0,Yt.n)(H=>{this.currentTransition=H;let te=!1,Me=!1;return(0,ie.of)(H).pipe((0,ct.M)(Re=>{this.currentNavigation={id:Re.id,initialUrl:Re.rawUrl,extractedUrl:Re.extractedUrl,trigger:Re.source,extras:Re.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Yt.n)(Re=>{const Tt=Re.currentBrowserUrl.toString(),Zt=!_.navigated||Re.extractedUrl.toString()!==Tt||Tt!==Re.currentUrlTree.toString();if(!Zt&&"reload"!==(Re.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const jn="";return this.events.next(new cr(Re.id,this.urlSerializer.serialize(Re.rawUrl),jn,0)),Re.resolve(null),Xe.w}if(_.urlHandlingStrategy.shouldProcessUrl(Re.rawUrl))return(0,ie.of)(Re).pipe((0,Yt.n)(jn=>{const $s=this.transitions?.getValue();return this.events.next(new po(jn.id,this.urlSerializer.serialize(jn.extractedUrl),jn.source,jn.restoredState)),$s!==this.transitions?.getValue()?Xe.w:Promise.resolve(jn)}),function Oe(y,A,_,C,M,H){return(0,se.Z)(te=>function no(y,A,_,C,M,H,te="emptyOnly"){return new ro(y,A,_,C,M,te,H).recognize()}(y,A,_,C,te.extractedUrl,M,H).pipe((0,ft.T)(({state:Me,tree:Re})=>({...te,targetSnapshot:Me,urlAfterRedirects:Re}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,ct.M)(jn=>{H.targetSnapshot=jn.targetSnapshot,H.urlAfterRedirects=jn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:jn.urlAfterRedirects};const $s=new qo(jn.id,this.urlSerializer.serialize(jn.extractedUrl),this.urlSerializer.serialize(jn.urlAfterRedirects),jn.targetSnapshot);this.events.next($s)}));if(Zt&&_.urlHandlingStrategy.shouldProcessUrl(Re.currentRawUrl)){const{id:jn,extractedUrl:$s,source:xo,restoredState:vo,extras:Ka}=Re,na=new po(jn,this.urlSerializer.serialize($s),xo,vo);this.events.next(na);const us=Hr(0,this.rootComponentType).snapshot;return this.currentTransition=H={...Re,targetSnapshot:us,urlAfterRedirects:$s,extras:{...Ka,skipLocationChange:!1,replaceUrl:!1}},(0,ie.of)(H)}{const jn="";return this.events.next(new cr(Re.id,this.urlSerializer.serialize(Re.extractedUrl),jn,1)),Re.resolve(null),Xe.w}}),(0,ct.M)(Re=>{const Tt=new Ji(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot);this.events.next(Tt)}),(0,ft.T)(Re=>(this.currentTransition=H={...Re,guards:U(Re.targetSnapshot,Re.currentSnapshot,this.rootContexts)},H)),function Br(y,A){return(0,se.Z)(_=>{const{targetSnapshot:C,currentSnapshot:M,guards:{canActivateChecks:H,canDeactivateChecks:te}}=_;return 0===te.length&&0===H.length?(0,ie.of)({..._,guardsResult:!0}):function bs(y,A,_,C){return(0,Z.H)(y).pipe((0,se.Z)(M=>function Yc(y,A,_,C,M){const H=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!H||0===H.length)return(0,ie.of)(!0);const te=H.map(Me=>{const Re=is(A)??M,Tt=ne(Me,Re);return er(function Vr(y){return y&&kt(y.canDeactivate)}(Tt)?Tt.canDeactivate(y,A,_,C):Re.runInContext(()=>Tt(y,A,_,C))).pipe(Pe())});return(0,ie.of)(te).pipe(or())}(M.component,M.route,_,A,C)),Pe(M=>!0!==M,!0))}(te,C,M,y).pipe((0,se.Z)(Me=>Me&&function wn(y){return"boolean"==typeof y}(Me)?function _s(y,A,_,C){return(0,Z.H)(A).pipe(et(M=>st(function zi(y,A){return null!==y&&A&&A(new es(y)),(0,ie.of)(!0)}(M.route.parent,C),function ss(y,A){return null!==y&&A&&A(new Ai(y)),(0,ie.of)(!0)}(M.route,C),function Va(y,A,_){const C=A[A.length-1],H=A.slice(0,A.length-1).reverse().map(te=>function ee(y){const A=y.routeConfig?y.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:y,guards:A}:null}(te)).filter(te=>null!==te).map(te=>At(()=>{const Me=te.guards.map(Re=>{const Tt=is(te.node)??_,Zt=ne(Re,Tt);return er(function Er(y){return y&&kt(y.canActivateChild)}(Zt)?Zt.canActivateChild(C,y):Tt.runInContext(()=>Zt(C,y))).pipe(Pe())});return(0,ie.of)(Me).pipe(or())}));return(0,ie.of)(H).pipe(or())}(y,M.path,_),function Ia(y,A,_){const C=A.routeConfig?A.routeConfig.canActivate:null;if(!C||0===C.length)return(0,ie.of)(!0);const M=C.map(H=>At(()=>{const te=is(A)??_,Me=ne(H,te);return er(function Sr(y){return y&&kt(y.canActivate)}(Me)?Me.canActivate(A,y):te.runInContext(()=>Me(A,y))).pipe(Pe())}));return(0,ie.of)(M).pipe(or())}(y,M.route,_))),Pe(M=>!0!==M,!0))}(C,H,y,A):(0,ie.of)(Me)),(0,ft.T)(Me=>({..._,guardsResult:Me})))})}(this.environmentInjector,Re=>this.events.next(Re)),(0,ct.M)(Re=>{if(H.guardsResult=Re.guardsResult,Ee(Re.guardsResult))throw _i(0,Re.guardsResult);const Tt=new ai(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot,!!Re.guardsResult);this.events.next(Tt)}),we(Re=>!!Re.guardsResult||(this.cancelNavigationTransition(Re,"",3),!1)),Tr(Re=>{if(Re.guards.canActivateChecks.length)return(0,ie.of)(Re).pipe((0,ct.M)(Tt=>{const Zt=new Ko(Tt.id,this.urlSerializer.serialize(Tt.extractedUrl),this.urlSerializer.serialize(Tt.urlAfterRedirects),Tt.targetSnapshot);this.events.next(Zt)}),(0,Yt.n)(Tt=>{let Zt=!1;return(0,ie.of)(Tt).pipe(function Ye(y,A){return(0,se.Z)(_=>{const{targetSnapshot:C,guards:{canActivateChecks:M}}=_;if(!M.length)return(0,ie.of)(_);let H=0;return(0,Z.H)(M).pipe(et(te=>function Bt(y,A,_,C){const M=y.routeConfig,H=y._resolve;return void 0!==M?.title&&!Cn(M)&&(H[Tn]=M.title),function rn(y,A,_,C){const M=function ar(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===M.length)return(0,ie.of)({});const H={};return(0,Z.H)(M).pipe((0,se.Z)(te=>function Hn(y,A,_,C){const M=is(A)??C,H=ne(y,M);return er(H.resolve?H.resolve(A,_):M.runInContext(()=>H(A,_)))}(y[te],A,_,C).pipe(Pe(),(0,ct.M)(Me=>{H[te]=Me}))),fn(1),function an(y){return(0,ft.T)(()=>y)}(H),gn(te=>Hi(te)?Xe.w:_t(te)))}(H,y,A,C).pipe((0,ft.T)(te=>(y._resolvedData=te,y.data=Bi(y,_).resolve,M&&Cn(M)&&(y.data[Tn]=M.title),null)))}(te.route,C,y,A)),(0,ct.M)(()=>H++),fn(1),(0,se.Z)(te=>H===M.length?(0,ie.of)(_):Xe.w))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,ct.M)({next:()=>Zt=!0,complete:()=>{Zt||this.cancelNavigationTransition(Tt,"",2)}}))}),(0,ct.M)(Tt=>{const Zt=new gu(Tt.id,this.urlSerializer.serialize(Tt.extractedUrl),this.urlSerializer.serialize(Tt.urlAfterRedirects),Tt.targetSnapshot);this.events.next(Zt)}))}),Tr(Re=>{const Tt=Zt=>{const Gn=[];Zt.routeConfig?.loadComponent&&!Zt.routeConfig._loadedComponent&&Gn.push(this.configLoader.loadComponent(Zt.routeConfig).pipe((0,ct.M)(jn=>{Zt.component=jn}),(0,ft.T)(()=>{})));for(const jn of Zt.children)Gn.push(...Tt(jn));return Gn};return ut(Tt(Re.targetSnapshot.root)).pipe(W(),yt(1))}),Tr(()=>this.afterPreactivation()),(0,ft.T)(Re=>{const Tt=function Di(y,A,_){const C=$i(y,A._root,_?_._root:void 0);return new ms(C,A)}(_.routeReuseStrategy,Re.targetSnapshot,Re.currentRouterState);return this.currentTransition=H={...Re,targetRouterState:Tt},H}),(0,ct.M)(()=>{this.events.next(new Us)}),((y,A,_,C)=>(0,ft.T)(M=>(new Fa(A,M.targetRouterState,M.currentRouterState,_,C).activate(y),M)))(this.rootContexts,_.routeReuseStrategy,Re=>this.events.next(Re),this.inputBindingEnabled),yt(1),(0,ct.M)({next:Re=>{te=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vn(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects))),_.titleStrategy?.updateTitle(Re.targetRouterState.snapshot),Re.resolve(!0)},complete:()=>{te=!0}}),function Ze(y){return(0,Dn.N)((A,_)=>{(0,Qe.Tg)(y).subscribe((0,at._)(_,()=>_.complete(),Zn.l)),!_.closed&&A.subscribe(_)})}(this.transitionAbortSubject.pipe((0,ct.M)(Re=>{throw Re}))),Dr(()=>{te||Me||this.cancelNavigationTransition(H,"",1),this.currentNavigation?.id===H.id&&(this.currentNavigation=null)}),gn(Re=>{if(Me=!0,yi(Re))this.events.next(new Nr(H.id,this.urlSerializer.serialize(H.extractedUrl),Re.message,Re.cancellationCode)),function Ys(y){return yi(y)&&Ee(y.url)}(Re)?this.events.next(new Xs(Re.url)):H.resolve(!1);else{this.events.next(new pn(H.id,this.urlSerializer.serialize(H.extractedUrl),Re,H.targetSnapshot??void 0));try{H.resolve(_.errorHandler(Re))}catch(Tt){H.reject(Tt)}}return Xe.w}))}))}cancelNavigationTransition(_,C,M){const H=new Nr(_.id,this.urlSerializer.serialize(_.extractedUrl),C,M);this.events.next(H),_.resolve(!1)}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=R.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function Rs(y){return y!==Ni}let io=(()=>{class y{buildTitle(_){let C,M=_.root;for(;void 0!==M;)C=this.getResolvedTitleForRoute(M)??C,M=M.children.find(H=>H.outlet===Jt);return C}getResolvedTitleForRoute(_){return _.data[Tn]}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=R.jDH({token:y,factory:function(){return(0,R.WQX)(vs)},providedIn:"root"})}}return y})(),vs=(()=>{class y extends io{constructor(_){super(),this.title=_}updateTitle(_){const C=this.buildTitle(_);void 0!==C&&this.title.setTitle(C)}static{this.\u0275fac=function(C){return new(C||y)(R.KVO(Lr.hE))}}static{this.\u0275prov=R.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})(),Ba=(()=>{class y{static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=R.jDH({token:y,factory:function(){return(0,R.WQX)(Jc)},providedIn:"root"})}}return y})();class mu{shouldDetach(A){return!1}store(A,_){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,_){return A.routeConfig===_.routeConfig}}let Jc=(()=>{class y extends mu{static{this.\u0275fac=function(){let _;return function(M){return(_||(_=R.xGo(y)))(M||y)}}()}static{this.\u0275prov=R.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();const ja=new R.nKC("",{providedIn:"root",factory:()=>({})});let el=(()=>{class y{static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=R.jDH({token:y,factory:function(){return(0,R.WQX)(od)},providedIn:"root"})}}return y})(),od=(()=>{class y{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,C){return _}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=R.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();var Pr=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(Pr||{});function zn(y,A){y.events.pipe(we(_=>_ instanceof Vn||_ instanceof Nr||_ instanceof pn||_ instanceof cr),(0,ft.T)(_=>_ instanceof Vn||_ instanceof cr?Pr.COMPLETE:_ instanceof Nr&&(0===_.code||1===_.code)?Pr.REDIRECTING:Pr.FAILED),we(_=>_!==Pr.REDIRECTING),yt(1)).subscribe(()=>{A()})}function tl(y){throw y}function so(y,A,_){return A.parse("/")}const _u={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bn=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,R.WQX)(R.H3F),this.isNgZoneEnabled=!1,this._events=new ye.B,this.options=(0,R.WQX)(ja,{optional:!0})||{},this.pendingTasks=(0,R.WQX)(R.$K3),this.errorHandler=this.options.errorHandler||tl,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||so,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,R.WQX)(el),this.routeReuseStrategy=(0,R.WQX)(Ba),this.titleStrategy=(0,R.WQX)(io),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,R.WQX)(Qn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,R.WQX)(Gr),this.urlSerializer=(0,R.WQX)(ur),this.location=(0,R.WQX)(Nt.aZ),this.componentInputBindingEnabled=!!(0,R.WQX)(ji,{optional:!0}),this.eventsSubscription=new Vt.yU,this.isNgZoneEnabled=(0,R.WQX)(R.SKi)instanceof R.SKi&&R.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Kn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Hr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(C=>{try{const{currentTransition:M}=this.navigationTransitions;if(null===M)return void($a(C)&&this._events.next(C));if(C instanceof po)Rs(M.source)&&(this.browserUrlTree=M.extractedUrl);else if(C instanceof cr)this.rawUrlTree=M.rawUrl;else if(C instanceof qo){if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(H,M)}this.browserUrlTree=M.urlAfterRedirects}}else if(C instanceof Us)this.currentUrlTree=M.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl),this.routerState=M.targetRouterState,"deferred"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,M),this.browserUrlTree=M.urlAfterRedirects);else if(C instanceof Nr)0!==C.code&&1!==C.code&&(this.navigated=!0),(3===C.code||2===C.code)&&this.restoreHistory(M);else if(C instanceof Xs){const H=this.urlHandlingStrategy.merge(C.url,M.currentRawUrl),te={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Rs(M.source)};this.scheduleNavigation(H,Ni,null,te,{resolve:M.resolve,reject:M.reject,promise:M.promise})}C instanceof pn&&this.restoreHistory(M,!0),C instanceof Vn&&(this.navigated=!0),$a(C)&&this._events.next(C)}catch(M){this.navigationTransitions.transitionAbortSubject.next(M)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ni,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const C="popstate"===_.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,C,_.state)},0)}))}navigateToSyncWithBrowser(_,C,M){const H={replaceUrl:!0},te=M?.navigationId?M:null;if(M){const Re={...M};delete Re.navigationId,delete Re.\u0275routerPageId,0!==Object.keys(Re).length&&(H.state=Re)}const Me=this.parseUrl(_);this.scheduleNavigation(Me,C,te,H)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(ya),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,C={}){const{relativeTo:M,queryParams:H,fragment:te,queryParamsHandling:Me,preserveFragment:Re}=C,Tt=Re?this.currentUrlTree.fragment:te;let Gn,Zt=null;switch(Me){case"merge":Zt={...this.currentUrlTree.queryParams,...H};break;case"preserve":Zt=this.currentUrlTree.queryParams;break;default:Zt=H||null}null!==Zt&&(Zt=this.removeEmptyProps(Zt));try{Gn=Et(M?M.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),Gn=this.currentUrlTree.root}return Qt(Gn,_,Zt,Tt??null)}navigateByUrl(_,C={skipLocationChange:!1}){const M=Ee(_)?_:this.parseUrl(_),H=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(H,Ni,null,C)}navigate(_,C={skipLocationChange:!1}){return function nc(y){for(let A=0;A<y.length;A++)if(null==y[A])throw new R.wOt(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,C),C)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let C;try{C=this.urlSerializer.parse(_)}catch(M){C=this.malformedUriErrorHandler(M,this.urlSerializer,_)}return C}isActive(_,C){let M;if(M=!0===C?{..._u}:!1===C?{...nl}:C,Ee(_))return mn(this.currentUrlTree,_,M);const H=this.parseUrl(_);return mn(this.currentUrlTree,H,M)}removeEmptyProps(_){return Object.keys(_).reduce((C,M)=>{const H=_[M];return null!=H&&(C[M]=H),C},{})}scheduleNavigation(_,C,M,H,te){if(this.disposed)return Promise.resolve(!1);let Me,Re,Tt;te?(Me=te.resolve,Re=te.reject,Tt=te.promise):Tt=new Promise((Gn,jn)=>{Me=Gn,Re=jn});const Zt=this.pendingTasks.add();return zn(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Zt))}),this.navigationTransitions.handleNavigationRequest({source:C,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:_,extras:H,resolve:Me,reject:Re,promise:Tt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Tt.catch(Gn=>Promise.reject(Gn))}setBrowserUrl(_,C){const M=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(M)||C.extras.replaceUrl){const te={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId)};this.location.replaceState(M,"",te)}else{const H={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId+1)};this.location.go(M,"",H)}}restoreHistory(_,C=!1){if("computed"===this.canceledNavigationResolution){const H=this.currentPageId-this.browserPageId;0!==H?this.location.historyGo(H):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===H&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,C){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:C}:{navigationId:_}}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=R.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function $a(y){return!(y instanceof Us||y instanceof Xs)}let ii=(()=>{class y{constructor(_,C,M,H,te,Me){this.router=_,this.route=C,this.tabIndexAttribute=M,this.renderer=H,this.el=te,this.locationStrategy=Me,this.href=null,this.commands=null,this.onChanges=new ye.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Re=te.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Re||"area"===Re,this.isAnchorElement?this.subscription=_.events.subscribe(Tt=>{Tt instanceof Vn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,C,M,H,te){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||C||M||H||te||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,R.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,C){const M=this.renderer,H=this.el.nativeElement;null!==C?M.setAttribute(H,_,C):M.removeAttribute(H,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(C){return new(C||y)(R.rXU(Bn),R.rXU(Ui),R.kS0("tabindex"),R.rXU(R.sFG),R.rXU(R.aKT),R.rXU(Nt.hb))}}static{this.\u0275dir=R.FsC({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,M){1&C&&R.bIt("click",function(te){return M.onClick(te.button,te.ctrlKey,te.shiftKey,te.altKey,te.metaKey)}),2&C&&R.BMQ("target",M.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",R.L39],skipLocationChange:["skipLocationChange","skipLocationChange",R.L39],replaceUrl:["replaceUrl","replaceUrl",R.L39],routerLink:"routerLink"},standalone:!0,features:[R.GFd,R.OA$]})}}return y})(),Ps=(()=>{class y{get isActive(){return this._isActive}constructor(_,C,M,H,te){this.router=_,this.element=C,this.renderer=M,this.cdr=H,this.link=te,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new R.bkB,this.routerEventsSubscription=_.events.subscribe(Me=>{Me instanceof Vn&&this.update()})}ngAfterContentInit(){(0,ie.of)(this.links.changes,(0,ie.of)(null)).pipe((0,Yn.U)()).subscribe(_=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const _=[...this.links.toArray(),this.link].filter(C=>!!C).map(C=>C.onChanges);this.linkInputChangesSubscription=(0,Z.H)(_).pipe((0,Yn.U)()).subscribe(C=>{this._isActive!==this.isLinkActive(this.router)(C)&&this.update()})}set routerLinkActive(_){const C=Array.isArray(_)?_:_.split(" ");this.classes=C.filter(M=>!!M)}ngOnChanges(_){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const _=this.hasActiveLinks();this._isActive!==_&&(this._isActive=_,this.cdr.markForCheck(),this.classes.forEach(C=>{_?this.renderer.addClass(this.element.nativeElement,C):this.renderer.removeClass(this.element.nativeElement,C)}),_&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(_))})}isLinkActive(_){const C=function Po(y){return!!y.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return M=>!!M.urlTree&&_.isActive(M.urlTree,C)}hasActiveLinks(){const _=this.isLinkActive(this.router);return this.link&&_(this.link)||this.links.some(_)}static{this.\u0275fac=function(C){return new(C||y)(R.rXU(Bn),R.rXU(R.aKT),R.rXU(R.sFG),R.rXU(R.gRc),R.rXU(ii,8))}}static{this.\u0275dir=R.FsC({type:y,selectors:[["","routerLinkActive",""]],contentQueries:function(C,M,H){if(1&C&&R.wni(H,ii,5),2&C){let te;R.mGM(te=R.lsd())&&(M.links=te)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[R.OA$]})}}return y})();class oo{}let ud=(()=>{class y{constructor(_,C,M,H,te){this.router=_,this.injector=M,this.preloadingStrategy=H,this.loader=te}setUpPreloading(){this.subscription=this.router.events.pipe(we(_=>_ instanceof Vn),et(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,C){const M=[];for(const H of C){H.providers&&!H._injector&&(H._injector=(0,R.Ol2)(H.providers,_,`Route: ${H.path}`));const te=H._injector??_,Me=H._loadedInjector??te;(H.loadChildren&&!H._loadedRoutes&&void 0===H.canLoad||H.loadComponent&&!H._loadedComponent)&&M.push(this.preloadConfig(te,H)),(H.children||H._loadedRoutes)&&M.push(this.processRoutes(Me,H.children??H._loadedRoutes))}return(0,Z.H)(M).pipe((0,Yn.U)())}preloadConfig(_,C){return this.preloadingStrategy.preload(C,()=>{let M;M=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(_,C):(0,ie.of)(null);const H=M.pipe((0,se.Z)(te=>null===te?(0,ie.of)(void 0):(C._loadedRoutes=te.routes,C._loadedInjector=te.injector,this.processRoutes(te.injector??_,te.routes))));if(C.loadComponent&&!C._loadedComponent){const te=this.loader.loadComponent(C);return(0,Z.H)([H,te]).pipe((0,Yn.U)())}return H})}static{this.\u0275fac=function(C){return new(C||y)(R.KVO(Bn),R.KVO(R.Ql9),R.KVO(R.uvJ),R.KVO(oo),R.KVO(ri))}}static{this.\u0275prov=R.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();const yu=new R.nKC("");let mo=(()=>{class y{constructor(_,C,M,H,te={}){this.urlSerializer=_,this.transitions=C,this.viewportScroller=M,this.zone=H,this.options=te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},te.scrollPositionRestoration=te.scrollPositionRestoration||"disabled",te.anchorScrolling=te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof po?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof Vn?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof cr&&0===_.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof As&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,C){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new As(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(C){R.QTQ()}}static{this.\u0275prov=R.jDH({token:y,factory:y.\u0275fac})}}return y})();function _o(y,A){return{\u0275kind:y,\u0275providers:A}}function ea(){const y=(0,R.WQX)(R.zZn);return A=>{const _=y.get(R.o8S);if(A!==_.components[0])return;const C=y.get(Bn),M=y.get(il);1===y.get(sl)&&C.initialNavigation(),y.get(ao,null,R.$GK.Optional)?.setUpPreloading(),y.get(yu,null,R.$GK.Optional)?.init(),C.resetRootComponentType(_.componentTypes[0]),M.closed||(M.next(),M.complete(),M.unsubscribe())}}const il=new R.nKC("",{factory:()=>new ye.B}),sl=new R.nKC("",{providedIn:"root",factory:()=>1}),ao=new R.nKC("");function Ga(y){return _o(0,[{provide:ao,useExisting:ud},{provide:oo,useExisting:y}])}const Xn=new R.nKC("ROUTER_FORROOT_GUARD"),ac=[Nt.aZ,{provide:ur,useClass:ps},Bn,ts,{provide:Ui,useFactory:function Ha(y){return y.routerState.root},deps:[Bn]},ri,[]];function uc(){return new R.NEm("Router",Bn)}let Si=(()=>{class y{constructor(_){}static forRoot(_,C){return{ngModule:y,providers:[ac,[],{provide:Qn,multi:!0,useValue:_},{provide:Xn,useFactory:ta,deps:[[Bn,new R.Xx1,new R.kdw]]},{provide:ja,useValue:C||{}},C?.useHash?{provide:Nt.hb,useClass:Nt.fw}:{provide:Nt.hb,useClass:Nt.Sm},{provide:yu,useFactory:()=>{const y=(0,R.WQX)(Nt.Xr),A=(0,R.WQX)(R.SKi),_=(0,R.WQX)(ja),C=(0,R.WQX)(Gr),M=(0,R.WQX)(ur);return _.scrollOffset&&y.setOffset(_.scrollOffset),new mo(M,C,y,A,_)}},C?.preloadingStrategy?Ga(C.preloadingStrategy).\u0275providers:[],{provide:R.NEm,multi:!0,useFactory:uc},C?.initialNavigation?wa(C):[],C?.bindToComponentInputs?_o(8,[fr,{provide:ji,useExisting:fr}]).\u0275providers:[],[{provide:Wa,useFactory:ea},{provide:R.iLQ,multi:!0,useExisting:Wa}]]}}static forChild(_){return{ngModule:y,providers:[{provide:Qn,multi:!0,useValue:_}]}}static{this.\u0275fac=function(C){return new(C||y)(R.KVO(Xn,8))}}static{this.\u0275mod=R.$C({type:y})}static{this.\u0275inj=R.G2t({})}}return y})();function ta(y){return"guarded"}function wa(y){return["disabled"===y.initialNavigation?_o(3,[{provide:R.hnV,multi:!0,useFactory:()=>{const A=(0,R.WQX)(Bn);return()=>{A.setUpLocationChangeListener()}}},{provide:sl,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?_o(2,[{provide:sl,useValue:0},{provide:R.hnV,multi:!0,deps:[R.zZn],useFactory:A=>{const _=A.get(Nt.hj,Promise.resolve());return()=>_.then(()=>new Promise(C=>{const M=A.get(Bn),H=A.get(il);zn(M,()=>{C(!0)}),A.get(Gr).afterPreactivation=()=>(C(!0),H.closed?(0,ie.of)(void 0):H),M.initialNavigation()}))}}]).\u0275providers:[]]}const Wa=new R.nKC("")},7852:(Xt,nt,X)=>{X.d(nt,{MF:()=>Fi,j6:()=>Qs,xZ:()=>wi,om:()=>mn,Sx:()=>ur,Dk:()=>ps,Wp:()=>he,KO:()=>j});var R=X(467),fe=X(1362),$e=X(8041),Ve=X(1076);const Z=(Fe,Ee)=>Ee.some(Ke=>Fe instanceof Ke);let ie,Ae;const oe=new WeakMap,de=new WeakMap,Le=new WeakMap,at=new WeakMap,He=new WeakMap;let Ft={get(Fe,Ee,Ke){if(Fe instanceof IDBTransaction){if("done"===Ee)return de.get(Fe);if("objectStoreNames"===Ee)return Fe.objectStoreNames||Le.get(Fe);if("store"===Ee)return Ke.objectStoreNames[1]?void 0:Ke.objectStore(Ke.objectStoreNames[0])}return ze(Fe[Ee])},set:(Fe,Ee,Ke)=>(Fe[Ee]=Ke,!0),has:(Fe,Ee)=>Fe instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in Fe};function Yn(Fe){return"function"==typeof Fe?function An(Fe){return Fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function We(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Fe)?function(...Ee){return Fe.apply(st(this),Ee),ze(oe.get(this))}:function(...Ee){return ze(Fe.apply(st(this),Ee))}:function(Ee,...Ke){const Et=Fe.call(st(this),Ee,...Ke);return Le.set(Et,Ee.sort?Ee.sort():[Ee]),ze(Et)}}(Fe):(Fe instanceof IDBTransaction&&function Dt(Fe){if(de.has(Fe))return;const Ee=new Promise((Ke,Et)=>{const Qt=()=>{Fe.removeEventListener("complete",$t),Fe.removeEventListener("error",on),Fe.removeEventListener("abort",on)},$t=()=>{Ke(),Qt()},on=()=>{Et(Fe.error||new DOMException("AbortError","AbortError")),Qt()};Fe.addEventListener("complete",$t),Fe.addEventListener("error",on),Fe.addEventListener("abort",on)});de.set(Fe,Ee)}(Fe),Z(Fe,function vt(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Fe,Ft):Fe)}function ze(Fe){if(Fe instanceof IDBRequest)return function ut(Fe){const Ee=new Promise((Ke,Et)=>{const Qt=()=>{Fe.removeEventListener("success",$t),Fe.removeEventListener("error",on)},$t=()=>{Ke(ze(Fe.result)),Qt()},on=()=>{Et(Fe.error),Qt()};Fe.addEventListener("success",$t),Fe.addEventListener("error",on)});return Ee.then(Ke=>{Ke instanceof IDBCursor&&oe.set(Ke,Fe)}).catch(()=>{}),He.set(Ee,Fe),Ee}(Fe);if(at.has(Fe))return at.get(Fe);const Ee=Yn(Fe);return Ee!==Fe&&(at.set(Fe,Ee),He.set(Ee,Fe)),Ee}const st=Fe=>He.get(Fe),Mt=["get","getKey","getAll","getAllKeys","count"],_t=["put","add","delete","clear"],Xe=new Map;function Vt(Fe,Ee){if(!(Fe instanceof IDBDatabase)||Ee in Fe||"string"!=typeof Ee)return;if(Xe.get(Ee))return Xe.get(Ee);const Ke=Ee.replace(/FromIndex$/,""),Et=Ee!==Ke,Qt=_t.includes(Ke);if(!(Ke in(Et?IDBIndex:IDBObjectStore).prototype)||!Qt&&!Mt.includes(Ke))return;const $t=function(){var on=(0,R.A)(function*(Fn,...xn){const cn=this.transaction(Fn,Qt?"readwrite":"readonly");let yr=cn.store;return Et&&(yr=yr.index(xn.shift())),(yield Promise.all([yr[Ke](...xn),Qt&&cn.done]))[0]});return function(xn){return on.apply(this,arguments)}}();return Xe.set(Ee,$t),$t}!function Kt(Fe){Ft=Fe(Ft)}(Fe=>({...Fe,get:(Ee,Ke,Et)=>Vt(Ee,Ke)||Fe.get(Ee,Ke,Et),has:(Ee,Ke)=>!!Vt(Ee,Ke)||Fe.has(Ee,Ke)}));class Dn{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(Ke=>{if(function kr(Fe){const Ee=Fe.getComponent();return"VERSION"===Ee?.type}(Ke)){const Et=Ke.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(Ke=>Ke).join(" ")}}const ot="@firebase/app",ye="0.10.13",Nt=new $e.Vy("@firebase/app"),un="[DEFAULT]",En={[ot]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ht=new Map,kn=new Map,er=new Map;function nr(Fe,Ee){try{Fe.container.addComponent(Ee)}catch(Ke){Nt.debug(`Component ${Ee.name} failed to register with FirebaseApp ${Fe.name}`,Ke)}}function mn(Fe){const Ee=Fe.name;if(er.has(Ee))return Nt.debug(`There were multiple attempts to register component ${Ee}.`),!1;er.set(Ee,Fe);for(const Ke of ht.values())nr(Ke,Fe);for(const Ke of kn.values())nr(Ke,Fe);return!0}function Qs(Fe,Ee){const Ke=Fe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ke&&Ke.triggerHeartbeat(),Fe.container.getProvider(Ee)}function wi(Fe){return void 0!==Fe.settings}const Kn=new Ve.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class jt{constructor(Ee,Ke,Et){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},Ke),this._name=Ke.name,this._automaticDataCollectionEnabled=Ke.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new fe.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}const Fi="10.14.1";function he(Fe,Ee={}){let Ke=Fe;"object"!=typeof Ee&&(Ee={name:Ee});const Et=Object.assign({name:un,automaticDataCollectionEnabled:!1},Ee),Qt=Et.name;if("string"!=typeof Qt||!Qt)throw Kn.create("bad-app-name",{appName:String(Qt)});if(Ke||(Ke=(0,Ve.T9)()),!Ke)throw Kn.create("no-options");const $t=ht.get(Qt);if($t){if((0,Ve.bD)(Ke,$t.options)&&(0,Ve.bD)(Et,$t.config))return $t;throw Kn.create("duplicate-app",{appName:Qt})}const on=new fe.h1(Qt);for(const xn of er.values())on.addComponent(xn);const Fn=new jt(Ke,Et,on);return ht.set(Qt,Fn),Fn}function ur(Fe=un){const Ee=ht.get(Fe);if(!Ee&&Fe===un&&(0,Ve.T9)())return he();if(!Ee)throw Kn.create("no-app",{appName:Fe});return Ee}function ps(){return Array.from(ht.values())}function j(Fe,Ee,Ke){var Et;let Qt=null!==(Et=En[Fe])&&void 0!==Et?Et:Fe;Ke&&(Qt+=`-${Ke}`);const $t=Qt.match(/\s|\//),on=Ee.match(/\s|\//);if($t||on){const Fn=[`Unable to register library "${Qt}" with version "${Ee}":`];return $t&&Fn.push(`library name "${Qt}" contains illegal characters (whitespace or "/")`),$t&&on&&Fn.push("and"),on&&Fn.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void Nt.warn(Fn.join(" "))}mn(new fe.uA(`${Qt}-version`,()=>({library:Qt,version:Ee}),"VERSION"))}const ue="firebase-heartbeat-database",ce=1,Ge="firebase-heartbeat-store";let It=null;function bt(){return It||(It=function Qe(Fe,Ee,{blocked:Ke,upgrade:Et,blocking:Qt,terminated:$t}={}){const on=indexedDB.open(Fe,Ee),Fn=ze(on);return Et&&on.addEventListener("upgradeneeded",xn=>{Et(ze(on.result),xn.oldVersion,xn.newVersion,ze(on.transaction),xn)}),Ke&&on.addEventListener("blocked",xn=>Ke(xn.oldVersion,xn.newVersion,xn)),Fn.then(xn=>{$t&&xn.addEventListener("close",()=>$t()),Qt&&xn.addEventListener("versionchange",cn=>Qt(cn.oldVersion,cn.newVersion,cn))}).catch(()=>{}),Fn}(ue,ce,{upgrade:(Fe,Ee)=>{if(0===Ee)try{Fe.createObjectStore(Ge)}catch(Ke){console.warn(Ke)}}}).catch(Fe=>{throw Kn.create("idb-open",{originalErrorMessage:Fe.message})})),It}function tn(){return(tn=(0,R.A)(function*(Fe){try{const Ke=(yield bt()).transaction(Ge),Et=yield Ke.objectStore(Ge).get(Xr(Fe));return yield Ke.done,Et}catch(Ee){if(Ee instanceof Ve.g)Nt.warn(Ee.message);else{const Ke=Kn.create("idb-get",{originalErrorMessage:Ee?.message});Nt.warn(Ke.message)}}})).apply(this,arguments)}function mr(Fe,Ee){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,R.A)(function*(Fe,Ee){try{const Et=(yield bt()).transaction(Ge,"readwrite");yield Et.objectStore(Ge).put(Ee,Xr(Fe)),yield Et.done}catch(Ke){if(Ke instanceof Ve.g)Nt.warn(Ke.message);else{const Et=Kn.create("idb-set",{originalErrorMessage:Ke?.message});Nt.warn(Et.message)}}})).apply(this,arguments)}function Xr(Fe){return`${Fe.name}!${Fe.options.appId}`}class ci{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const Ke=this.container.getProvider("app").getImmediate();this._storage=new ho(Ke),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var Ee=this;return(0,R.A)(function*(){var Ke,Et;try{const $t=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),on=ws();return null==(null===(Ke=Ee._heartbeatsCache)||void 0===Ke?void 0:Ke.heartbeats)&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise,null==(null===(Et=Ee._heartbeatsCache)||void 0===Et?void 0:Et.heartbeats))||Ee._heartbeatsCache.lastSentHeartbeatDate===on||Ee._heartbeatsCache.heartbeats.some(Fn=>Fn.date===on)?void 0:(Ee._heartbeatsCache.heartbeats.push({date:on,agent:$t}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(Fn=>{const xn=new Date(Fn.date).valueOf();return Date.now()-xn<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache))}catch(Qt){Nt.warn(Qt)}})()}getHeartbeatsHeader(){var Ee=this;return(0,R.A)(function*(){var Ke;try{if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null==(null===(Ke=Ee._heartbeatsCache)||void 0===Ke?void 0:Ke.heartbeats)||0===Ee._heartbeatsCache.heartbeats.length)return"";const Et=ws(),{heartbeatsToSend:Qt,unsentEntries:$t}=function xr(Fe,Ee=1024){const Ke=[];let Et=Fe.slice();for(const Qt of Fe){const $t=Ke.find(on=>on.agent===Qt.agent);if($t){if($t.dates.push(Qt.date),Ln(Ke)>Ee){$t.dates.pop();break}}else if(Ke.push({agent:Qt.agent,dates:[Qt.date]}),Ln(Ke)>Ee){Ke.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:Ke,unsentEntries:Et}}(Ee._heartbeatsCache.heartbeats),on=(0,Ve.Uj)(JSON.stringify({version:2,heartbeats:Qt}));return Ee._heartbeatsCache.lastSentHeartbeatDate=Et,$t.length>0?(Ee._heartbeatsCache.heartbeats=$t,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),on}catch(Et){return Nt.warn(Et),""}})()}}function ws(){return(new Date).toISOString().substring(0,10)}class ho{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,R.A)(function*(){return!!(0,Ve.zW)()&&(0,Ve.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,R.A)(function*(){if(yield Ee._canUseIndexedDBPromise){const Et=yield function en(Fe){return tn.apply(this,arguments)}(Ee.app);return Et?.heartbeats?Et:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ee){var Ke=this;return(0,R.A)(function*(){var Et;if(yield Ke._canUseIndexedDBPromise){const $t=yield Ke.read();return mr(Ke.app,{lastSentHeartbeatDate:null!==(Et=Ee.lastSentHeartbeatDate)&&void 0!==Et?Et:$t.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var Ke=this;return(0,R.A)(function*(){var Et;if(yield Ke._canUseIndexedDBPromise){const $t=yield Ke.read();return mr(Ke.app,{lastSentHeartbeatDate:null!==(Et=Ee.lastSentHeartbeatDate)&&void 0!==Et?Et:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...Ee.heartbeats]})}})()}}function Ln(Fe){return(0,Ve.Uj)(JSON.stringify({version:2,heartbeats:Fe})).length}!function Yi(Fe){mn(new fe.uA("platform-logger",Ee=>new Dn(Ee),"PRIVATE")),mn(new fe.uA("heartbeat",Ee=>new ci(Ee),"PRIVATE")),j(ot,ye,Fe),j(ot,ye,"esm2017"),j("fire-js","")}("")},1362:(Xt,nt,X)=>{X.d(nt,{h1:()=>vt,uA:()=>$e});var R=X(467),fe=X(1076);class $e{constructor(oe,de,Le){this.name=oe,this.instanceFactory=de,this.type=Le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const Ve="[DEFAULT]";class Z{constructor(oe,de){this.name=oe,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const de=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(de)){const Le=new fe.cY;if(this.instancesDeferred.set(de,Le),this.isInitialized(de)||this.shouldAutoInitialize())try{const at=this.getOrInitializeService({instanceIdentifier:de});at&&Le.resolve(at)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(oe){var de;const Le=this.normalizeInstanceIdentifier(oe?.identifier),at=null!==(de=oe?.optional)&&void 0!==de&&de;if(!this.isInitialized(Le)&&!this.shouldAutoInitialize()){if(at)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Le})}catch(He){if(at)return null;throw He}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if(function Ae(We){return"EAGER"===We.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:Ve})}catch{}for(const[de,Le]of this.instancesDeferred.entries()){const at=this.normalizeInstanceIdentifier(de);try{const He=this.getOrInitializeService({instanceIdentifier:at});Le.resolve(He)}catch{}}}}clearInstance(oe=Ve){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,R.A)(function*(){const de=Array.from(oe.instances.values());yield Promise.all([...de.filter(Le=>"INTERNAL"in Le).map(Le=>Le.INTERNAL.delete()),...de.filter(Le=>"_delete"in Le).map(Le=>Le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=Ve){return this.instances.has(oe)}getOptions(oe=Ve){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:de={}}=oe,Le=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(Le))throw Error(`${this.name}(${Le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const at=this.getOrInitializeService({instanceIdentifier:Le,options:de});for(const[He,ut]of this.instancesDeferred.entries())Le===this.normalizeInstanceIdentifier(He)&&ut.resolve(at);return at}onInit(oe,de){var Le;const at=this.normalizeInstanceIdentifier(de),He=null!==(Le=this.onInitCallbacks.get(at))&&void 0!==Le?Le:new Set;He.add(oe),this.onInitCallbacks.set(at,He);const ut=this.instances.get(at);return ut&&oe(ut,at),()=>{He.delete(oe)}}invokeOnInitCallbacks(oe,de){const Le=this.onInitCallbacks.get(de);if(Le)for(const at of Le)try{at(oe,de)}catch{}}getOrInitializeService({instanceIdentifier:oe,options:de={}}){let Le=this.instances.get(oe);if(!Le&&this.component&&(Le=this.component.instanceFactory(this.container,{instanceIdentifier:(We=oe,We===Ve?void 0:We),options:de}),this.instances.set(oe,Le),this.instancesOptions.set(oe,de),this.invokeOnInitCallbacks(Le,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,Le)}catch{}var We;return Le||null}normalizeInstanceIdentifier(oe=Ve){return this.component?this.component.multipleInstances?oe:Ve:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class vt{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const de=this.getProvider(oe.name);if(de.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);de.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const de=new Z(oe,this);return this.providers.set(oe,de),de}getProviders(){return Array.from(this.providers.values())}}},8041:(Xt,nt,X)=>{X.d(nt,{$b:()=>fe,Vy:()=>Ae});const R=[];var fe=function(oe){return oe[oe.DEBUG=0]="DEBUG",oe[oe.VERBOSE=1]="VERBOSE",oe[oe.INFO=2]="INFO",oe[oe.WARN=3]="WARN",oe[oe.ERROR=4]="ERROR",oe[oe.SILENT=5]="SILENT",oe}(fe||{});const $e={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},Ve=fe.INFO,Z={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},ie=(oe,de,...Le)=>{if(de<oe.logLevel)return;const at=(new Date).toISOString(),He=Z[de];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[He](`[${at}]  ${oe.name}:`,...Le)};class Ae{constructor(de){this.name=de,this._logLevel=Ve,this._logHandler=ie,this._userLogHandler=null,R.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in fe))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?$e[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...de),this._logHandler(this,fe.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...de),this._logHandler(this,fe.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...de),this._logHandler(this,fe.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...de),this._logHandler(this,fe.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...de),this._logHandler(this,fe.ERROR,...de)}}},2214:(Xt,nt,X)=>{X.d(nt,{Dk:()=>R.Dk,KO:()=>R.KO,Sx:()=>R.Sx,Wp:()=>R.Wp});var R=X(7852);(0,R.KO)("firebase","10.14.1","app")},467:(Xt,nt,X)=>{function R($e,Ve,Z,ie,Ae,vt,We){try{var oe=$e[vt](We),de=oe.value}catch(Le){return void Z(Le)}oe.done?Ve(de):Promise.resolve(de).then(ie,Ae)}function fe($e){return function(){var Ve=this,Z=arguments;return new Promise(function(ie,Ae){var vt=$e.apply(Ve,Z);function We(de){R(vt,ie,Ae,We,oe,"next",de)}function oe(de){R(vt,ie,Ae,We,oe,"throw",de)}We(void 0)})}}X.d(nt,{A:()=>fe})},1635:(Xt,nt,X)=>{function Ve(we,se){var W={};for(var Q in we)Object.prototype.hasOwnProperty.call(we,Q)&&se.indexOf(Q)<0&&(W[Q]=we[Q]);if(null!=we&&"function"==typeof Object.getOwnPropertySymbols){var Ie=0;for(Q=Object.getOwnPropertySymbols(we);Ie<Q.length;Ie++)se.indexOf(Q[Ie])<0&&Object.prototype.propertyIsEnumerable.call(we,Q[Ie])&&(W[Q[Ie]]=we[Q[Ie]])}return W}function Le(we,se,W,Q){return new(W||(W=Promise))(function(Pe,et){function ct(Mn){try{Ht(Q.next(Mn))}catch(fn){et(fn)}}function gn(Mn){try{Ht(Q.throw(Mn))}catch(fn){et(fn)}}function Ht(Mn){Mn.done?Pe(Mn.value):function Ie(Pe){return Pe instanceof W?Pe:new W(function(et){et(Pe)})}(Mn.value).then(ct,gn)}Ht((Q=Q.apply(we,se||[])).next())})}function ze(we){return this instanceof ze?(this.v=we,this):new ze(we)}function st(we,se,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,Q=W.apply(we,se||[]),Pe=[];return Ie=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),ct("next"),ct("throw"),ct("return",function et(an){return function(Dr){return Promise.resolve(Dr).then(an,fn)}}),Ie[Symbol.asyncIterator]=function(){return this},Ie;function ct(an,Dr){Q[an]&&(Ie[an]=function(Zn){return new Promise(function(Ze,Lr){Pe.push([an,Zn,Ze,Lr])>1||gn(an,Zn)})},Dr&&(Ie[an]=Dr(Ie[an])))}function gn(an,Dr){try{!function Ht(an){an.value instanceof ze?Promise.resolve(an.value.v).then(Mn,fn):fi(Pe[0][2],an)}(Q[an](Dr))}catch(Zn){fi(Pe[0][3],Zn)}}function Mn(an){gn("next",an)}function fn(an){gn("throw",an)}function fi(an,Dr){an(Dr),Pe.shift(),Pe.length&&gn(Pe[0][0],Pe[0][1])}}function At(we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,se=we[Symbol.asyncIterator];return se?se.call(we):(we=function Dt(we){var se="function"==typeof Symbol&&Symbol.iterator,W=se&&we[se],Q=0;if(W)return W.call(we);if(we&&"number"==typeof we.length)return{next:function(){return we&&Q>=we.length&&(we=void 0),{value:we&&we[Q++],done:!we}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(we),W={},Q("next"),Q("throw"),Q("return"),W[Symbol.asyncIterator]=function(){return this},W);function Q(Pe){W[Pe]=we[Pe]&&function(et){return new Promise(function(ct,gn){!function Ie(Pe,et,ct,gn){Promise.resolve(gn).then(function(Ht){Pe({value:Ht,done:ct})},et)}(ct,gn,(et=we[Pe](et)).done,et.value)})}}}X.d(nt,{AQ:()=>st,N3:()=>ze,Tt:()=>Ve,sH:()=>Le,xN:()=>At}),"function"==typeof SuppressedError&&SuppressedError}},Xt=>{Xt(Xt.s=1599)}]);